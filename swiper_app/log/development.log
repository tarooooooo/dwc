Started GET "/" for 127.0.0.1 at 2024-05-05 11:38:05 +0900
  [1m[35m (1.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate RAILS_ENV=development

You have 6 pending migrations:

20210727092511_devise_create_users.rb
20210727093149_create_books.rb
20211021071114_create_active_storage_tables.active_storage.rb
20211025075243_create_favorites.rb
20211026011801_create_book_comments.rb
20211026033556_create_relationships.rb


):
  
activerecord (6.1.4) lib/active_record/migration.rb:625:in `check_pending!'
activerecord (6.1.4) lib/active_record/migration.rb:590:in `block (2 levels) in call'
activesupport (6.1.4) lib/active_support/evented_file_update_checker.rb:59:in `execute'
activerecord (6.1.4) lib/active_record/migration.rb:595:in `block in call'
activerecord (6.1.4) lib/active_record/migration.rb:587:in `synchronize'
activerecord (6.1.4) lib/active_record/migration.rb:587:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.1.4) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (6.1.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.1.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.1.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.1.4) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (6.1.4) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (6.1.4) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (6.1.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.9) lib/rack/method_override.rb:24:in `call'
rack (2.2.9) lib/rack/runtime.rb:22:in `call'
activesupport (6.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/static.rb:24:in `call'
rack (2.2.9) lib/rack/sendfile.rb:110:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/host_authorization.rb:98:in `call'
rack-mini-profiler (2.3.4) lib/mini_profiler/profiler.rb:393:in `call'
webpacker (5.4.4) lib/webpacker/dev_server_proxy.rb:25:in `perform_request'
rack-proxy (0.7.7) lib/rack/proxy.rb:87:in `call'
railties (6.1.4) lib/rails/engine.rb:539:in `call'
puma (5.6.8) lib/puma/configuration.rb:252:in `call'
puma (5.6.8) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.8) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.8) lib/puma/request.rb:76:in `handle_request'
puma (5.6.8) lib/puma/server.rb:443:in `process_client'
puma (5.6.8) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to DeviseCreateUsers (20210727092511)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime, "remember_created_at" datetime, "name" varchar, "introduction" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20210727092511"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateBooks (20210727093149)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "books" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "body" text, "user_id" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20210727093149"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateActiveStorageTables (20211021071114)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar NOT NULL, "created_at" datetime NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20211021071114"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateFavorites (20211025075243)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "favorites" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "book_id" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20211025075243"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateBookComments (20211026011801)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "book_comments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "body" text, "user_id" integer, "book_id" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20211026011801"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateRelationships (20211026033556)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "relationships" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "follower_id" integer, "followed_id" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20211026033556"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2024-05-05 02:38:14.061120"], ["updated_at", "2024-05-05 02:38:14.061120"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for 127.0.0.1 at 2024-05-05 11:38:19 +0900
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by HomesController#top as HTML
  Rendering layout layouts/application.html.erb
  Rendering homes/top.html.erb within layouts/application
  Rendered homes/top.html.erb within layouts/application (Duration: 1.0ms | Allocations: 1193)
[Webpacker] Compiling...
[Webpacker] Compiled all packs in /Users/maedaryuutarou/RubymineProjects/bookers2_phase2_debug_rails6-main/public/packs
[Webpacker] Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-transform-private-property-in-object since the "loose" mode option was set to "true" for @babel/plugin-transform-class-properties.
The "loose" option must be the same for @babel/plugin-transform-class-properties, @babel/plugin-transform-private-methods and @babel/plugin-transform-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-transform-private-property-in-object", { "loose": true }]
to the "plugins" section of your Babel config.

If you already set the same 'loose' mode for these plugins in your config, it's possible that they are enabled multiple times with different options.
You can re-run Babel with the BABEL_SHOW_CONFIG_FOR environment variable to show the loaded configuration:
	npx cross-env BABEL_SHOW_CONFIG_FOR=/Users/maedaryuutarou/RubymineProjects/bookers2_phase2_debug_rails6-main/app/javascript/packs/application.js <your build command>
See https://babeljs.io/docs/configuration#print-effective-configs for more info.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-transform-private-methods since the "loose" mode option was set to "true" for @babel/plugin-transform-private-property-in-object.
The "loose" option must be the same for @babel/plugin-transform-class-properties, @babel/plugin-transform-private-methods and @babel/plugin-transform-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-transform-private-methods", { "loose": true }]
to the "plugins" section of your Babel config.

If you already set the same 'loose' mode for these plugins in your config, it's possible that they are enabled multiple times with different options.
You can re-run Babel with the BABEL_SHOW_CONFIG_FOR environment variable to show the loaded configuration:
	npx cross-env BABEL_SHOW_CONFIG_FOR=/Users/maedaryuutarou/RubymineProjects/bookers2_phase2_debug_rails6-main/app/javascript/packs/application.js <your build command>
See https://babeljs.io/docs/configuration#print-effective-configs for more info.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-transform-private-property-in-object since the "loose" mode option was set to "true" for @babel/plugin-transform-class-properties.
The "loose" option must be the same for @babel/plugin-transform-class-properties, @babel/plugin-transform-private-methods and @babel/plugin-transform-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-transform-private-property-in-object", { "loose": true }]
to the "plugins" section of your Babel config.

If you already set the same 'loose' mode for these plugins in your config, it's possible that they are enabled multiple times with different options.
You can re-run Babel with the BABEL_SHOW_CONFIG_FOR environment variable to show the loaded configuration:
	npx cross-env BABEL_SHOW_CONFIG_FOR=/Users/maedaryuutarou/RubymineProjects/bookers2_phase2_debug_rails6-main/app/javascript/channels/index.js <your build command>
See https://babeljs.io/docs/configuration#print-effective-configs for more info.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-transform-private-methods since the "loose" mode option was set to "true" for @babel/plugin-transform-private-property-in-object.
The "loose" option must be the same for @babel/plugin-transform-class-properties, @babel/plugin-transform-private-methods and @babel/plugin-transform-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-transform-private-methods", { "loose": true }]
to the "plugins" section of your Babel config.

If you already set the same 'loose' mode for these plugins in your config, it's possible that they are enabled multiple times with different options.
You can re-run Babel with the BABEL_SHOW_CONFIG_FOR environment variable to show the loaded configuration:
	npx cross-env BABEL_SHOW_CONFIG_FOR=/Users/maedaryuutarou/RubymineProjects/bookers2_phase2_debug_rails6-main/app/javascript/channels/index.js <your build command>
See https://babeljs.io/docs/configuration#print-effective-configs for more info.
DEPRECATION WARNING: Using / for division outside of calc() is deprecated and will be removed in Dart Sass 2.0.0.

Recommendation: math.div($spacer, 2) or calc($spacer / 2)

More info and automated migrator: https://sass-lang.com/d/slash-div

    ╷
302 │ $headings-margin-bottom:      $spacer / 2 !default;
    │                               ^^^^^^^^^^^
    ╵
    node_modules/bootstrap/scss/_variables.scss 302:31  @import
    node_modules/bootstrap/scss/bootstrap.scss 9:9      @import
    app/javascript/stylesheets/application.scss 1:9     root stylesheet

DEPRECATION WARNING: Using / for division outside of calc() is deprecated and will be removed in Dart Sass 2.0.0.

Recommendation: math.div($input-padding-y, 2) or calc($input-padding-y / 2)

More info and automated migrator: https://sass-lang.com/d/slash-div

    ╷
498 │ $input-height-inner-quarter:            add($input-line-height * .25em, $input-padding-y / 2) !default;
    │                                                                         ^^^^^^^^^^^^^^^^^^^^
    ╵
    node_modules/bootstrap/scss/_variables.scss 498:73  @import
    node_modules/bootstrap/scss/bootstrap.scss 9:9      @import
    app/javascript/stylesheets/application.scss 1:9     root stylesheet

DEPRECATION WARNING: Using / for division outside of calc() is deprecated and will be removed in Dart Sass 2.0.0.

Recommendation: math.div($custom-control-indicator-size, 2) or calc($custom-control-indicator-size / 2)

More info and automated migrator: https://sass-lang.com/d/slash-div

    ╷
568 │ $custom-switch-indicator-border-radius:         $custom-control-indicator-size / 2 !default;
    │                                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ╵
    node_modules/bootstrap/scss/_variables.scss 568:49  @import
    node_modules/bootstrap/scss/bootstrap.scss 9:9      @import
    app/javascript/stylesheets/application.scss 1:9     root stylesheet

DEPRECATION WARNING: Using / for division outside of calc() is deprecated and will be removed in Dart Sass 2.0.0.

Recommendation: math.div($spacer, 2) or calc($spacer / 2)

More info and automated migrator: https://sass-lang.com/d/slash-div

    ╷
713 │ $nav-divider-margin-y:              $spacer / 2 !default;
    │                                     ^^^^^^^^^^^
    ╵
    node_modules/bootstrap/scss/_variables.scss 713:37  @import
    node_modules/bootstrap/scss/bootstrap.scss 9:9      @import
    app/javascript/stylesheets/application.scss 1:9     root stylesheet

DEPRECATION WARNING: Using / for division outside of calc() is deprecated and will be removed in Dart Sass 2.0.0.

Recommendation: math.div($spacer, 2) or calc($spacer / 2)

More info and automated migrator: https://sass-lang.com/d/slash-div

    ╷
718 │ $navbar-padding-y:                  $spacer / 2 !default;
    │                                     ^^^^^^^^^^^
    ╵
    node_modules/bootstrap/scss/_variables.scss 718:37  @import
    node_modules/bootstrap/scss/bootstrap.scss 9:9      @import
    app/javascript/stylesheets/application.scss 1:9     root stylesheet

WARNING: 67 repetitive deprecation warnings omitted.


[Webpacker] Hash: 0db7d0c607d1ad36da73
Version: webpack 4.47.0
Time: 2415ms
Built at: 05/05/2024 11:38:23 AM
                                     Asset       Size       Chunks                         Chunk Names
    js/application-6d67e81400d8cc8cf230.js   2.88 MiB  application  [emitted] [immutable]  application
js/application-6d67e81400d8cc8cf230.js.map   3.07 MiB  application  [emitted] [dev]        application
                             manifest.json  364 bytes               [emitted]              
Entrypoint application = js/application-6d67e81400d8cc8cf230.js js/application-6d67e81400d8cc8cf230.js.map
[./app/javascript/channels sync recursive _channel\.js$] ./app/javascript/channels sync _channel\.js$ 160 bytes {application} [built]
[./app/javascript/channels/index.js] 211 bytes {application} [built]
[./app/javascript/packs/application.js] 684 bytes {application} [built]
[./app/javascript/stylesheets/application.scss] 664 bytes {application} [built]
[./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/sass-loader/dist/cjs.js?!./app/javascript/stylesheets/application.scss] ./node_modules/css-loader/dist/cjs.js??ref--6-1!./node_modules/postcss-loader/src??ref--6-2!./node_modules/sass-loader/dist/cjs.js??ref--6-3!./app/javascript/stylesheets/application.scss 1.01 MiB {application} [built]
[./node_modules/webpack/buildin/global.js] (webpack)/buildin/global.js 474 bytes {application} [built]
    + 12 hidden modules

  Rendered layouts/_header.html.erb (Duration: 2.0ms | Allocations: 902)
  Rendered layouts/_footer.html.erb (Duration: 0.3ms | Allocations: 129)
  Rendered layout layouts/application.html.erb (Duration: 3524.2ms | Allocations: 6549)
Completed 200 OK in 3537ms (Views: 3526.1ms | ActiveRecord: 0.0ms | Allocations: 15346)


Started GET "/" for 127.0.0.1 at 2024-05-05 11:38:25 +0900
Processing by HomesController#top as HTML
  Rendering layout layouts/application.html.erb
  Rendering homes/top.html.erb within layouts/application
  Rendered homes/top.html.erb within layouts/application (Duration: 0.1ms | Allocations: 119)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.2ms | Allocations: 243)
  Rendered layouts/_footer.html.erb (Duration: 0.0ms | Allocations: 38)
  Rendered layout layouts/application.html.erb (Duration: 3.4ms | Allocations: 2796)
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.0ms | Allocations: 3318)


Started GET "/users/sign_up" for 127.0.0.1 at 2024-05-05 11:38:26 +0900
Processing by Devise::RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (Duration: 0.5ms | Allocations: 244)
  Rendered devise/shared/_links.html.erb (Duration: 1.5ms | Allocations: 1031)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 13.8ms | Allocations: 7960)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.2ms | Allocations: 231)
  Rendered layouts/_footer.html.erb (Duration: 0.0ms | Allocations: 39)
  Rendered layout layouts/application.html.erb (Duration: 16.7ms | Allocations: 10720)
Completed 200 OK in 25ms (Views: 18.5ms | ActiveRecord: 0.3ms | Allocations: 18987)


Started POST "/users" for 127.0.0.1 at 2024-05-05 11:38:33 +0900
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"name"=>"aaadddd", "email"=>"test@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "aaadddd"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$12$lc0H7DKD.m0Km.gobHZUVu/7nVD2i.kbAHxmZ09f/lRbF8ngvFzSy"], ["name", "aaadddd"], ["created_at", "2024-05-05 02:38:34.454089"], ["updated_at", "2024-05-05 02:38:34.454089"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://127.0.0.1:3000/users/1
Completed 302 Found in 544ms (ActiveRecord: 0.7ms | Allocations: 11978)


Started GET "/users/1" for 127.0.0.1 at 2024-05-05 11:38:34 +0900
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:6:in `show'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "profile_image"], ["LIMIT", 1]]
  ↳ app/models/user.rb:35:in `get_profile_image'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/models/user.rb:37:in `get_profile_image'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = ? AND "users"."id" != ? LIMIT ?[0m  [["name", "aaadddd"], ["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:37:in `get_profile_image'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "profile_image"], ["LIMIT", 1]]
  ↳ app/models/user.rb:37:in `get_profile_image'
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "do1pt10hbchcvdvmo7zpm3gixesr"], ["filename", "default-image.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 4600], ["checksum", "KvooYj3dzIyrVB4LniYZgg=="], ["created_at", "2024-05-05 02:38:34.517335"]]
  ↳ app/models/user.rb:37:in `get_profile_image'
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "profile_image"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-05-05 02:38:34.518827"]]
  ↳ app/models/user.rb:37:in `get_profile_image'
  [1m[36mUser Update (0.0ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-05-05 02:38:34.519822"], ["id", 1]]
  ↳ app/models/user.rb:37:in `get_profile_image'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/models/user.rb:37:in `get_profile_image'
[36m  Disk Storage (0.3ms) [0m[32mUploaded file to key: do1pt10hbchcvdvmo7zpm3gixesr (checksum: KvooYj3dzIyrVB4LniYZgg==)[0m
[ActiveJob]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob]   ↳ app/models/user.rb:37:in `get_profile_image'
[ActiveJob] [ActiveStorage::AnalyzeJob] [49bf1abe-4a31-4a27-b91e-afc073a19c69] Performing ActiveStorage::AnalyzeJob (Job ID: 49bf1abe-4a31-4a27-b91e-afc073a19c69) from Inline(default) enqueued at 2024-05-05T02:38:34Z with arguments: #<GlobalID:0x000000010e20f580 @uri=#<URI::GID gid://bookers2/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [49bf1abe-4a31-4a27-b91e-afc073a19c69] [36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: do1pt10hbchcvdvmo7zpm3gixesr[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [49bf1abe-4a31-4a27-b91e-afc073a19c69]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [49bf1abe-4a31-4a27-b91e-afc073a19c69]   ↳ app/models/user.rb:37:in `get_profile_image'
[ActiveJob] [ActiveStorage::AnalyzeJob] [49bf1abe-4a31-4a27-b91e-afc073a19c69]   [1m[36mActiveStorage::Blob Update (0.3ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":300,\"height\":300,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [49bf1abe-4a31-4a27-b91e-afc073a19c69]   ↳ app/models/user.rb:37:in `get_profile_image'
[ActiveJob] [ActiveStorage::AnalyzeJob] [49bf1abe-4a31-4a27-b91e-afc073a19c69]   [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [49bf1abe-4a31-4a27-b91e-afc073a19c69]   ↳ app/models/user.rb:37:in `get_profile_image'
[ActiveJob] [ActiveStorage::AnalyzeJob] [49bf1abe-4a31-4a27-b91e-afc073a19c69] Performed ActiveStorage::AnalyzeJob (Job ID: 49bf1abe-4a31-4a27-b91e-afc073a19c69) from Inline(default) in 1618.83ms
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 49bf1abe-4a31-4a27-b91e-afc073a19c69) to Inline(default) with arguments: #<GlobalID:0x000000010e3dfba8 @uri=#<URI::GID gid://bookers2/ActiveStorage::Blob/1>>
  [1m[36mActiveStorage::VariantRecord Load (0.2ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 1], ["variation_digest", "VXMcpDD1eiFSFshVDBMIAfb8PB8="], ["LIMIT", 1]]
  ↳ app/models/user.rb:39:in `get_profile_image'
[36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: do1pt10hbchcvdvmo7zpm3gixesr[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/models/user.rb:39:in `get_profile_image'
  [1m[36mActiveStorage::VariantRecord Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("blob_id", "variation_digest") VALUES (?, ?)[0m  [["blob_id", 1], ["variation_digest", "VXMcpDD1eiFSFshVDBMIAfb8PB8="]]
  ↳ app/models/user.rb:39:in `get_profile_image'
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/models/user.rb:39:in `get_profile_image'
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/models/user.rb:39:in `get_profile_image'
  [1m[36mActiveStorage::Blob Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "0793y12epk5ud4bn0echsfoldh3q"], ["filename", "default-image.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 977], ["checksum", "oIMskzRmE2Qr6ejeBH9RfA=="], ["created_at", "2024-05-05 02:38:36.188147"]]
  ↳ app/models/user.rb:39:in `get_profile_image'
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "ActiveStorage::VariantRecord"], ["record_id", 1], ["blob_id", 2], ["created_at", "2024-05-05 02:38:36.189781"]]
  ↳ app/models/user.rb:39:in `get_profile_image'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/models/user.rb:39:in `get_profile_image'
[36m  Disk Storage (0.3ms) [0m[32mUploaded file to key: 0793y12epk5ud4bn0echsfoldh3q (checksum: oIMskzRmE2Qr6ejeBH9RfA==)[0m
[ActiveJob]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob]   ↳ app/models/user.rb:39:in `get_profile_image'
[ActiveJob] [ActiveStorage::AnalyzeJob] [64d036f4-199b-49c7-81cd-d050af1f1595] Performing ActiveStorage::AnalyzeJob (Job ID: 64d036f4-199b-49c7-81cd-d050af1f1595) from Inline(default) enqueued at 2024-05-05T02:38:36Z with arguments: #<GlobalID:0x000000010e6fc3e0 @uri=#<URI::GID gid://bookers2/ActiveStorage::Blob/2>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [64d036f4-199b-49c7-81cd-d050af1f1595] [36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: 0793y12epk5ud4bn0echsfoldh3q[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [64d036f4-199b-49c7-81cd-d050af1f1595]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [64d036f4-199b-49c7-81cd-d050af1f1595]   ↳ app/models/user.rb:39:in `get_profile_image'
[ActiveJob] [ActiveStorage::AnalyzeJob] [64d036f4-199b-49c7-81cd-d050af1f1595]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":100,\"height\":100,\"analyzed\":true}"], ["id", 2]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [64d036f4-199b-49c7-81cd-d050af1f1595]   ↳ app/models/user.rb:39:in `get_profile_image'
[ActiveJob] [ActiveStorage::AnalyzeJob] [64d036f4-199b-49c7-81cd-d050af1f1595]   [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [64d036f4-199b-49c7-81cd-d050af1f1595]   ↳ app/models/user.rb:39:in `get_profile_image'
[ActiveJob] [ActiveStorage::AnalyzeJob] [64d036f4-199b-49c7-81cd-d050af1f1595] Performed ActiveStorage::AnalyzeJob (Job ID: 64d036f4-199b-49c7-81cd-d050af1f1595) from Inline(default) in 47.57ms
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 64d036f4-199b-49c7-81cd-d050af1f1595) to Inline(default) with arguments: #<GlobalID:0x000000010e7cf1c8 @uri=#<URI::GID gid://bookers2/ActiveStorage::Blob/2>>
  Rendered users/_info.html.erb (Duration: 1768.0ms | Allocations: 98040)
  Rendered users/show.html.erb within layouts/application (Duration: 1768.7ms | Allocations: 98499)
  Rendered layout layouts/application.html.erb (Duration: 1768.8ms | Allocations: 98591)
Completed 500 Internal Server Error in 1789ms (ActiveRecord: 4.9ms | Allocations: 111241)


  
ActionView::Template::Error (undefined method `followings' for #<User id: 1, email: "test@example.com", name: "aaadddd", introduction: nil, created_at: "2024-05-05 02:38:34.454089000 +0000", updated_at: "2024-05-05 02:38:34.519822000 +0000">
Did you mean?  following?):
    10:   </tr>
    11:   <tr>
    12:     <th>follows</th>
    13:     <td><%= link_to user.followings.count, user_followings_path(user) %></td>
    14:   </tr>
    15:   <tr>
    16:     <th>followers</th>
  
app/views/users/_info.html.erb:13
app/views/users/show.html.erb:5
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to DeviseCreateUsers (20210703022443)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime, "remember_created_at" datetime, "name" varchar, "introduction" text, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20210703022443"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateBooks (20210703062036)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "books" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "opinion" text, "user_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20210703062036"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddImageToUsers (20210703133245)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "image_id" varchar[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20210703133245"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddIntroductionToUsers (20210703143751)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20210703143751"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
Migrating to RenameImageIdColumnToUsers (20210710030721)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "ausers" ("id" integer NOT NULL PRIMARY KEY, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar DEFAULT NULL, "reset_password_sent_at" datetime DEFAULT NULL, "remember_created_at" datetime DEFAULT NULL, "name" varchar DEFAULT NULL, "introduction" text DEFAULT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "profile_image_id" varchar DEFAULT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_ausers_on_reset_password_token" ON "ausers" ("reset_password_token")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_ausers_on_email" ON "ausers" ("email")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "ausers" ("id","email","encrypted_password","reset_password_token","reset_password_sent_at","remember_created_at","name","introduction","created_at","updated_at","profile_image_id")
                     SELECT "id","email","encrypted_password","reset_password_token","reset_password_sent_at","remember_created_at","name","introduction","created_at","updated_at","image_id" FROM "users"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer NOT NULL PRIMARY KEY, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar DEFAULT NULL, "reset_password_sent_at" datetime DEFAULT NULL, "remember_created_at" datetime DEFAULT NULL, "name" varchar DEFAULT NULL, "introduction" text DEFAULT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "profile_image_id" varchar DEFAULT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "users" ("id","email","encrypted_password","reset_password_token","reset_password_sent_at","remember_created_at","name","introduction","created_at","updated_at","profile_image_id")
                     SELECT "id","email","encrypted_password","reset_password_token","reset_password_sent_at","remember_created_at","name","introduction","created_at","updated_at","profile_image_id" FROM "ausers"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "ausers"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20210710030721"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
Migrating to RenameOpinionColumnToBooks (20210710031129)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "abooks" ("id" integer NOT NULL PRIMARY KEY, "title" varchar DEFAULT NULL, "body" text DEFAULT NULL, "user_id" integer DEFAULT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "abooks" ("id","title","body","user_id","created_at","updated_at")
                     SELECT "id","title","opinion","user_id","created_at","updated_at" FROM "books"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "books"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "books" ("id" integer NOT NULL PRIMARY KEY, "title" varchar DEFAULT NULL, "body" text DEFAULT NULL, "user_id" integer DEFAULT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "books" ("id","title","body","user_id","created_at","updated_at")
                     SELECT "id","title","body","user_id","created_at","updated_at" FROM "abooks"[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE "abooks"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20210710031129"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateFavorites (20210725023849)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "favorites" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "book_id" integer, "user_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, CONSTRAINT "fk_rails_24f323fe32"
FOREIGN KEY ("book_id")
  REFERENCES "books" ("id")
, CONSTRAINT "fk_rails_d15744e438"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_favorites_on_book_id" ON "favorites" ("book_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_favorites_on_user_id" ON "favorites" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20210725023849"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateBookComments (20210725083041)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "book_comments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "comment_content" varchar, "user_id" integer, "book_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, CONSTRAINT "fk_rails_aaef0f940d"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_02f3fdf502"
FOREIGN KEY ("book_id")
  REFERENCES "books" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_book_comments_on_user_id" ON "book_comments" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_book_comments_on_book_id" ON "book_comments" ("book_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20210725083041"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateRelationships (20210726054824)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "relationships" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "follower_id" integer, "followed_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20210726054824"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateRooms (20210805070944)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "rooms" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20210805070944"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateEntries (20210805071004)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "entries" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "room_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, CONSTRAINT "fk_rails_99dc12d4fd"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_f9d3a4412c"
FOREIGN KEY ("room_id")
  REFERENCES "rooms" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_entries_on_user_id" ON "entries" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_entries_on_room_id" ON "entries" ("room_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20210805071004"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateMessages (20210805072806)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "room_id" integer, "body" text, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, CONSTRAINT "fk_rails_273a25a7a6"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_a8db0fb63a"
FOREIGN KEY ("room_id")
  REFERENCES "rooms" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_messages_on_room_id" ON "messages" ("room_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20210805072806"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateImpressionsTable (20210806055548)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "impressions"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "impressions" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "impressionable_type" varchar, "impressionable_id" integer, "user_id" integer, "controller_name" varchar, "action_name" varchar, "view_name" varchar, "request_hash" varchar, "ip_address" varchar, "session_hash" varchar, "message" text, "referrer" text, "params" text, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "impressionable_type_message_index" ON "impressions" ("impressionable_type", "message", "impressionable_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "poly_request_index" ON "impressions" ("impressionable_type", "impressionable_id", "request_hash")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "poly_ip_index" ON "impressions" ("impressionable_type", "impressionable_id", "ip_address")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "poly_session_index" ON "impressions" ("impressionable_type", "impressionable_id", "session_hash")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "controlleraction_request_index" ON "impressions" ("controller_name", "action_name", "request_hash")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "controlleraction_ip_index" ON "impressions" ("controller_name", "action_name", "ip_address")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "controlleraction_session_index" ON "impressions" ("controller_name", "action_name", "session_hash")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "poly_params_request_index" ON "impressions" ("impressionable_type", "impressionable_id", "params")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_impressions_on_user_id" ON "impressions" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20210806055548"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddImpressionsCountToUsers (20210806072832)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "impressions_count" integer DEFAULT 0[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20210806072832"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddImpressionsCountToBooks (20210806072855)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "books" ADD "impressions_count" integer DEFAULT 0[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20210806072855"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateGroups (20210810021907)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "groups" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "introduction" text, "image_id" varchar, "owner_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20210810021907"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateGroupUsers (20210810092211)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "group_users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "group_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, CONSTRAINT "fk_rails_1486913327"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_a9d5f48449"
FOREIGN KEY ("group_id")
  REFERENCES "groups" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_group_users_on_user_id" ON "group_users" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_group_users_on_group_id" ON "group_users" ("group_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20210810092211"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddBooksToRate (20210829021216)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "Books" ADD "rate" float[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20210829021216"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateCategories (20210829112914)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "categories" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20210829112914"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddCategoryIdToBooks (20210829113041)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "books" ADD "category_id" integer[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20210829113041"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2024-05-05 02:41:53.046003"], ["updated_at", "2024-05-05 02:41:53.046003"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/users/1" for 127.0.0.1 at 2024-05-05 11:42:17 +0900
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 401 Unauthorized in 9ms (ActiveRecord: 0.5ms | Allocations: 5702)


Started GET "/users/sign_in" for 127.0.0.1 at 2024-05-05 11:42:18 +0900
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.7ms | Allocations: 1334)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 5.2ms | Allocations: 5046)
  Rendered layout layouts/application.html.erb (Duration: 45.6ms | Allocations: 40428)
Completed 500 Internal Server Error in 54ms (ActiveRecord: 0.0ms | Allocations: 49144)


  
ActionView::Template::Error (The asset "application.js" is not present in the asset pipeline.
):
     7: 
     8:     <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.3/css/all.css" integrity="sha384-SZXxX4whJ79/gErwcOYf+zWLeJdY/qpuqC4cAa9rOGUstPomtqpuNWT9wdPEn2fk" crossorigin="anonymous">
     9:     <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    10:     <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
    11:     <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    12:   </head>
    13:   <header>
  
app/views/layouts/application.html.erb:10
Started GET "/" for 127.0.0.1 at 2024-05-05 11:42:20 +0900
Processing by HomesController#top as HTML
  Rendering layout layouts/application.html.erb
  Rendering homes/top.html.erb within layouts/application
  Rendered homes/top.html.erb within layouts/application (Duration: 3.3ms | Allocations: 318)
  Rendered layout layouts/application.html.erb (Duration: 8.3ms | Allocations: 8093)
Completed 500 Internal Server Error in 19ms (ActiveRecord: 0.0ms | Allocations: 9455)


  
ActionView::Template::Error (The asset "application.js" is not present in the asset pipeline.
):
     7: 
     8:     <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.3/css/all.css" integrity="sha384-SZXxX4whJ79/gErwcOYf+zWLeJdY/qpuqC4cAa9rOGUstPomtqpuNWT9wdPEn2fk" crossorigin="anonymous">
     9:     <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    10:     <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
    11:     <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    12:   </head>
    13:   <header>
  
app/views/layouts/application.html.erb:10
Started GET "/" for ::1 at 2024-05-05 11:42:26 +0900
Processing by HomesController#top as HTML
  Rendering layout layouts/application.html.erb
  Rendering homes/top.html.erb within layouts/application
  Rendered homes/top.html.erb within layouts/application (Duration: 0.2ms | Allocations: 93)
  Rendered layout layouts/application.html.erb (Duration: 7.9ms | Allocations: 7651)
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.0ms | Allocations: 8018)


  
ActionView::Template::Error (The asset "application.js" is not present in the asset pipeline.
):
     7: 
     8:     <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.3/css/all.css" integrity="sha384-SZXxX4whJ79/gErwcOYf+zWLeJdY/qpuqC4cAa9rOGUstPomtqpuNWT9wdPEn2fk" crossorigin="anonymous">
     9:     <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    10:     <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
    11:     <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    12:   </head>
    13:   <header>
  
app/views/layouts/application.html.erb:10
Started GET "/" for ::1 at 2024-05-05 11:44:03 +0900
Processing by HomesController#top as HTML
  Rendering layout layouts/application.html.erb
  Rendering homes/top.html.erb within layouts/application
  Rendered homes/top.html.erb within layouts/application (Duration: 0.7ms | Allocations: 307)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 1.5ms | Allocations: 846)
  Rendered layout layouts/application.html.erb (Duration: 8.4ms | Allocations: 4138)
Completed 200 OK in 16ms (Views: 13.0ms | ActiveRecord: 0.0ms | Allocations: 5492)


Started GET "/users/sign_up" for ::1 at 2024-05-05 11:44:06 +0900
Processing by Devise::RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (Duration: 0.9ms | Allocations: 247)
  Rendered devise/shared/_links.html.erb (Duration: 2.2ms | Allocations: 601)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 10.1ms | Allocations: 3226)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 246)
  Rendered layout layouts/application.html.erb (Duration: 16.5ms | Allocations: 5894)
Completed 200 OK in 24ms (Views: 21.9ms | ActiveRecord: 0.0ms | Allocations: 8810)


Started POST "/users" for ::1 at 2024-05-05 11:44:12 +0900
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"name"=>"aaaa", "email"=>"ryutaromaeda83@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ryutaromaeda83@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "aaaa"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["email", "ryutaromaeda83@gmail.com"], ["encrypted_password", "$2a$12$/viP4/QD3ckTBZRvblf1AOCMqFCWvk13qh/lWYBWoxgC40/xNx4Be"], ["name", "aaaa"], ["created_at", "2024-05-05 02:44:12.749333"], ["updated_at", "2024-05-05 02:44:12.749333"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/users/1
Completed 302 Found in 278ms (ActiveRecord: 1.6ms | Allocations: 10883)


Started GET "/users/1" for ::1 at 2024-05-05 11:44:12 +0900
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:6:in `show'
Completed 500 Internal Server Error in 20ms (ActiveRecord: 0.2ms | Allocations: 10025)


  
NameError (undefined local variable or method `is_impressionable' for Book:Class):
  
app/models/book.rb:2:in `<class:Book>'
app/models/book.rb:1:in `<main>'
app/controllers/users_controller.rb:9:in `show'
Started GET "/users/1" for ::1 at 2024-05-05 11:45:10 +0900
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:6:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-05-05 00:00:00"], ["created_at", "2024-05-05 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:9:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-05-04 00:00:00"], ["created_at", "2024-05-04 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:10:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-05-03 00:00:00"], ["created_at", "2024-05-03 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:11:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-05-02 00:00:00"], ["created_at", "2024-05-02 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:12:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-01 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:13:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-04-30 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:14:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-04-29 00:00:00"], ["created_at", "2024-04-29 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:15:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-04-29 00:00:00"], ["created_at", "2024-05-05 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:22:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-04-21 00:00:00"], ["created_at", "2024-04-28 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:23:in `show'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered users/_list.html.erb (Duration: 11.9ms | Allocations: 4986)
  Rendered users/show.html.erb within layouts/application (Duration: 12.5ms | Allocations: 5628)
  Rendered layout layouts/application.html.erb (Duration: 12.5ms | Allocations: 5710)
Completed 500 Internal Server Error in 37ms (ActiveRecord: 1.5ms | Allocations: 37465)


  
ActionView::Template::Error (undefined method `attachment_image_tag' for #<ActionView::Base:0x0000000000c990>):
    1: 
    2:   <h2>User info</h2>
    3: 
    4:   <%= attachment_image_tag user, :profile_image, :fill, 100, 100, format: 'jpeg', fallback: "no_image.jpg" %>
    5:   <table class="table">
    6:     <tbody>
    7:       <tr>
  
app/views/users/_list.html.erb:4
app/views/users/show.html.erb:7
Started GET "/users/1" for ::1 at 2024-05-05 11:46:55 +0900
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:6:in `show'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-05-05 00:00:00"], ["created_at", "2024-05-05 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:9:in `show'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-05-04 00:00:00"], ["created_at", "2024-05-04 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:10:in `show'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-05-03 00:00:00"], ["created_at", "2024-05-03 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:11:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-05-02 00:00:00"], ["created_at", "2024-05-02 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:12:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-01 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:13:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-04-30 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:14:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-04-29 00:00:00"], ["created_at", "2024-04-29 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:15:in `show'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-04-29 00:00:00"], ["created_at", "2024-05-05 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:22:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-04-21 00:00:00"], ["created_at", "2024-04-28 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:23:in `show'
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/_list.html.erb:17
  Rendered users/_list.html.erb (Duration: 36.9ms | Allocations: 13055)
  Rendered users/show.html.erb within layouts/application (Duration: 37.8ms | Allocations: 13666)
  Rendered layout layouts/application.html.erb (Duration: 37.9ms | Allocations: 13749)
Completed 500 Internal Server Error in 64ms (ActiveRecord: 2.1ms | Allocations: 25727)


  
ActionView::Template::Error (undefined method `follows_user_path' for #<ActionView::Base:0x0000000000ce40>
Did you mean?  user_followers_path):
    14:       </tr>
    15:       <tr>
    16:         <th>follows</th>
    17:         <th><%=link_to user.followings.count ,follows_user_path(user.id) %></th>
    18:       </tr>
    19:       <tr>
    20:         <th>followers</th>
  
app/views/users/_list.html.erb:17
app/views/users/show.html.erb:7
Started GET "/users/1" for ::1 at 2024-05-05 11:47:51 +0900
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:6:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-05-05 00:00:00"], ["created_at", "2024-05-05 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:9:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-05-04 00:00:00"], ["created_at", "2024-05-04 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:10:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-05-03 00:00:00"], ["created_at", "2024-05-03 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:11:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-05-02 00:00:00"], ["created_at", "2024-05-02 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:12:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-01 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:13:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-04-30 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:14:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-04-29 00:00:00"], ["created_at", "2024-04-29 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:15:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-04-29 00:00:00"], ["created_at", "2024-05-05 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:22:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-04-21 00:00:00"], ["created_at", "2024-04-28 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:23:in `show'
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 3.1ms | Allocations: 5324)
  Rendered users/_follow_btn.html.erb (Duration: 0.5ms | Allocations: 258)
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 1], ["follower_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.3ms | Allocations: 1481)
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/views/books/_newbook.html.erb:17
  Rendered books/_newbook.html.erb (Duration: 4.8ms | Allocations: 6251)
  Rendered users/show.html.erb within layouts/application (Duration: 10.4ms | Allocations: 14065)
  Rendered layout layouts/application.html.erb (Duration: 10.4ms | Allocations: 14147)
Completed 500 Internal Server Error in 33ms (ActiveRecord: 4.2ms | Allocations: 43516)


  
ActionView::Template::Error (The asset "star-off.png" is not present in the asset pipeline.
):
    34:    <!-- 評価 -->
    35:     $('#star').raty({
    36:       size     : 36,
    37:       starOff:  '<%= asset_path('star-off.png') %>',
    38:       starOn : '<%= asset_path('star-on.png') %>',
    39:       starHalf: '<%= asset_path('star-half.png') %>',
    40:       scoreName: 'book[rate]',
  
app/views/books/_newbook.html.erb:37
app/views/users/show.html.erb:10
Started GET "/users/1" for ::1 at 2024-05-05 11:48:29 +0900
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:6:in `show'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-05-05 00:00:00"], ["created_at", "2024-05-05 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:9:in `show'
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-05-04 00:00:00"], ["created_at", "2024-05-04 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:10:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-05-03 00:00:00"], ["created_at", "2024-05-03 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:11:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-05-02 00:00:00"], ["created_at", "2024-05-02 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:12:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-01 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:13:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-04-30 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:14:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-04-29 00:00:00"], ["created_at", "2024-04-29 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:15:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-04-29 00:00:00"], ["created_at", "2024-05-05 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:22:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-04-21 00:00:00"], ["created_at", "2024-04-28 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:23:in `show'
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 2.0ms | Allocations: 2335)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 40)
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 1], ["follower_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 0.8ms | Allocations: 964)
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/views/books/_newbook.html.erb:17
  Rendered books/_newbook.html.erb (Duration: 16.3ms | Allocations: 12979)
  Rendered users/_userbooks.html.erb (Duration: 0.7ms | Allocations: 491)
  Rendered users/_count_search.html.erb (Duration: 0.6ms | Allocations: 181)
  Rendered users/show.html.erb within layouts/application (Duration: 31.2ms | Allocations: 20703)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 1.0ms | Allocations: 1307)
  Rendered searches/_search_window.html.erb (Duration: 1.5ms | Allocations: 2132)
  Rendered layout layouts/application.html.erb (Duration: 40.0ms | Allocations: 27037)
Completed 200 OK in 66ms (Views: 40.2ms | ActiveRecord: 2.0ms | Allocations: 38104)


Started POST "/books" for ::1 at 2024-05-05 11:48:42 +0900
  
NoMethodError (undefined method `impressionist' for BooksController:Class

  impressionist action: [:show]
  ^^^^^^^^^^^^^):
  
app/controllers/books_controller.rb:3:in `<class:BooksController>'
app/controllers/books_controller.rb:1:in `<main>'
Started GET "/users/1" for ::1 at 2024-05-05 11:49:06 +0900
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:6:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-05-05 00:00:00"], ["created_at", "2024-05-05 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:9:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-05-04 00:00:00"], ["created_at", "2024-05-04 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:10:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-05-03 00:00:00"], ["created_at", "2024-05-03 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:11:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-05-02 00:00:00"], ["created_at", "2024-05-02 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:12:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-01 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:13:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-04-30 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:14:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-04-29 00:00:00"], ["created_at", "2024-04-29 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:15:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-04-29 00:00:00"], ["created_at", "2024-05-05 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:22:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-04-21 00:00:00"], ["created_at", "2024-04-28 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:23:in `show'
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 3.6ms | Allocations: 5324)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 49)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 1], ["follower_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.1ms | Allocations: 1197)
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/views/books/_newbook.html.erb:17
  Rendered books/_newbook.html.erb (Duration: 2.8ms | Allocations: 2926)
  Rendered users/_userbooks.html.erb (Duration: 0.0ms | Allocations: 39)
  Rendered users/_count_search.html.erb (Duration: 0.1ms | Allocations: 39)
  Rendered users/show.html.erb within layouts/application (Duration: 8.4ms | Allocations: 10541)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 769)
  Rendered searches/_search_window.html.erb (Duration: 0.4ms | Allocations: 1663)
  Rendered layout layouts/application.html.erb (Duration: 14.5ms | Allocations: 15280)
Completed 200 OK in 36ms (Views: 14.4ms | ActiveRecord: 2.2ms | Allocations: 44678)


Started POST "/books" for ::1 at 2024-05-05 11:49:08 +0900
Processing by BooksController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "book"=>{"title"=>"aaa", "body"=>"aaa", "rate"=>""}, "commit"=>"Create Book"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:10:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:10:in `create'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/books_controller.rb:10:in `create'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 3.6ms | Allocations: 2769)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 43)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 1], ["follower_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.1ms | Allocations: 981)
  Rendered books/_newbook.html.erb (Duration: 2.1ms | Allocations: 4672)
  Rendered books/index.html.erb within layouts/application (Duration: 8.2ms | Allocations: 10502)
  Rendered layout layouts/application.html.erb (Duration: 8.3ms | Allocations: 10584)
Completed 500 Internal Server Error in 25ms (ActiveRecord: 0.8ms | Allocations: 18799)


  
ActionView::Template::Error (undefined method `map' for nil:NilClass

        options = collection.map do |element|
                            ^^^^):
    14: 
    15:     <div class="form-group">
    16:       <label for="book-category">Category</label>
    17:       <%= f.collection_select(:category_id, categories, :id, :name) %>
    18:     </div>
    19: 
    20:     <div class="form-group row" id="star">
  
app/views/books/_newbook.html.erb:17
app/views/books/_newbook.html.erb:3
app/views/books/index.html.erb:18
app/controllers/books_controller.rb:13:in `create'
Started GET "/users/1" for ::1 at 2024-05-05 11:49:21 +0900
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:6:in `show'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-05-05 00:00:00"], ["created_at", "2024-05-05 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:9:in `show'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-05-04 00:00:00"], ["created_at", "2024-05-04 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:10:in `show'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-05-03 00:00:00"], ["created_at", "2024-05-03 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:11:in `show'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-05-02 00:00:00"], ["created_at", "2024-05-02 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:12:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-01 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:13:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-04-30 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:14:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-04-29 00:00:00"], ["created_at", "2024-04-29 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:15:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-04-29 00:00:00"], ["created_at", "2024-05-05 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:22:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-04-21 00:00:00"], ["created_at", "2024-04-28 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:23:in `show'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 3.0ms | Allocations: 2298)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 40)
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 1], ["follower_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.1ms | Allocations: 964)
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/views/books/_newbook.html.erb:17
  Rendered books/_newbook.html.erb (Duration: 2.8ms | Allocations: 2667)
  Rendered users/_userbooks.html.erb (Duration: 0.0ms | Allocations: 38)
  Rendered users/_count_search.html.erb (Duration: 0.0ms | Allocations: 38)
  Rendered users/show.html.erb within layouts/application (Duration: 7.7ms | Allocations: 7095)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.7ms | Allocations: 745)
  Rendered searches/_search_window.html.erb (Duration: 0.3ms | Allocations: 1653)
  Rendered layout layouts/application.html.erb (Duration: 12.2ms | Allocations: 11737)
Completed 200 OK in 38ms (Views: 12.3ms | ActiveRecord: 2.0ms | Allocations: 22603)


  [1m[35m (0.9ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCategory Create (0.7ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "テスト"], ["created_at", "2024-05-05 02:49:55.910911"], ["updated_at", "2024-05-05 02:49:55.910911"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
Started GET "/users/1" for ::1 at 2024-05-05 11:49:58 +0900
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:6:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-05-05 00:00:00"], ["created_at", "2024-05-05 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:9:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-05-04 00:00:00"], ["created_at", "2024-05-04 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:10:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-05-03 00:00:00"], ["created_at", "2024-05-03 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:11:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-05-02 00:00:00"], ["created_at", "2024-05-02 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:12:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-01 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:13:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-04-30 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:14:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-04-29 00:00:00"], ["created_at", "2024-04-29 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:15:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-04-29 00:00:00"], ["created_at", "2024-05-05 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:22:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-04-21 00:00:00"], ["created_at", "2024-04-28 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:23:in `show'
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 2.2ms | Allocations: 2298)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 40)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 1], ["follower_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.2ms | Allocations: 964)
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/views/books/_newbook.html.erb:17
  Rendered books/_newbook.html.erb (Duration: 4.6ms | Allocations: 4594)
  Rendered users/_userbooks.html.erb (Duration: 0.0ms | Allocations: 38)
  Rendered users/_count_search.html.erb (Duration: 0.0ms | Allocations: 38)
  Rendered users/show.html.erb within layouts/application (Duration: 8.7ms | Allocations: 9019)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.5ms | Allocations: 744)
  Rendered searches/_search_window.html.erb (Duration: 0.2ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 14.4ms | Allocations: 13617)
Completed 200 OK in 24ms (Views: 14.4ms | ActiveRecord: 1.1ms | Allocations: 24317)


Started POST "/books" for ::1 at 2024-05-05 11:50:02 +0900
Processing by BooksController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "book"=>{"title"=>"a", "body"=>"a", "category_id"=>"1", "rate"=>""}, "commit"=>"Create Book"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:10:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:10:in `create'
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:10:in `create'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/books_controller.rb:10:in `create'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 4.0ms | Allocations: 2296)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 40)
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 1], ["follower_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.2ms | Allocations: 965)
  Rendered books/_newbook.html.erb (Duration: 2.5ms | Allocations: 4619)
  Rendered books/index.html.erb within layouts/application (Duration: 8.4ms | Allocations: 8915)
  Rendered layout layouts/application.html.erb (Duration: 8.4ms | Allocations: 8991)
Completed 500 Internal Server Error in 34ms (ActiveRecord: 1.8ms | Allocations: 15446)


  
ActionView::Template::Error (undefined method `map' for nil:NilClass

        options = collection.map do |element|
                            ^^^^):
    14: 
    15:     <div class="form-group">
    16:       <label for="book-category">Category</label>
    17:       <%= f.collection_select(:category_id, categories, :id, :name) %>
    18:     </div>
    19: 
    20:     <div class="form-group row" id="star">
  
app/views/books/_newbook.html.erb:17
app/views/books/_newbook.html.erb:3
app/views/books/index.html.erb:18
app/controllers/books_controller.rb:13:in `create'
Started GET "/users/1" for ::1 at 2024-05-05 11:51:05 +0900
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:6:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-05-05 00:00:00"], ["created_at", "2024-05-05 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:9:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-05-04 00:00:00"], ["created_at", "2024-05-04 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:10:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-05-03 00:00:00"], ["created_at", "2024-05-03 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:11:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-05-02 00:00:00"], ["created_at", "2024-05-02 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:12:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-01 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:13:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-04-30 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:14:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-04-29 00:00:00"], ["created_at", "2024-04-29 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:15:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-04-29 00:00:00"], ["created_at", "2024-05-05 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:22:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-04-21 00:00:00"], ["created_at", "2024-04-28 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:23:in `show'
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 3.3ms | Allocations: 5529)
  Rendered users/_follow_btn.html.erb (Duration: 0.4ms | Allocations: 243)
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 1], ["follower_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.2ms | Allocations: 1468)
  Rendered books/_newbook.html.erb (Duration: 1.7ms | Allocations: 2397)
  Rendered users/_userbooks.html.erb (Duration: 0.5ms | Allocations: 474)
  Rendered users/_count_search.html.erb (Duration: 0.1ms | Allocations: 138)
  Rendered users/show.html.erb within layouts/application (Duration: 9.1ms | Allocations: 12382)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.7ms | Allocations: 1292)
  Rendered searches/_search_window.html.erb (Duration: 0.5ms | Allocations: 1863)
  Rendered layout layouts/application.html.erb (Duration: 13.4ms | Allocations: 18397)
Completed 200 OK in 34ms (Views: 14.2ms | ActiveRecord: 1.3ms | Allocations: 48578)


Started POST "/books" for ::1 at 2024-05-05 11:51:07 +0900
Processing by BooksController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "book"=>{"title"=>"a", "body"=>"a", "rate"=>""}, "commit"=>"Create Book"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:9:in `create'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:11:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:11:in `create'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/books_controller.rb:11:in `create'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 4.5ms | Allocations: 2769)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 43)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 1], ["follower_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.5ms | Allocations: 981)
  Rendered books/_newbook.html.erb (Duration: 2.7ms | Allocations: 4602)
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/_index.html.erb:20
  Rendered books/_index.html.erb (Duration: 2.7ms | Allocations: 1468)
  Rendered books/index.html.erb within layouts/application (Duration: 13.7ms | Allocations: 11480)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 6.9ms | Allocations: 762)
  Rendered searches/_search_window.html.erb (Duration: 0.8ms | Allocations: 1648)
  Rendered layout layouts/application.html.erb (Duration: 25.3ms | Allocations: 16181)
Completed 200 OK in 42ms (Views: 26.5ms | ActiveRecord: 1.6ms | Allocations: 26656)


Started POST "/books" for ::1 at 2024-05-05 17:09:34 +0900
Processing by BooksController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "title"=>"aaa", "body"=>"aaa", "rate"=>"", "commit"=>"Create Book"}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 400 Bad Request in 9ms (ActiveRecord: 0.8ms | Allocations: 3206)


  
ActionController::ParameterMissing (param is missing or the value is empty: book
Did you mean?  body
               controller
               action
               commit):
  
app/controllers/books_controller.rb:77:in `book_params'
app/controllers/books_controller.rb:7:in `create'
Started POST "/books" for ::1 at 2024-05-05 17:09:40 +0900
Processing by BooksController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "title"=>"aaa", "body"=>"aaa", "rate"=>"", "commit"=>"Create Book"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 400 Bad Request in 7ms (ActiveRecord: 0.2ms | Allocations: 1896)


  
ActionController::ParameterMissing (param is missing or the value is empty: book
Did you mean?  body
               controller
               action
               commit):
  
app/controllers/books_controller.rb:77:in `book_params'
app/controllers/books_controller.rb:7:in `create'
Started GET "/books" for ::1 at 2024-05-05 17:10:13 +0900
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/books_controller.rb:37:in `sort'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 3.9ms | Allocations: 2401)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 40)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 1], ["follower_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 3.3ms | Allocations: 989)
  Rendered books/_newbook.html.erb (Duration: 3.6ms | Allocations: 3630)
  Rendered books/_index.html.erb (Duration: 0.1ms | Allocations: 123)
  Rendered books/index.html.erb within layouts/application (Duration: 11.6ms | Allocations: 7541)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.5ms | Allocations: 745)
  Rendered searches/_search_window.html.erb (Duration: 0.6ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 19.4ms | Allocations: 12140)
Completed 200 OK in 29ms (Views: 19.5ms | ActiveRecord: 0.9ms | Allocations: 14629)


Started GET "/books" for ::1 at 2024-05-05 17:10:15 +0900
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/books_controller.rb:37:in `sort'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 2.9ms | Allocations: 2298)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 40)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 1], ["follower_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.1ms | Allocations: 964)
  Rendered books/_newbook.html.erb (Duration: 2.0ms | Allocations: 3620)
  Rendered books/_index.html.erb (Duration: 0.1ms | Allocations: 123)
  Rendered books/index.html.erb within layouts/application (Duration: 6.6ms | Allocations: 7402)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 745)
  Rendered searches/_search_window.html.erb (Duration: 0.5ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 11.8ms | Allocations: 12001)
Completed 200 OK in 15ms (Views: 11.8ms | ActiveRecord: 0.4ms | Allocations: 14372)


Started POST "/books" for ::1 at 2024-05-05 17:10:18 +0900
Processing by BooksController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "title"=>"aaa", "body"=>"aaa", "rate"=>"", "commit"=>"Create Book"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 400 Bad Request in 6ms (ActiveRecord: 0.2ms | Allocations: 1896)


  
ActionController::ParameterMissing (param is missing or the value is empty: book
Did you mean?  body
               controller
               action
               commit):
  
app/controllers/books_controller.rb:77:in `book_params'
app/controllers/books_controller.rb:7:in `create'
Started GET "/books" for ::1 at 2024-05-05 17:11:19 +0900
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/books_controller.rb:37:in `sort'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 8.5ms | Allocations: 2298)
  Rendered users/_follow_btn.html.erb (Duration: 0.1ms | Allocations: 40)
  [1m[36mRelationship Load (0.2ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 1], ["follower_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 6.1ms | Allocations: 964)
  Rendered books/_newbook.html.erb (Duration: 2.8ms | Allocations: 3631)
  Rendered books/_index.html.erb (Duration: 0.2ms | Allocations: 123)
  Rendered books/index.html.erb within layouts/application (Duration: 18.5ms | Allocations: 7413)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 1.0ms | Allocations: 745)
  Rendered searches/_search_window.html.erb (Duration: 0.6ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 26.8ms | Allocations: 12012)
Completed 200 OK in 39ms (Views: 26.8ms | ActiveRecord: 1.2ms | Allocations: 14385)


Started GET "/categories" for ::1 at 2024-05-05 17:11:25 +0900
Processing by CategoriesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering categories/index.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/views/categories/index.html.erb:20
  Rendered categories/index.html.erb within layouts/application (Duration: 2.3ms | Allocations: 1722)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.4ms | Allocations: 784)
  Rendered searches/_search_window.html.erb (Duration: 0.4ms | Allocations: 1666)
  Rendered layout layouts/application.html.erb (Duration: 6.7ms | Allocations: 6599)
Completed 200 OK in 12ms (Views: 8.7ms | ActiveRecord: 0.2ms | Allocations: 9374)


Started POST "/categories" for ::1 at 2024-05-05 17:11:27 +0900
Processing by CategoriesController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "category"=>{"name"=>"aaaa"}, "commit"=>"登録"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/categories_controller.rb:10:in `create'
  [1m[36mCategory Create (0.6ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "aaaa"], ["created_at", "2024-05-05 08:11:27.424158"], ["updated_at", "2024-05-05 08:11:27.424158"]]
  ↳ app/controllers/categories_controller.rb:10:in `create'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/categories_controller.rb:10:in `create'
Redirected to http://localhost:3000/categories
Completed 302 Found in 6ms (ActiveRecord: 1.4ms | Allocations: 4132)


Started GET "/categories" for ::1 at 2024-05-05 17:11:27 +0900
Processing by CategoriesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering categories/index.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/views/categories/index.html.erb:20
  Rendered categories/index.html.erb within layouts/application (Duration: 1.3ms | Allocations: 1082)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 754)
  Rendered searches/_search_window.html.erb (Duration: 0.4ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 5.3ms | Allocations: 5811)
Completed 200 OK in 8ms (Views: 5.5ms | ActiveRecord: 0.2ms | Allocations: 7462)


Started GET "/" for ::1 at 2024-05-05 17:11:30 +0900
Processing by HomesController#top as HTML
  Rendering layout layouts/application.html.erb
  Rendering homes/top.html.erb within layouts/application
  Rendered homes/top.html.erb within layouts/application (Duration: 2.0ms | Allocations: 298)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/_header.html.erb:9
  Rendered layouts/_header.html.erb (Duration: 2.0ms | Allocations: 1915)
  Rendered searches/_search_window.html.erb (Duration: 0.3ms | Allocations: 1666)
  Rendered layout layouts/application.html.erb (Duration: 8.6ms | Allocations: 6353)
Completed 200 OK in 21ms (Views: 19.5ms | ActiveRecord: 0.1ms | Allocations: 8806)


Started GET "/users" for ::1 at 2024-05-05 17:11:34 +0900
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 7.8ms | Allocations: 2373)
  Rendered users/_follow_btn.html.erb (Duration: 0.1ms | Allocations: 40)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 1], ["follower_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.9ms | Allocations: 966)
  Rendered books/_newbook.html.erb (Duration: 1.8ms | Allocations: 1816)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:22
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/index.html.erb:28
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/index.html.erb:29
  Rendered users/index.html.erb within layouts/application (Duration: 24.3ms | Allocations: 8773)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.5ms | Allocations: 746)
  Rendered searches/_search_window.html.erb (Duration: 0.5ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 29.3ms | Allocations: 13474)
Completed 200 OK in 36ms (Views: 29.4ms | ActiveRecord: 1.0ms | Allocations: 15339)


Started GET "/books" for ::1 at 2024-05-05 17:11:40 +0900
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/books_controller.rb:37:in `sort'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 8.1ms | Allocations: 2298)
  Rendered users/_follow_btn.html.erb (Duration: 0.1ms | Allocations: 40)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 1], ["follower_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 3.3ms | Allocations: 964)
  Rendered books/_newbook.html.erb (Duration: 2.1ms | Allocations: 3632)
  Rendered books/_index.html.erb (Duration: 0.1ms | Allocations: 127)
  Rendered books/index.html.erb within layouts/application (Duration: 14.5ms | Allocations: 7418)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 745)
  Rendered searches/_search_window.html.erb (Duration: 0.4ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 18.4ms | Allocations: 12017)
Completed 200 OK in 27ms (Views: 18.3ms | ActiveRecord: 1.2ms | Allocations: 14430)


Started GET "/books" for ::1 at 2024-05-05 17:11:47 +0900
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/books_controller.rb:37:in `sort'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 8.2ms | Allocations: 2298)
  Rendered users/_follow_btn.html.erb (Duration: 0.1ms | Allocations: 40)
  [1m[36mRelationship Load (0.2ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 1], ["follower_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 4.1ms | Allocations: 964)
  Rendered books/_newbook.html.erb (Duration: 5.7ms | Allocations: 3619)
  Rendered books/_index.html.erb (Duration: 0.1ms | Allocations: 123)
  Rendered books/index.html.erb within layouts/application (Duration: 19.3ms | Allocations: 7401)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.5ms | Allocations: 746)
  Rendered searches/_search_window.html.erb (Duration: 0.3ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 23.8ms | Allocations: 12001)
Completed 200 OK in 31ms (Views: 23.4ms | ActiveRecord: 1.4ms | Allocations: 14372)


Started POST "/books" for ::1 at 2024-05-05 17:11:58 +0900
Processing by BooksController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "title"=>"aaa", "body"=>"aaa", "rate"=>"", "commit"=>"Create Book"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 400 Bad Request in 4ms (ActiveRecord: 0.2ms | Allocations: 1916)


  
ActionController::ParameterMissing (param is missing or the value is empty: book
Did you mean?  body
               controller
               action
               commit):
  
app/controllers/books_controller.rb:77:in `book_params'
app/controllers/books_controller.rb:7:in `create'
Started GET "/books" for ::1 at 2024-05-05 17:12:00 +0900
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/books_controller.rb:37:in `sort'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 8.4ms | Allocations: 2298)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 40)
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 1], ["follower_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.0ms | Allocations: 964)
  Rendered books/_newbook.html.erb (Duration: 2.0ms | Allocations: 3629)
  Rendered books/_index.html.erb (Duration: 0.1ms | Allocations: 123)
  Rendered books/index.html.erb within layouts/application (Duration: 12.0ms | Allocations: 7411)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.4ms | Allocations: 745)
  Rendered searches/_search_window.html.erb (Duration: 0.6ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 17.6ms | Allocations: 12010)
Completed 200 OK in 24ms (Views: 19.1ms | ActiveRecord: 0.9ms | Allocations: 14381)


Started POST "/books" for ::1 at 2024-05-05 17:12:54 +0900
Processing by BooksController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "title"=>"aaa", "body"=>"aaa", "rate"=>"", "commit"=>"Create Book"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 400 Bad Request in 8ms (ActiveRecord: 0.2ms | Allocations: 1896)


  
ActionController::ParameterMissing (param is missing or the value is empty: book
Did you mean?  body
               controller
               action
               commit):
  
app/controllers/books_controller.rb:77:in `book_params'
app/controllers/books_controller.rb:7:in `create'
Started GET "/books" for ::1 at 2024-05-05 17:12:56 +0900
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/books_controller.rb:37:in `sort'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 12.0ms | Allocations: 2775)
  Rendered users/_follow_btn.html.erb (Duration: 0.7ms | Allocations: 212)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 1], ["follower_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 2.3ms | Allocations: 1251)
  Rendered books/_newbook.html.erb (Duration: 2.8ms | Allocations: 2288)
  Rendered books/_index.html.erb (Duration: 1.1ms | Allocations: 685)
  Rendered books/index.html.erb within layouts/application (Duration: 23.3ms | Allocations: 8503)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 1.4ms | Allocations: 1294)
  Rendered searches/_search_window.html.erb (Duration: 1.3ms | Allocations: 1863)
  Rendered layout layouts/application.html.erb (Duration: 32.5ms | Allocations: 14619)
Completed 200 OK in 52ms (Views: 40.3ms | ActiveRecord: 1.7ms | Allocations: 17956)


Started GET "/books" for ::1 at 2024-05-05 17:12:57 +0900
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/books_controller.rb:37:in `sort'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 9.8ms | Allocations: 2299)
  Rendered users/_follow_btn.html.erb (Duration: 0.1ms | Allocations: 40)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 1], ["follower_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 2.1ms | Allocations: 964)
  Rendered books/_newbook.html.erb (Duration: 2.4ms | Allocations: 1714)
  Rendered books/_index.html.erb (Duration: 0.1ms | Allocations: 123)
  Rendered books/index.html.erb within layouts/application (Duration: 15.2ms | Allocations: 5497)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.7ms | Allocations: 745)
  Rendered searches/_search_window.html.erb (Duration: 0.5ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 20.2ms | Allocations: 10197)
Completed 200 OK in 30ms (Views: 20.0ms | ActiveRecord: 1.2ms | Allocations: 12686)


Started POST "/books" for ::1 at 2024-05-05 17:13:00 +0900
Processing by BooksController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "book"=>{"title"=>"a", "body"=>"a", "rate"=>""}, "commit"=>"Create Book"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:9:in `create'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:11:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:11:in `create'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/books_controller.rb:11:in `create'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 5.2ms | Allocations: 2296)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 40)
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 1], ["follower_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.3ms | Allocations: 965)
  Rendered books/_newbook.html.erb (Duration: 1.9ms | Allocations: 2222)
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/_index.html.erb:20
  Rendered books/_index.html.erb (Duration: 0.8ms | Allocations: 831)
  Rendered books/index.html.erb within layouts/application (Duration: 10.0ms | Allocations: 7448)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.5ms | Allocations: 740)
  Rendered searches/_search_window.html.erb (Duration: 0.7ms | Allocations: 1625)
  Rendered layout layouts/application.html.erb (Duration: 15.3ms | Allocations: 12041)
Completed 200 OK in 28ms (Views: 15.3ms | ActiveRecord: 1.0ms | Allocations: 18031)


Started GET "/books" for ::1 at 2024-05-05 17:14:06 +0900
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/books_controller.rb:37:in `sort'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 3.4ms | Allocations: 2775)
  Rendered users/_follow_btn.html.erb (Duration: 0.5ms | Allocations: 212)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 1], ["follower_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 2.0ms | Allocations: 1251)
  Rendered books/_newbook.html.erb (Duration: 2.0ms | Allocations: 2196)
  Rendered books/_index.html.erb (Duration: 0.8ms | Allocations: 685)
  Rendered books/index.html.erb within layouts/application (Duration: 10.8ms | Allocations: 8414)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 1.1ms | Allocations: 1293)
  Rendered searches/_search_window.html.erb (Duration: 0.9ms | Allocations: 1863)
  Rendered layout layouts/application.html.erb (Duration: 19.9ms | Allocations: 14529)
Completed 200 OK in 36ms (Views: 22.6ms | ActiveRecord: 0.7ms | Allocations: 17873)


Started GET "/books" for ::1 at 2024-05-05 17:14:08 +0900
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/books_controller.rb:37:in `sort'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 10.0ms | Allocations: 2298)
  Rendered users/_follow_btn.html.erb (Duration: 0.1ms | Allocations: 40)
  [1m[36mRelationship Load (0.2ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 1], ["follower_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 3.4ms | Allocations: 964)
  Rendered books/_newbook.html.erb (Duration: 2.0ms | Allocations: 1644)
  Rendered books/_index.html.erb (Duration: 0.1ms | Allocations: 123)
  Rendered books/index.html.erb within layouts/application (Duration: 16.6ms | Allocations: 5426)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.5ms | Allocations: 745)
  Rendered searches/_search_window.html.erb (Duration: 0.4ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 22.4ms | Allocations: 10126)
Completed 200 OK in 29ms (Views: 22.1ms | ActiveRecord: 1.0ms | Allocations: 12616)


Started GET "/books" for ::1 at 2024-05-05 17:17:19 +0900
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/books_controller.rb:37:in `sort'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 4.7ms | Allocations: 2775)
  Rendered users/_follow_btn.html.erb (Duration: 0.6ms | Allocations: 212)
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 1], ["follower_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.8ms | Allocations: 1251)
  Rendered books/_newbook.html.erb (Duration: 3.0ms | Allocations: 2199)
  Rendered books/_index.html.erb (Duration: 0.8ms | Allocations: 685)
  Rendered books/index.html.erb within layouts/application (Duration: 13.3ms | Allocations: 8411)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.9ms | Allocations: 1294)
  Rendered searches/_search_window.html.erb (Duration: 0.9ms | Allocations: 1863)
  Rendered layout layouts/application.html.erb (Duration: 21.7ms | Allocations: 14497)
Completed 200 OK in 37ms (Views: 27.6ms | ActiveRecord: 0.8ms | Allocations: 17835)


Started GET "/books" for ::1 at 2024-05-05 17:17:21 +0900
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Load (0.9ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/books_controller.rb:37:in `sort'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 10.2ms | Allocations: 2298)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 40)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 1], ["follower_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.3ms | Allocations: 964)
  Rendered books/_newbook.html.erb (Duration: 1.6ms | Allocations: 1648)
  Rendered books/_index.html.erb (Duration: 0.1ms | Allocations: 123)
  Rendered books/index.html.erb within layouts/application (Duration: 13.7ms | Allocations: 5430)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.5ms | Allocations: 745)
  Rendered searches/_search_window.html.erb (Duration: 0.3ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 18.0ms | Allocations: 10130)
Completed 200 OK in 29ms (Views: 18.0ms | ActiveRecord: 1.6ms | Allocations: 12619)


Started GET "/books" for ::1 at 2024-05-05 17:20:23 +0900
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/books_controller.rb:37:in `sort'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 17.1ms | Allocations: 8956)
  Rendered users/_follow_btn.html.erb (Duration: 0.6ms | Allocations: 607)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 1], ["follower_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 2.1ms | Allocations: 2251)
  Rendered books/_newbook.html.erb (Duration: 16.1ms | Allocations: 9779)
  Rendered books/_index.html.erb (Duration: 1.0ms | Allocations: 753)
  Rendered books/index.html.erb within layouts/application (Duration: 39.8ms | Allocations: 25366)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 1.0ms | Allocations: 1339)
  Rendered searches/_search_window.html.erb (Duration: 1.3ms | Allocations: 2045)
  Rendered layout layouts/application.html.erb (Duration: 48.7ms | Allocations: 31939)
Completed 200 OK in 74ms (Views: 50.3ms | ActiveRecord: 1.2ms | Allocations: 55319)


Started GET "/books" for ::1 at 2024-05-05 17:20:25 +0900
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/books_controller.rb:37:in `sort'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 6.7ms | Allocations: 2401)
  Rendered users/_follow_btn.html.erb (Duration: 0.1ms | Allocations: 40)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 1], ["follower_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.8ms | Allocations: 966)
  Rendered books/_newbook.html.erb (Duration: 2.1ms | Allocations: 1773)
  Rendered books/_index.html.erb (Duration: 0.1ms | Allocations: 127)
  Rendered books/index.html.erb within layouts/application (Duration: 11.6ms | Allocations: 5671)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.4ms | Allocations: 748)
  Rendered searches/_search_window.html.erb (Duration: 0.5ms | Allocations: 1656)
  Rendered layout layouts/application.html.erb (Duration: 16.9ms | Allocations: 10424)
Completed 200 OK in 27ms (Views: 17.4ms | ActiveRecord: 1.1ms | Allocations: 13128)


Started GET "/books" for ::1 at 2024-05-05 17:21:42 +0900
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/books_controller.rb:37:in `sort'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 4.8ms | Allocations: 2775)
  Rendered users/_follow_btn.html.erb (Duration: 0.4ms | Allocations: 212)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 1], ["follower_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.9ms | Allocations: 1251)
  Rendered books/_newbook.html.erb (Duration: 2.5ms | Allocations: 2205)
  Rendered books/_index.html.erb (Duration: 0.7ms | Allocations: 685)
  Rendered books/index.html.erb within layouts/application (Duration: 12.9ms | Allocations: 8423)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 1.5ms | Allocations: 1294)
  Rendered searches/_search_window.html.erb (Duration: 0.8ms | Allocations: 1863)
  Rendered layout layouts/application.html.erb (Duration: 20.6ms | Allocations: 14510)
Completed 200 OK in 32ms (Views: 22.2ms | ActiveRecord: 0.8ms | Allocations: 17889)


Started GET "/books" for ::1 at 2024-05-05 17:21:53 +0900
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/books_controller.rb:37:in `sort'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 5.3ms | Allocations: 2298)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 40)
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 1], ["follower_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 0.8ms | Allocations: 964)
  Rendered books/_newbook.html.erb (Duration: 1.4ms | Allocations: 1644)
  Rendered books/_index.html.erb (Duration: 0.1ms | Allocations: 123)
  Rendered books/index.html.erb within layouts/application (Duration: 8.0ms | Allocations: 5426)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.5ms | Allocations: 745)
  Rendered searches/_search_window.html.erb (Duration: 0.4ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 12.3ms | Allocations: 10126)
Completed 200 OK in 22ms (Views: 12.5ms | ActiveRecord: 1.2ms | Allocations: 12615)


Started GET "/books" for ::1 at 2024-05-05 17:22:26 +0900
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/books_controller.rb:37:in `sort'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 3.7ms | Allocations: 2776)
  Rendered users/_follow_btn.html.erb (Duration: 0.4ms | Allocations: 212)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 1], ["follower_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.9ms | Allocations: 1251)
  Rendered books/_newbook.html.erb (Duration: 2.4ms | Allocations: 2201)
  Rendered books/_index.html.erb (Duration: 0.7ms | Allocations: 685)
  Rendered books/index.html.erb within layouts/application (Duration: 11.5ms | Allocations: 8417)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 1.3ms | Allocations: 1293)
  Rendered searches/_search_window.html.erb (Duration: 0.8ms | Allocations: 1864)
  Rendered layout layouts/application.html.erb (Duration: 18.5ms | Allocations: 14503)
Completed 200 OK in 33ms (Views: 22.4ms | ActiveRecord: 0.7ms | Allocations: 17874)


Started GET "/books" for ::1 at 2024-05-05 21:58:23 +0900
Processing by BooksController#index as HTML
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/books_controller.rb:37:in `sort'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 3.2ms | Allocations: 2883)
  Rendered users/_follow_btn.html.erb (Duration: 0.4ms | Allocations: 212)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 1], ["follower_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.5ms | Allocations: 1276)
  Rendered books/_newbook.html.erb (Duration: 3.0ms | Allocations: 2198)
  Rendered books/_index.html.erb (Duration: 0.7ms | Allocations: 685)
  Rendered books/index.html.erb within layouts/application (Duration: 10.9ms | Allocations: 8542)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 1.1ms | Allocations: 1283)
  Rendered searches/_search_window.html.erb (Duration: 1.0ms | Allocations: 1863)
  Rendered layout layouts/application.html.erb (Duration: 23.0ms | Allocations: 14619)
Completed 200 OK in 29ms (Views: 24.5ms | ActiveRecord: 0.7ms | Allocations: 19351)


Started GET "/books" for ::1 at 2024-05-05 22:00:14 +0900
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/books_controller.rb:37:in `sort'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 9.0ms | Allocations: 2775)
  Rendered users/_follow_btn.html.erb (Duration: 0.4ms | Allocations: 212)
  [1m[36mRelationship Load (0.2ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 1], ["follower_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 2.4ms | Allocations: 1251)
  Rendered books/_newbook.html.erb (Duration: 2.5ms | Allocations: 2205)
  Rendered books/_index.html.erb (Duration: 0.8ms | Allocations: 685)
  Rendered books/index.html.erb within layouts/application (Duration: 19.3ms | Allocations: 8421)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.9ms | Allocations: 1256)
  Rendered searches/_search_window.html.erb (Duration: 0.9ms | Allocations: 1863)
  Rendered layout layouts/application.html.erb (Duration: 26.1ms | Allocations: 14470)
Completed 200 OK in 34ms (Views: 28.2ms | ActiveRecord: 1.0ms | Allocations: 17934)


Started GET "/books" for ::1 at 2024-05-05 22:00:30 +0900
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/books_controller.rb:37:in `sort'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 4.6ms | Allocations: 2775)
  Rendered users/_follow_btn.html.erb (Duration: 0.4ms | Allocations: 213)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 1], ["follower_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 2.4ms | Allocations: 1251)
  Rendered books/_newbook.html.erb (Duration: 3.1ms | Allocations: 2194)
  Rendered books/_index.html.erb (Duration: 1.0ms | Allocations: 685)
  Rendered books/index.html.erb within layouts/application (Duration: 14.3ms | Allocations: 8405)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 1.1ms | Allocations: 1254)
  Rendered searches/_search_window.html.erb (Duration: 1.0ms | Allocations: 1863)
  Rendered layout layouts/application.html.erb (Duration: 22.3ms | Allocations: 14450)
Completed 200 OK in 28ms (Views: 23.9ms | ActiveRecord: 0.5ms | Allocations: 17908)


Started GET "/books" for ::1 at 2024-05-05 22:00:31 +0900
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/books_controller.rb:37:in `sort'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 6.2ms | Allocations: 2300)
  Rendered users/_follow_btn.html.erb (Duration: 0.1ms | Allocations: 40)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 1], ["follower_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 2.7ms | Allocations: 964)
  Rendered books/_newbook.html.erb (Duration: 2.4ms | Allocations: 1651)
  Rendered books/_index.html.erb (Duration: 0.1ms | Allocations: 123)
  Rendered books/index.html.erb within layouts/application (Duration: 12.4ms | Allocations: 5435)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 704)
  Rendered searches/_search_window.html.erb (Duration: 0.3ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 15.9ms | Allocations: 10095)
Completed 200 OK in 23ms (Views: 15.9ms | ActiveRecord: 1.0ms | Allocations: 12607)


Started GET "/books" for ::1 at 2024-05-05 22:00:32 +0900
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/books_controller.rb:37:in `sort'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 6.3ms | Allocations: 2298)
  Rendered users/_follow_btn.html.erb (Duration: 0.1ms | Allocations: 40)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 1], ["follower_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 2.6ms | Allocations: 964)
  Rendered books/_newbook.html.erb (Duration: 2.7ms | Allocations: 1655)
  Rendered books/_index.html.erb (Duration: 0.2ms | Allocations: 123)
  Rendered books/index.html.erb within layouts/application (Duration: 12.9ms | Allocations: 5437)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.6ms | Allocations: 704)
  Rendered searches/_search_window.html.erb (Duration: 0.5ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 18.3ms | Allocations: 10096)
Completed 200 OK in 22ms (Views: 18.0ms | ActiveRecord: 0.8ms | Allocations: 12469)


Started GET "/books" for ::1 at 2024-05-05 22:00:40 +0900
Processing by BooksController#index as HTML
  [1m[36mUser Load (3.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/books_controller.rb:37:in `sort'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 3.3ms | Allocations: 2775)
  Rendered users/_follow_btn.html.erb (Duration: 0.4ms | Allocations: 212)
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 1], ["follower_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.3ms | Allocations: 1251)
  Rendered books/_newbook.html.erb (Duration: 2.9ms | Allocations: 2205)
  Rendered books/_index.html.erb (Duration: 1.0ms | Allocations: 685)
  Rendered books/index.html.erb within layouts/application (Duration: 11.1ms | Allocations: 8425)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.8ms | Allocations: 1255)
  Rendered searches/_search_window.html.erb (Duration: 0.7ms | Allocations: 1863)
  Rendered layout layouts/application.html.erb (Duration: 19.1ms | Allocations: 14473)
Completed 200 OK in 34ms (Views: 21.8ms | ActiveRecord: 3.7ms | Allocations: 17819)


Started GET "/books" for ::1 at 2024-05-05 22:00:49 +0900
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/books_controller.rb:37:in `sort'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 7.8ms | Allocations: 2775)
  Rendered users/_follow_btn.html.erb (Duration: 0.4ms | Allocations: 212)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 1], ["follower_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 2.5ms | Allocations: 1251)
  Rendered books/_newbook.html.erb (Duration: 3.5ms | Allocations: 2194)
  Rendered books/_index.html.erb (Duration: 1.1ms | Allocations: 685)
  Rendered books/index.html.erb within layouts/application (Duration: 19.8ms | Allocations: 8405)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 1.2ms | Allocations: 1253)
  Rendered searches/_search_window.html.erb (Duration: 1.0ms | Allocations: 1863)
  Rendered layout layouts/application.html.erb (Duration: 27.8ms | Allocations: 14449)
Completed 200 OK in 42ms (Views: 30.9ms | ActiveRecord: 1.2ms | Allocations: 17905)


Started GET "/books" for ::1 at 2024-05-05 22:01:20 +0900
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/books_controller.rb:37:in `sort'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 2.4ms | Allocations: 2775)
  Rendered users/_follow_btn.html.erb (Duration: 0.2ms | Allocations: 212)
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 1], ["follower_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 0.9ms | Allocations: 1251)
  Rendered books/_newbook.html.erb (Duration: 1.4ms | Allocations: 2201)
  Rendered books/_index.html.erb (Duration: 0.4ms | Allocations: 685)
  Rendered books/index.html.erb within layouts/application (Duration: 6.6ms | Allocations: 8411)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.7ms | Allocations: 1255)
  Rendered searches/_search_window.html.erb (Duration: 0.5ms | Allocations: 1863)
  Rendered layout layouts/application.html.erb (Duration: 13.0ms | Allocations: 14459)
Completed 200 OK in 26ms (Views: 15.0ms | ActiveRecord: 0.6ms | Allocations: 17929)


Started GET "/books" for ::1 at 2024-05-05 22:01:25 +0900
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/books_controller.rb:37:in `sort'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 8.3ms | Allocations: 2298)
  Rendered users/_follow_btn.html.erb (Duration: 0.4ms | Allocations: 40)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 1], ["follower_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 2.8ms | Allocations: 964)
  Rendered books/_newbook.html.erb (Duration: 3.6ms | Allocations: 1655)
  Rendered books/_index.html.erb (Duration: 0.1ms | Allocations: 123)
  Rendered books/index.html.erb within layouts/application (Duration: 16.1ms | Allocations: 5437)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.4ms | Allocations: 704)
  Rendered searches/_search_window.html.erb (Duration: 0.5ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 21.1ms | Allocations: 10096)
Completed 200 OK in 29ms (Views: 21.7ms | ActiveRecord: 1.1ms | Allocations: 12587)


Started GET "/users" for ::1 at 2024-05-05 22:01:26 +0900
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 3.0ms | Allocations: 2577)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 43)
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 1], ["follower_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.1ms | Allocations: 980)
  Rendered books/_newbook.html.erb (Duration: 1.7ms | Allocations: 1865)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:22
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/index.html.erb:28
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/index.html.erb:29
  Rendered users/index.html.erb within layouts/application (Duration: 9.9ms | Allocations: 9081)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 724)
  Rendered searches/_search_window.html.erb (Duration: 0.4ms | Allocations: 1666)
  Rendered layout layouts/application.html.erb (Duration: 14.0ms | Allocations: 13840)
Completed 200 OK in 18ms (Views: 15.1ms | ActiveRecord: 0.4ms | Allocations: 16655)


Started GET "/books" for ::1 at 2024-05-05 22:01:27 +0900
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/books_controller.rb:37:in `sort'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 2.2ms | Allocations: 2298)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 40)
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 1], ["follower_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 0.9ms | Allocations: 964)
  Rendered books/_newbook.html.erb (Duration: 1.6ms | Allocations: 1644)
  Rendered books/_index.html.erb (Duration: 0.2ms | Allocations: 127)
  Rendered books/index.html.erb within layouts/application (Duration: 5.5ms | Allocations: 5430)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.7ms | Allocations: 703)
  Rendered searches/_search_window.html.erb (Duration: 0.6ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 12.9ms | Allocations: 10088)
Completed 200 OK in 16ms (Views: 13.1ms | ActiveRecord: 0.3ms | Allocations: 12576)


Started GET "/users" for ::1 at 2024-05-05 22:01:29 +0900
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 8.1ms | Allocations: 2298)
  Rendered users/_follow_btn.html.erb (Duration: 0.1ms | Allocations: 40)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 1], ["follower_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 2.0ms | Allocations: 964)
  Rendered books/_newbook.html.erb (Duration: 3.2ms | Allocations: 1646)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:22
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/index.html.erb:28
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/index.html.erb:29
  Rendered users/index.html.erb within layouts/application (Duration: 19.4ms | Allocations: 8003)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.4ms | Allocations: 703)
  Rendered searches/_search_window.html.erb (Duration: 0.5ms | Allocations: 1644)
  Rendered layout layouts/application.html.erb (Duration: 29.8ms | Allocations: 12662)
Completed 200 OK in 39ms (Views: 30.1ms | ActiveRecord: 1.4ms | Allocations: 14335)


Started GET "/books" for ::1 at 2024-05-05 22:01:30 +0900
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/books_controller.rb:37:in `sort'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 7.4ms | Allocations: 2298)
  Rendered users/_follow_btn.html.erb (Duration: 0.1ms | Allocations: 40)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 1], ["follower_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 2.5ms | Allocations: 964)
  Rendered books/_newbook.html.erb (Duration: 3.4ms | Allocations: 1655)
  Rendered books/_index.html.erb (Duration: 0.2ms | Allocations: 123)
  Rendered books/index.html.erb within layouts/application (Duration: 14.4ms | Allocations: 5437)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.6ms | Allocations: 703)
  Rendered searches/_search_window.html.erb (Duration: 0.7ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 21.2ms | Allocations: 10095)
Completed 200 OK in 31ms (Views: 21.1ms | ActiveRecord: 1.3ms | Allocations: 12468)


Started GET "/users" for ::1 at 2024-05-05 22:01:31 +0900
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 5.0ms | Allocations: 2298)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 40)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 1], ["follower_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.2ms | Allocations: 964)
  Rendered books/_newbook.html.erb (Duration: 1.6ms | Allocations: 1654)
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:22
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/index.html.erb:28
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/index.html.erb:29
  Rendered users/index.html.erb within layouts/application (Duration: 11.2ms | Allocations: 8011)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.5ms | Allocations: 704)
  Rendered searches/_search_window.html.erb (Duration: 0.4ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 15.9ms | Allocations: 12670)
Completed 200 OK in 26ms (Views: 16.0ms | ActiveRecord: 0.7ms | Allocations: 14340)


Started GET "/groups/new" for ::1 at 2024-05-05 22:01:32 +0900
Processing by GroupsController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 500 Internal Server Error in 24ms (ActiveRecord: 0.2ms | Allocations: 8885)


  
NoMethodError (undefined method `attachment' for Group:Class):
  
app/models/group.rb:5:in `<class:Group>'
app/models/group.rb:1:in `<main>'
app/controllers/groups_controller.rb:4:in `new'
Started GET "/groups/new" for ::1 at 2024-05-06 07:49:34 +0900
Processing by GroupsController#new as HTML
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering groups/new.html.erb within layouts/application
  Rendered groups/new.html.erb within layouts/application (Duration: 2.8ms | Allocations: 2795)
  Rendered layout layouts/application.html.erb (Duration: 3.0ms | Allocations: 2877)
Completed 500 Internal Server Error in 23ms (ActiveRecord: 0.8ms | Allocations: 24372)


  
ActionView::Template::Error (undefined method `attachment_field' for #<ActionView::Helpers::FormBuilder:0x0000000105e6b008 @nested_child_index={}, @options={:allow_method_names_outside_object=>true, :skip_default_ids=>false}, @template=#<ActionView::Base:0x0000000000ead8>, @object=#<Group id: nil, name: nil, introduction: nil, image_id: nil, owner_id: nil, created_at: nil, updated_at: nil>, @object_name="group", @default_options={:skip_default_ids=>false, :allow_method_names_outside_object=>true}, @default_html_options={}, @multipart=nil, @index=nil>):
    13:       </div>
    14:       <div class="form_group">
    15:         <p>グループ画像</p>
    16:         <%= f.attachment_field :image, placeholder: 'グループ画像' ,class:"form-control-file user_image" %>
    17:       </div>
    18:       <div class="form_group">
    19:         <%= f.hidden_field :owner_id , value: current_user.id %>
  
app/views/groups/new.html.erb:16
app/views/groups/new.html.erb:5
Started GET "/groups/new" for ::1 at 2024-05-06 07:50:03 +0900
Processing by GroupsController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering groups/new.html.erb within layouts/application
  Rendered groups/new.html.erb within layouts/application (Duration: 4.0ms | Allocations: 859)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 5.9ms | Allocations: 1277)
  Rendered searches/_search_window.html.erb (Duration: 1.7ms | Allocations: 1866)
  Rendered layout layouts/application.html.erb (Duration: 22.2ms | Allocations: 7071)
Completed 200 OK in 31ms (Views: 24.6ms | ActiveRecord: 0.2ms | Allocations: 10428)


Started GET "/" for ::1 at 2024-05-06 07:50:08 +0900
Processing by HomesController#top as HTML
  Rendering layout layouts/application.html.erb
  Rendering homes/top.html.erb within layouts/application
  Rendered homes/top.html.erb within layouts/application (Duration: 0.5ms | Allocations: 322)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/_header.html.erb:9
  Rendered layouts/_header.html.erb (Duration: 1.8ms | Allocations: 1868)
  Rendered searches/_search_window.html.erb (Duration: 0.4ms | Allocations: 1666)
  Rendered layout layouts/application.html.erb (Duration: 6.9ms | Allocations: 6308)
Completed 200 OK in 9ms (Views: 8.0ms | ActiveRecord: 0.1ms | Allocations: 7607)


Started GET "/books" for ::1 at 2024-05-06 07:50:15 +0900
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/books_controller.rb:37:in `sort'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 6.0ms | Allocations: 5320)
  Rendered users/_follow_btn.html.erb (Duration: 0.5ms | Allocations: 241)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 1], ["follower_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 2.6ms | Allocations: 1468)
  Rendered books/_newbook.html.erb (Duration: 4.1ms | Allocations: 2304)
  Rendered books/_index.html.erb (Duration: 1.0ms | Allocations: 685)
  Rendered books/index.html.erb within layouts/application (Duration: 17.0ms | Allocations: 11370)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.5ms | Allocations: 723)
  Rendered searches/_search_window.html.erb (Duration: 0.4ms | Allocations: 1666)
  Rendered layout layouts/application.html.erb (Duration: 22.0ms | Allocations: 16066)
Completed 200 OK in 46ms (Views: 22.6ms | ActiveRecord: 0.9ms | Allocations: 27270)


Started GET "/users" for ::1 at 2024-05-06 07:50:17 +0900
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 6.5ms | Allocations: 2577)
  Rendered users/_follow_btn.html.erb (Duration: 0.1ms | Allocations: 43)
  [1m[36mRelationship Load (0.2ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 1], ["follower_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 3.0ms | Allocations: 980)
  Rendered books/_newbook.html.erb (Duration: 3.2ms | Allocations: 1854)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:22
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/index.html.erb:28
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/index.html.erb:29
  Rendered users/index.html.erb within layouts/application (Duration: 18.2ms | Allocations: 9042)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 4.4ms | Allocations: 723)
  Rendered searches/_search_window.html.erb (Duration: 0.4ms | Allocations: 1667)
  Rendered layout layouts/application.html.erb (Duration: 27.9ms | Allocations: 13841)
Completed 200 OK in 36ms (Views: 29.4ms | ActiveRecord: 1.0ms | Allocations: 16655)


Started GET "/books" for ::1 at 2024-05-06 07:50:21 +0900
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/books_controller.rb:37:in `sort'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 8.4ms | Allocations: 2298)
  Rendered users/_follow_btn.html.erb (Duration: 0.1ms | Allocations: 40)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 1], ["follower_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 2.3ms | Allocations: 964)
  Rendered books/_newbook.html.erb (Duration: 2.7ms | Allocations: 1655)
  Rendered books/_index.html.erb (Duration: 0.2ms | Allocations: 127)
  Rendered books/index.html.erb within layouts/application (Duration: 14.3ms | Allocations: 5441)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.5ms | Allocations: 703)
  Rendered searches/_search_window.html.erb (Duration: 0.7ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 20.5ms | Allocations: 10099)
Completed 200 OK in 29ms (Views: 19.5ms | ActiveRecord: 1.7ms | Allocations: 12589)


Started POST "/books" for ::1 at 2024-05-06 07:50:53 +0900
Processing by BooksController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "book"=>{"title"=>"aaaa", "body"=>"aaa"}, "commit"=>"Create Book"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCategory Load (4.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:9:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:11:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:11:in `create'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/books_controller.rb:11:in `create'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 3.8ms | Allocations: 2296)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 40)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 1], ["follower_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.4ms | Allocations: 965)
  Rendered books/_newbook.html.erb (Duration: 2.5ms | Allocations: 1664)
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/_index.html.erb:20
  Rendered books/_index.html.erb (Duration: 1.6ms | Allocations: 831)
  Rendered books/index.html.erb within layouts/application (Duration: 15.3ms | Allocations: 8052)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.6ms | Allocations: 697)
  Rendered searches/_search_window.html.erb (Duration: 0.5ms | Allocations: 1625)
  Rendered layout layouts/application.html.erb (Duration: 20.8ms | Allocations: 12602)
Completed 200 OK in 42ms (Views: 20.7ms | ActiveRecord: 5.6ms | Allocations: 22323)


Started POST "/books" for ::1 at 2024-05-06 07:52:09 +0900
Processing by BooksController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "book"=>{"title"=>"aaaa", "body"=>"aaa"}, "commit"=>"Create Book"}
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:9:in `create'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:12:in `create'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:12:in `create'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/books_controller.rb:12:in `create'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 3.3ms | Allocations: 5245)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 47)
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 1], ["follower_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 0.9ms | Allocations: 1198)
  Rendered books/_newbook.html.erb (Duration: 4.6ms | Allocations: 1879)
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/_index.html.erb:20
  Rendered books/_index.html.erb (Duration: 0.8ms | Allocations: 919)
  Rendered books/index.html.erb within layouts/application (Duration: 10.2ms | Allocations: 10204)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 721)
  Rendered searches/_search_window.html.erb (Duration: 0.2ms | Allocations: 1648)
  Rendered layout layouts/application.html.erb (Duration: 13.4ms | Allocations: 14863)
Completed 200 OK in 31ms (Views: 13.6ms | ActiveRecord: 1.3ms | Allocations: 40477)


Started POST "/books" for ::1 at 2024-05-06 07:52:31 +0900
Processing by BooksController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "book"=>{"title"=>"aaaa", "body"=>"aaa"}, "commit"=>"Create Book"}
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:9:in `create'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:11:in `create'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:11:in `create'
  [1m[36mBook Create (0.2ms)[0m  [1m[32mINSERT INTO "books" ("title", "body", "user_id", "created_at", "updated_at", "rate", "category_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["title", "aaaa"], ["body", "aaa"], ["user_id", 1], ["created_at", "2024-05-05 22:52:31.496929"], ["updated_at", "2024-05-05 22:52:31.496929"], ["rate", 0.5], ["category_id", 1]]
  ↳ app/controllers/books_controller.rb:11:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/books_controller.rb:11:in `create'
Redirected to http://localhost:3000/books/1
Completed 302 Found in 17ms (ActiveRecord: 1.4ms | Allocations: 26199)


Started GET "/books/1" for ::1 at 2024-05-06 07:52:31 +0900
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:48:in `show'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:49:in `show'
Completed 500 Internal Server Error in 14ms (ActiveRecord: 0.4ms | Allocations: 12304)


  
NoMethodError (undefined method `impressionist' for #<BooksController:0x00000000015310>

    impressionist(@user_book, nil, unique: [:session_hash.to_s])
    ^^^^^^^^^^^^^):
  
app/controllers/books_controller.rb:52:in `show'
Started GET "/books/1" for ::1 at 2024-05-06 07:53:00 +0900
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mUser Load (2.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:48:in `show'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:49:in `show'
  Rendering layout layouts/application.html.erb
  Rendering books/show.html.erb within layouts/application
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 3.4ms | Allocations: 5473)
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/show.html.erb:40
  [1m[36mFavorite Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 1], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 4.6ms | Allocations: 4776)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/book_comments/_count.html.erb:1
  Rendered book_comments/_count.html.erb (Duration: 1.1ms | Allocations: 1031)
  [1m[36mBookComment Load (0.1ms)[0m  [1m[34mSELECT "book_comments".* FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/book_comments/_comment.html.erb:1
  Rendered book_comments/_comment.html.erb (Duration: 1.0ms | Allocations: 1076)
  Rendered books/show.html.erb within layouts/application (Duration: 16.3ms | Allocations: 20047)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.8ms | Allocations: 1261)
  Rendered searches/_search_window.html.erb (Duration: 0.7ms | Allocations: 1863)
  Rendered layout layouts/application.html.erb (Duration: 25.7ms | Allocations: 26093)
Completed 200 OK in 46ms (Views: 25.7ms | ActiveRecord: 4.6ms | Allocations: 52607)


Started GET "/books/1/edit" for ::1 at 2024-05-06 07:53:02 +0900
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:81:in `baria_book'
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:56:in `edit'
  Rendering layout layouts/application.html.erb
  Rendering books/edit.html.erb within layouts/application
  Rendered books/edit.html.erb within layouts/application (Duration: 4.6ms | Allocations: 2425)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.4ms | Allocations: 703)
  Rendered searches/_search_window.html.erb (Duration: 0.4ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 11.9ms | Allocations: 7084)
Completed 200 OK in 26ms (Views: 12.5ms | ActiveRecord: 0.4ms | Allocations: 11013)


Started PATCH "/books/1" for ::1 at 2024-05-06 07:53:05 +0900
Processing by BooksController#update as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "book"=>{"title"=>"aaaadddd", "body"=>"aaa"}, "commit"=>"Update Book", "id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:60:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:61:in `update'
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:61:in `update'
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:61:in `update'
  [1m[36mBook Update (0.6ms)[0m  [1m[33mUPDATE "books" SET "title" = ?, "updated_at" = ? WHERE "books"."id" = ?[0m  [["title", "aaaadddd"], ["updated_at", "2024-05-05 22:53:05.725115"], ["id", 1]]
  ↳ app/controllers/books_controller.rb:61:in `update'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/books_controller.rb:61:in `update'
Redirected to http://localhost:3000/books/1
Completed 302 Found in 29ms (ActiveRecord: 2.7ms | Allocations: 7328)


Started GET "/books/1" for ::1 at 2024-05-06 07:53:05 +0900
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:48:in `show'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:49:in `show'
  Rendering layout layouts/application.html.erb
  Rendering books/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 3.3ms | Allocations: 2346)
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/show.html.erb:40
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 1], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 3.3ms | Allocations: 1896)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/book_comments/_count.html.erb:1
  Rendered book_comments/_count.html.erb (Duration: 0.9ms | Allocations: 848)
  [1m[36mBookComment Load (0.0ms)[0m  [1m[34mSELECT "book_comments".* FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/book_comments/_comment.html.erb:1
  Rendered book_comments/_comment.html.erb (Duration: 0.9ms | Allocations: 770)
  Rendered books/show.html.erb within layouts/application (Duration: 12.0ms | Allocations: 8700)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.4ms | Allocations: 702)
  Rendered searches/_search_window.html.erb (Duration: 0.5ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 16.6ms | Allocations: 13358)
Completed 200 OK in 20ms (Views: 16.4ms | ActiveRecord: 0.7ms | Allocations: 16625)


Started DELETE "/books/1" for ::1 at 2024-05-06 07:53:10 +0900
Processing by BooksController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:69:in `destroy'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:70:in `destroy'
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/controllers/books_controller.rb:70:in `destroy'
  [1m[36mBookComment Load (0.2ms)[0m  [1m[34mSELECT "book_comments".* FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/controllers/books_controller.rb:70:in `destroy'
  [1m[36mBook Destroy (0.3ms)[0m  [1m[31mDELETE FROM "books" WHERE "books"."id" = ?[0m  [["id", 1]]
  ↳ app/controllers/books_controller.rb:70:in `destroy'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/books_controller.rb:70:in `destroy'
Redirected to http://localhost:3000/books
Completed 302 Found in 22ms (ActiveRecord: 2.2ms | Allocations: 6270)


Started GET "/books" for ::1 at 2024-05-06 07:53:10 +0900
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/books_controller.rb:37:in `sort'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 3.4ms | Allocations: 3709)
  Rendered users/_follow_btn.html.erb (Duration: 0.6ms | Allocations: 1113)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 1], ["follower_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 2.0ms | Allocations: 2872)
  Rendered books/_newbook.html.erb (Duration: 2.2ms | Allocations: 3823)
  Rendered books/_index.html.erb (Duration: 0.4ms | Allocations: 687)
  Rendered books/index.html.erb within layouts/application (Duration: 11.3ms | Allocations: 15375)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 703)
  Rendered searches/_search_window.html.erb (Duration: 0.3ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 15.1ms | Allocations: 20033)
Completed 200 OK in 18ms (Views: 15.0ms | ActiveRecord: 0.4ms | Allocations: 22621)


Started GET "/users" for ::1 at 2024-05-06 07:53:14 +0900
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 4.4ms | Allocations: 2577)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 43)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 1], ["follower_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 2.4ms | Allocations: 980)
  Rendered books/_newbook.html.erb (Duration: 3.2ms | Allocations: 1854)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:22
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/index.html.erb:28
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/index.html.erb:29
  Rendered users/index.html.erb within layouts/application (Duration: 17.5ms | Allocations: 9039)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.5ms | Allocations: 723)
  Rendered searches/_search_window.html.erb (Duration: 0.6ms | Allocations: 1666)
  Rendered layout layouts/application.html.erb (Duration: 23.2ms | Allocations: 13837)
Completed 200 OK in 32ms (Views: 26.0ms | ActiveRecord: 0.8ms | Allocations: 16648)


Started GET "/users/1" for ::1 at 2024-05-06 07:53:16 +0900
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:6:in `show'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-05-05 00:00:00"], ["created_at", "2024-05-05 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:9:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-05-04 00:00:00"], ["created_at", "2024-05-04 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:10:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-05-03 00:00:00"], ["created_at", "2024-05-03 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:11:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-05-02 00:00:00"], ["created_at", "2024-05-02 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:12:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-01 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:13:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-04-30 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:14:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-04-29 00:00:00"], ["created_at", "2024-04-29 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:15:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-04-29 00:00:00"], ["created_at", "2024-05-05 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:22:in `show'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-04-21 00:00:00"], ["created_at", "2024-04-28 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:23:in `show'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 4.6ms | Allocations: 2472)
  Rendered users/_follow_btn.html.erb (Duration: 0.1ms | Allocations: 40)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 1], ["follower_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.6ms | Allocations: 980)
  Rendered books/_newbook.html.erb (Duration: 2.3ms | Allocations: 1789)
  Rendered users/_userbooks.html.erb (Duration: 1.0ms | Allocations: 488)
  Rendered users/_count_search.html.erb (Duration: 0.3ms | Allocations: 181)
  Rendered users/show.html.erb within layouts/application (Duration: 13.7ms | Allocations: 7843)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 713)
  Rendered searches/_search_window.html.erb (Duration: 0.5ms | Allocations: 1656)
  Rendered layout layouts/application.html.erb (Duration: 18.8ms | Allocations: 12499)
Completed 200 OK in 50ms (Views: 18.9ms | ActiveRecord: 2.3ms | Allocations: 25486)


Started GET "/users/1/edit" for ::1 at 2024-05-06 07:53:20 +0900
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:104:in `baria_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:75:in `edit'
  Rendering layout layouts/application.html.erb
  Rendering users/edit.html.erb within layouts/application
  Rendered users/edit.html.erb within layouts/application (Duration: 4.6ms | Allocations: 1673)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.5ms | Allocations: 718)
  Rendered searches/_search_window.html.erb (Duration: 0.3ms | Allocations: 1656)
  Rendered layout layouts/application.html.erb (Duration: 9.4ms | Allocations: 6689)
Completed 200 OK in 21ms (Views: 9.9ms | ActiveRecord: 0.5ms | Allocations: 10572)


Started PATCH "/users/1" for ::1 at 2024-05-06 07:53:22 +0900
Processing by UsersController#update as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"name"=>"aaaaddd", "introduction"=>"ddd"}, "commit"=>"Update User", "id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:79:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/users_controller.rb:80:in `update'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = ? AND "users"."id" != ? LIMIT ?[0m  [["name", "aaaaddd"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:80:in `update'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "name" = ?, "introduction" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["name", "aaaaddd"], ["introduction", "ddd"], ["updated_at", "2024-05-05 22:53:22.952933"], ["id", 1]]
  ↳ app/controllers/users_controller.rb:80:in `update'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/users_controller.rb:80:in `update'
Redirected to http://localhost:3000/users/1
Completed 302 Found in 24ms (ActiveRecord: 1.9ms | Allocations: 6989)


Started GET "/users/1" for ::1 at 2024-05-06 07:53:22 +0900
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:6:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-05-05 00:00:00"], ["created_at", "2024-05-05 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:9:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-05-04 00:00:00"], ["created_at", "2024-05-04 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:10:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-05-03 00:00:00"], ["created_at", "2024-05-03 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:11:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-05-02 00:00:00"], ["created_at", "2024-05-02 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:12:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-01 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:13:in `show'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-04-30 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:14:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-04-29 00:00:00"], ["created_at", "2024-04-29 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:15:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-04-29 00:00:00"], ["created_at", "2024-05-05 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:22:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-04-21 00:00:00"], ["created_at", "2024-04-28 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:23:in `show'
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 3.0ms | Allocations: 2335)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 40)
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 1], ["follower_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.2ms | Allocations: 964)
  Rendered books/_newbook.html.erb (Duration: 1.9ms | Allocations: 1743)
  Rendered users/_userbooks.html.erb (Duration: 0.0ms | Allocations: 38)
  Rendered users/_count_search.html.erb (Duration: 0.0ms | Allocations: 38)
  Rendered users/show.html.erb within layouts/application (Duration: 7.1ms | Allocations: 6207)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.4ms | Allocations: 702)
  Rendered searches/_search_window.html.erb (Duration: 0.5ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 11.9ms | Allocations: 10767)
Completed 200 OK in 29ms (Views: 12.1ms | ActiveRecord: 1.4ms | Allocations: 21563)


Started GET "/categories" for ::1 at 2024-05-06 07:53:28 +0900
Processing by CategoriesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering categories/index.html.erb within layouts/application
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/views/categories/index.html.erb:20
  Rendered categories/index.html.erb within layouts/application (Duration: 4.6ms | Allocations: 1808)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.5ms | Allocations: 740)
  Rendered searches/_search_window.html.erb (Duration: 0.4ms | Allocations: 1666)
  Rendered layout layouts/application.html.erb (Duration: 9.3ms | Allocations: 6641)
Completed 200 OK in 22ms (Views: 16.1ms | ActiveRecord: 0.6ms | Allocations: 9662)


Started GET "/" for ::1 at 2024-05-06 07:53:30 +0900
Processing by HomesController#top as HTML
  Rendering layout layouts/application.html.erb
  Rendering homes/top.html.erb within layouts/application
  Rendered homes/top.html.erb within layouts/application (Duration: 0.6ms | Allocations: 315)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/_header.html.erb:9
  Rendered layouts/_header.html.erb (Duration: 2.0ms | Allocations: 1869)
  Rendered searches/_search_window.html.erb (Duration: 0.3ms | Allocations: 1666)
  Rendered layout layouts/application.html.erb (Duration: 6.4ms | Allocations: 6302)
Completed 200 OK in 8ms (Views: 7.5ms | ActiveRecord: 0.1ms | Allocations: 7599)


Started GET "/users" for ::1 at 2024-05-06 07:53:35 +0900
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 7.7ms | Allocations: 2373)
  Rendered users/_follow_btn.html.erb (Duration: 0.1ms | Allocations: 40)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 1], ["follower_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 3.4ms | Allocations: 966)
  Rendered books/_newbook.html.erb (Duration: 2.8ms | Allocations: 1744)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:22
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/index.html.erb:28
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/index.html.erb:29
  Rendered users/index.html.erb within layouts/application (Duration: 20.3ms | Allocations: 8180)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.5ms | Allocations: 703)
  Rendered searches/_search_window.html.erb (Duration: 0.7ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 26.9ms | Allocations: 12838)
Completed 200 OK in 33ms (Views: 27.1ms | ActiveRecord: 1.0ms | Allocations: 14567)


Started GET "/search?range=User&search=forword_match&word=aaa&commit=%E6%A4%9C%E7%B4%A2" for ::1 at 2024-05-06 07:53:44 +0900
Processing by SearchesController#search as HTML
  Parameters: {"range"=>"User", "search"=>"forword_match", "word"=>"aaa", "commit"=>"検索"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering searches/search.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE (name LIKE '%aaa')[0m
  ↳ app/views/searches/search.html.erb:15
  Rendered searches/search.html.erb within layouts/application (Duration: 9.0ms | Allocations: 1297)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.6ms | Allocations: 813)
  Rendered searches/_search_window.html.erb (Duration: 0.7ms | Allocations: 1666)
  Rendered layout layouts/application.html.erb (Duration: 16.1ms | Allocations: 6238)
Completed 200 OK in 25ms (Views: 17.9ms | ActiveRecord: 0.4ms | Allocations: 8983)


Started GET "/users" for ::1 at 2024-05-06 07:53:48 +0900
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 3.2ms | Allocations: 2370)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 40)
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 1], ["follower_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.0ms | Allocations: 966)
  Rendered books/_newbook.html.erb (Duration: 1.7ms | Allocations: 1753)
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:22
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/index.html.erb:28
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/index.html.erb:29
  Rendered users/index.html.erb within layouts/application (Duration: 8.9ms | Allocations: 8185)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.5ms | Allocations: 703)
  Rendered searches/_search_window.html.erb (Duration: 0.3ms | Allocations: 1644)
  Rendered layout layouts/application.html.erb (Duration: 13.2ms | Allocations: 12844)
Completed 200 OK in 15ms (Views: 13.0ms | ActiveRecord: 0.5ms | Allocations: 14636)


Started GET "/search?range=User&search=perfect_match&word=aaaaddd&commit=%E6%A4%9C%E7%B4%A2" for ::1 at 2024-05-06 07:54:01 +0900
Processing by SearchesController#search as HTML
  Parameters: {"range"=>"User", "search"=>"perfect_match", "word"=>"aaaaddd", "commit"=>"検索"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering searches/search.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE (name LIKE 'aaaaddd')[0m
  ↳ app/views/searches/search.html.erb:15
  Rendered searches/search.html.erb within layouts/application (Duration: 3.6ms | Allocations: 814)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.4ms | Allocations: 713)
  Rendered searches/_search_window.html.erb (Duration: 1.1ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 8.6ms | Allocations: 5503)
Completed 200 OK in 18ms (Views: 9.0ms | ActiveRecord: 0.6ms | Allocations: 7178)


Started GET "/search?range=User&search=partial_match&word=aaa&commit=%E6%A4%9C%E7%B4%A2" for ::1 at 2024-05-06 07:54:07 +0900
Processing by SearchesController#search as HTML
  Parameters: {"range"=>"User", "search"=>"partial_match", "word"=>"aaa", "commit"=>"検索"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering searches/search.html.erb within layouts/application
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE (name LIKE '%aaa%')[0m
  ↳ app/views/searches/search.html.erb:15
  Rendered searches/search.html.erb within layouts/application (Duration: 3.2ms | Allocations: 811)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.7ms | Allocations: 714)
  Rendered searches/_search_window.html.erb (Duration: 0.6ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 16.8ms | Allocations: 5501)
Completed 200 OK in 23ms (Views: 17.0ms | ActiveRecord: 1.1ms | Allocations: 7170)


Started GET "/search?range=User&search=perfect_match&word=d&commit=%E6%A4%9C%E7%B4%A2" for ::1 at 2024-05-06 07:54:09 +0900
Processing by SearchesController#search as HTML
  Parameters: {"range"=>"User", "search"=>"perfect_match", "word"=>"d", "commit"=>"検索"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering searches/search.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE (name LIKE 'd')[0m
  ↳ app/views/searches/search.html.erb:15
  Rendered searches/search.html.erb within layouts/application (Duration: 3.2ms | Allocations: 765)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.4ms | Allocations: 722)
  Rendered searches/_search_window.html.erb (Duration: 0.5ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 12.8ms | Allocations: 5464)
Completed 200 OK in 21ms (Views: 12.8ms | ActiveRecord: 0.9ms | Allocations: 7129)


Started GET "/search?range=User&search=forword_match&word=aaa&commit=%E6%A4%9C%E7%B4%A2" for ::1 at 2024-05-06 07:54:13 +0900
Processing by SearchesController#search as HTML
  Parameters: {"range"=>"User", "search"=>"forword_match", "word"=>"aaa", "commit"=>"検索"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering searches/search.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE (name LIKE '%aaa')[0m
  ↳ app/views/searches/search.html.erb:15
  Rendered searches/search.html.erb within layouts/application (Duration: 2.8ms | Allocations: 765)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.5ms | Allocations: 722)
  Rendered searches/_search_window.html.erb (Duration: 0.3ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 17.3ms | Allocations: 5464)
Completed 200 OK in 25ms (Views: 17.6ms | ActiveRecord: 0.9ms | Allocations: 7131)


Started GET "/search?range=User&search=backword_match&word=dd&commit=%E6%A4%9C%E7%B4%A2" for ::1 at 2024-05-06 07:54:17 +0900
Processing by SearchesController#search as HTML
  Parameters: {"range"=>"User", "search"=>"backword_match", "word"=>"dd", "commit"=>"検索"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering searches/search.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE (name LIKE 'dd%')[0m
  ↳ app/views/searches/search.html.erb:15
  Rendered searches/search.html.erb within layouts/application (Duration: 2.5ms | Allocations: 765)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.5ms | Allocations: 722)
  Rendered searches/_search_window.html.erb (Duration: 0.4ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 13.3ms | Allocations: 5464)
Completed 200 OK in 18ms (Views: 13.7ms | ActiveRecord: 0.5ms | Allocations: 7132)


Started GET "/" for ::1 at 2024-05-06 07:54:19 +0900
Processing by HomesController#top as HTML
  Rendering layout layouts/application.html.erb
  Rendering homes/top.html.erb within layouts/application
  Rendered homes/top.html.erb within layouts/application (Duration: 0.5ms | Allocations: 93)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/_header.html.erb:9
  Rendered layouts/_header.html.erb (Duration: 3.2ms | Allocations: 1645)
  Rendered searches/_search_window.html.erb (Duration: 0.6ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 16.4ms | Allocations: 5875)
Completed 200 OK in 18ms (Views: 17.6ms | ActiveRecord: 0.1ms | Allocations: 7014)


Started GET "/users/sign_out" for ::1 at 2024-05-06 07:54:22 +0900
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_out"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:6:in `show'
Completed 404 Not Found in 3ms (ActiveRecord: 0.1ms | Allocations: 2389)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=sign_out):
  
app/controllers/users_controller.rb:6:in `show'
Started GET "/" for ::1 at 2024-05-06 07:54:50 +0900
Processing by HomesController#top as HTML
  Rendering layout layouts/application.html.erb
  Rendering homes/top.html.erb within layouts/application
  Rendered homes/top.html.erb within layouts/application (Duration: 0.1ms | Allocations: 93)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/_header.html.erb:9
  Rendered layouts/_header.html.erb (Duration: 1.7ms | Allocations: 1645)
  Rendered searches/_search_window.html.erb (Duration: 0.3ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 6.0ms | Allocations: 5714)
Completed 200 OK in 7ms (Views: 6.1ms | ActiveRecord: 0.1ms | Allocations: 6112)


Started GET "/" for ::1 at 2024-05-06 07:54:53 +0900
Processing by HomesController#top as HTML
  Rendering layout layouts/application.html.erb
  Rendering homes/top.html.erb within layouts/application
  Rendered homes/top.html.erb within layouts/application (Duration: 0.3ms | Allocations: 93)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/_header.html.erb:9
  Rendered layouts/_header.html.erb (Duration: 8.5ms | Allocations: 1645)
  Rendered searches/_search_window.html.erb (Duration: 0.5ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 18.6ms | Allocations: 5714)
Completed 200 OK in 20ms (Views: 18.8ms | ActiveRecord: 0.3ms | Allocations: 6113)


Started GET "/" for ::1 at 2024-05-06 07:55:01 +0900
Processing by HomesController#top as HTML
  Rendering layout layouts/application.html.erb
  Rendering homes/top.html.erb within layouts/application
  Rendered homes/top.html.erb within layouts/application (Duration: 0.5ms | Allocations: 93)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/_header.html.erb:9
  Rendered layouts/_header.html.erb (Duration: 1.7ms | Allocations: 1645)
  Rendered searches/_search_window.html.erb (Duration: 0.4ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 13.3ms | Allocations: 5714)
Completed 200 OK in 17ms (Views: 14.0ms | ActiveRecord: 0.1ms | Allocations: 6113)


Started GET "/users/sign_out" for ::1 at 2024-05-06 07:55:02 +0900
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_out"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:6:in `show'
Completed 404 Not Found in 6ms (ActiveRecord: 0.4ms | Allocations: 2354)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=sign_out):
  
app/controllers/users_controller.rb:6:in `show'
Started GET "/" for ::1 at 2024-05-06 07:55:24 +0900
Processing by HomesController#top as HTML
  Rendering layout layouts/application.html.erb
  Rendering homes/top.html.erb within layouts/application
  Rendered homes/top.html.erb within layouts/application (Duration: 1.9ms | Allocations: 307)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/_header.html.erb:9
  Rendered layouts/_header.html.erb (Duration: 6.3ms | Allocations: 2404)
  Rendered searches/_search_window.html.erb (Duration: 1.5ms | Allocations: 1863)
  Rendered layout layouts/application.html.erb (Duration: 18.8ms | Allocations: 7580)
Completed 200 OK in 25ms (Views: 22.6ms | ActiveRecord: 0.7ms | Allocations: 8961)


Started DELETE "/users/sign_out" for ::1 at 2024-05-06 07:55:25 +0900
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 6ms (ActiveRecord: 0.2ms | Allocations: 3258)


Started GET "/" for ::1 at 2024-05-06 07:55:25 +0900
Processing by HomesController#top as HTML
  Rendering layout layouts/application.html.erb
  Rendering homes/top.html.erb within layouts/application
  Rendered homes/top.html.erb within layouts/application (Duration: 0.1ms | Allocations: 106)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 1.4ms | Allocations: 328)
  Rendered layout layouts/application.html.erb (Duration: 5.1ms | Allocations: 2796)
Completed 200 OK in 6ms (Views: 5.3ms | ActiveRecord: 0.0ms | Allocations: 3269)


Started GET "/users/sign_in" for ::1 at 2024-05-06 07:55:36 +0900
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 1.1ms | Allocations: 712)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 10.7ms | Allocations: 2587)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.5ms | Allocations: 246)
  Rendered layout layouts/application.html.erb (Duration: 19.1ms | Allocations: 6385)
Completed 200 OK in 27ms (Views: 25.7ms | ActiveRecord: 0.0ms | Allocations: 8243)


Started POST "/users/sign_in" for ::1 at 2024-05-06 07:55:38 +0900
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"name"=>"test@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["name", "test@example.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 4ms (ActiveRecord: 0.1ms | Allocations: 2112)


Processing by Devise::SessionsController#new as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"name"=>"test@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.2ms | Allocations: 173)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 0.8ms | Allocations: 1081)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.2ms | Allocations: 187)
  Rendered layout layouts/application.html.erb (Duration: 4.6ms | Allocations: 3743)
Completed 200 OK in 279ms (Views: 5.1ms | ActiveRecord: 0.0ms | Allocations: 4968)


Started GET "/users/sign_up" for ::1 at 2024-05-06 07:55:40 +0900
Processing by Devise::RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (Duration: 0.8ms | Allocations: 342)
  Rendered devise/shared/_links.html.erb (Duration: 0.3ms | Allocations: 197)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 4.2ms | Allocations: 2615)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.4ms | Allocations: 246)
  Rendered layout layouts/application.html.erb (Duration: 8.6ms | Allocations: 5285)
Completed 200 OK in 14ms (Views: 11.1ms | ActiveRecord: 0.0ms | Allocations: 7880)


Started POST "/users" for ::1 at 2024-05-06 07:55:48 +0900
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"name"=>"aaaaa", "email"=>"ryutaromaeda83@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ryutaromaeda83@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "aaaaa"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (Duration: 0.3ms | Allocations: 513)
  Rendered devise/shared/_links.html.erb (Duration: 0.1ms | Allocations: 102)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 1.3ms | Allocations: 2173)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 209)
  Rendered layout layouts/application.html.erb (Duration: 4.2ms | Allocations: 4664)
Completed 200 OK in 283ms (Views: 4.4ms | ActiveRecord: 0.3ms | Allocations: 12742)


Started GET "/" for ::1 at 2024-05-06 07:55:54 +0900
Processing by HomesController#top as HTML
  Rendering layout layouts/application.html.erb
  Rendering homes/top.html.erb within layouts/application
  Rendered homes/top.html.erb within layouts/application (Duration: 0.3ms | Allocations: 93)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 234)
  Rendered layout layouts/application.html.erb (Duration: 18.0ms | Allocations: 3540)
Completed 200 OK in 21ms (Views: 18.4ms | ActiveRecord: 0.0ms | Allocations: 3938)


Started GET "/users/sign_in" for ::1 at 2024-05-06 07:55:55 +0900
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 1.8ms | Allocations: 147)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 6.9ms | Allocations: 975)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 209)
  Rendered layout layouts/application.html.erb (Duration: 20.2ms | Allocations: 3617)
Completed 200 OK in 22ms (Views: 20.9ms | ActiveRecord: 0.0ms | Allocations: 4242)


Started POST "/users/sign_in" for ::1 at 2024-05-06 07:56:01 +0900
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"name"=>"ryutaromaeda83@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["name", "ryutaromaeda83@gmail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 7ms (ActiveRecord: 0.5ms | Allocations: 1585)


Processing by Devise::SessionsController#new as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"name"=>"ryutaromaeda83@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.2ms | Allocations: 147)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1.4ms | Allocations: 949)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.2ms | Allocations: 183)
  Rendered layout layouts/application.html.erb (Duration: 6.7ms | Allocations: 3535)
Completed 200 OK in 275ms (Views: 7.2ms | ActiveRecord: 0.0ms | Allocations: 4097)


Started GET "/users/sign_up" for ::1 at 2024-05-06 07:56:06 +0900
Processing by Devise::RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (Duration: 0.1ms | Allocations: 43)
  Rendered devise/shared/_links.html.erb (Duration: 0.2ms | Allocations: 102)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 6.0ms | Allocations: 2134)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.4ms | Allocations: 209)
  Rendered layout layouts/application.html.erb (Duration: 14.5ms | Allocations: 4677)
Completed 200 OK in 16ms (Views: 14.9ms | ActiveRecord: 0.0ms | Allocations: 5237)


Started POST "/users" for ::1 at 2024-05-06 07:56:17 +0900
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"name"=>"aaa", "email"=>"admin@mail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "aaa"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["email", "admin@mail.com"], ["encrypted_password", "$2a$12$p9Fg6MqY.7X6.K2gFlVGtOEvFGloQb8MnjmUszT0KARYGrAbDLuFO"], ["name", "aaa"], ["created_at", "2024-05-05 22:56:17.432633"], ["updated_at", "2024-05-05 22:56:17.432633"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/users/2
Completed 302 Found in 279ms (ActiveRecord: 0.8ms | Allocations: 7903)


Started GET "/users/2" for ::1 at 2024-05-06 07:56:17 +0900
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:6:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-05 00:00:00"], ["created_at", "2024-05-05 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:9:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-04 00:00:00"], ["created_at", "2024-05-04 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:10:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-03 00:00:00"], ["created_at", "2024-05-03 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:11:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-02 00:00:00"], ["created_at", "2024-05-02 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:12:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-01 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:13:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-04-30 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:14:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-04-29 00:00:00"], ["created_at", "2024-04-29 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:15:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-04-29 00:00:00"], ["created_at", "2024-05-05 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:22:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-04-21 00:00:00"], ["created_at", "2024-04-28 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:23:in `show'
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 2.6ms | Allocations: 2776)
  Rendered users/_follow_btn.html.erb (Duration: 0.4ms | Allocations: 211)
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.2ms | Allocations: 1251)
  Rendered books/_newbook.html.erb (Duration: 2.1ms | Allocations: 2208)
  Rendered users/_userbooks.html.erb (Duration: 0.4ms | Allocations: 474)
  Rendered users/_count_search.html.erb (Duration: 0.1ms | Allocations: 138)
  Rendered users/show.html.erb within layouts/application (Duration: 8.9ms | Allocations: 9281)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 728)
  Rendered searches/_search_window.html.erb (Duration: 0.2ms | Allocations: 1666)
  Rendered layout layouts/application.html.erb (Duration: 11.9ms | Allocations: 13983)
Completed 200 OK in 20ms (Views: 12.4ms | ActiveRecord: 0.7ms | Allocations: 25496)


Started POST "/books" for ::1 at 2024-05-06 07:56:23 +0900
Processing by BooksController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "book"=>{"title"=>"dddd", "body"=>"ddddd"}, "commit"=>"Create Book"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:9:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:11:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:11:in `create'
  [1m[36mBook Create (0.3ms)[0m  [1m[32mINSERT INTO "books" ("title", "body", "user_id", "created_at", "updated_at", "rate", "category_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["title", "dddd"], ["body", "ddddd"], ["user_id", 2], ["created_at", "2024-05-05 22:56:23.278227"], ["updated_at", "2024-05-05 22:56:23.278227"], ["rate", 0.5], ["category_id", 1]]
  ↳ app/controllers/books_controller.rb:11:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/books_controller.rb:11:in `create'
Redirected to http://localhost:3000/books/1
Completed 302 Found in 20ms (ActiveRecord: 1.8ms | Allocations: 6093)


Started GET "/books/1" for ::1 at 2024-05-06 07:56:23 +0900
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:48:in `show'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:49:in `show'
  Rendering layout layouts/application.html.erb
  Rendering books/show.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 3.6ms | Allocations: 2571)
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/show.html.erb:40
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 4.1ms | Allocations: 2107)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/book_comments/_count.html.erb:1
  Rendered book_comments/_count.html.erb (Duration: 1.7ms | Allocations: 933)
  [1m[36mBookComment Load (0.1ms)[0m  [1m[34mSELECT "book_comments".* FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/book_comments/_comment.html.erb:1
  Rendered book_comments/_comment.html.erb (Duration: 2.1ms | Allocations: 1011)
  Rendered books/show.html.erb within layouts/application (Duration: 17.3ms | Allocations: 10871)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 732)
  Rendered searches/_search_window.html.erb (Duration: 0.5ms | Allocations: 1666)
  Rendered layout layouts/application.html.erb (Duration: 21.8ms | Allocations: 15677)
Completed 200 OK in 28ms (Views: 22.5ms | ActiveRecord: 0.9ms | Allocations: 19661)


Started POST "/books/1/book_comments" for ::1 at 2024-05-06 07:56:26 +0900
Processing by BookCommentsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "book_comment"=>{"comment_content"=>"ddd", "book_id"=>"1"}, "commit"=>"送信", "book_id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/book_comments_controller.rb:4:in `create'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/book_comments_controller.rb:4:in `create'
  [1m[36mBookComment Create (0.7ms)[0m  [1m[32mINSERT INTO "book_comments" ("comment_content", "user_id", "book_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["comment_content", "ddd"], ["user_id", 2], ["book_id", 1], ["created_at", "2024-05-05 22:56:26.890058"], ["updated_at", "2024-05-05 22:56:26.890058"]]
  ↳ app/controllers/book_comments_controller.rb:4:in `create'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/book_comments_controller.rb:4:in `create'
Completed 406 Not Acceptable in 12ms (ActiveRecord: 1.5ms | Allocations: 7196)


  
ActionController::UnknownFormat (BookCommentsController#create is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []):
  
actionpack (6.1.4) lib/action_controller/metal/implicit_render.rb:42:in `default_render'
actionpack (6.1.4) lib/action_controller/metal/basic_implicit_render.rb:6:in `block in send_action'
<internal:kernel>:90:in `tap'
actionpack (6.1.4) lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
actionpack (6.1.4) lib/abstract_controller/base.rb:228:in `process_action'
actionpack (6.1.4) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (6.1.4) lib/abstract_controller/callbacks.rb:42:in `block in process_action'
activesupport (6.1.4) lib/active_support/callbacks.rb:117:in `block in run_callbacks'
actiontext (6.1.4) lib/action_text/rendering.rb:20:in `with_renderer'
actiontext (6.1.4) lib/action_text/engine.rb:59:in `block (4 levels) in <class:Engine>'
activesupport (6.1.4) lib/active_support/callbacks.rb:126:in `instance_exec'
activesupport (6.1.4) lib/active_support/callbacks.rb:126:in `block in run_callbacks'
activesupport (6.1.4) lib/active_support/callbacks.rb:137:in `run_callbacks'
actionpack (6.1.4) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (6.1.4) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (6.1.4) lib/action_controller/metal/instrumentation.rb:34:in `block in process_action'
activesupport (6.1.4) lib/active_support/notifications.rb:203:in `block in instrument'
activesupport (6.1.4) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.1.4) lib/active_support/notifications.rb:203:in `instrument'
actionpack (6.1.4) lib/action_controller/metal/instrumentation.rb:33:in `process_action'
actionpack (6.1.4) lib/action_controller/metal/params_wrapper.rb:249:in `process_action'
activerecord (6.1.4) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.1.4) lib/abstract_controller/base.rb:165:in `process'
actionview (6.1.4) lib/action_view/rendering.rb:39:in `process'
actionpack (6.1.4) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (6.1.4) lib/action_controller/metal.rb:254:in `dispatch'
actionpack (6.1.4) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (6.1.4) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.1.4) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (6.1.4) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.1.4) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.1.4) lib/action_dispatch/routing/route_set.rb:842:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.9) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.9) lib/rack/etag.rb:27:in `call'
rack (2.2.9) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.9) lib/rack/head.rb:12:in `call'
actionpack (6.1.4) lib/action_dispatch/http/permissions_policy.rb:22:in `call'
actionpack (6.1.4) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.2.9) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.9) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/cookies.rb:689:in `call'
activerecord (6.1.4) lib/active_record/migration.rb:601:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.1.4) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (6.1.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.1.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.1.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.1.4) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (6.1.4) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (6.1.4) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (6.1.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.9) lib/rack/method_override.rb:24:in `call'
rack (2.2.9) lib/rack/runtime.rb:22:in `call'
activesupport (6.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/static.rb:24:in `call'
rack (2.2.9) lib/rack/sendfile.rb:110:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/host_authorization.rb:98:in `call'
rack-mini-profiler (2.3.4) lib/mini_profiler/profiler.rb:393:in `call'
webpacker (5.4.4) lib/webpacker/dev_server_proxy.rb:25:in `perform_request'
rack-proxy (0.7.7) lib/rack/proxy.rb:87:in `call'
railties (6.1.4) lib/rails/engine.rb:539:in `call'
puma (5.6.8) lib/puma/configuration.rb:252:in `call'
puma (5.6.8) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.8) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.8) lib/puma/request.rb:76:in `handle_request'
puma (5.6.8) lib/puma/server.rb:443:in `process_client'
puma (5.6.8) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/books/1" for ::1 at 2024-05-06 08:00:54 +0900
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:48:in `show'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:49:in `show'
  Rendering layout layouts/application.html.erb
  Rendering books/show.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 3.7ms | Allocations: 2776)
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/show.html.erb:40
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 3.2ms | Allocations: 2105)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/book_comments/_count.html.erb:1
  Rendered book_comments/_count.html.erb (Duration: 1.8ms | Allocations: 932)
  [1m[36mBookComment Load (0.1ms)[0m  [1m[34mSELECT "book_comments".* FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/book_comments/_comment.html.erb:1
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/book_comments/_comment.html.erb:5
  Rendered book_comments/_comment.html.erb (Duration: 3.0ms | Allocations: 2102)
  Rendered books/show.html.erb within layouts/application (Duration: 18.1ms | Allocations: 12274)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.9ms | Allocations: 1259)
  Rendered searches/_search_window.html.erb (Duration: 0.9ms | Allocations: 1863)
  Rendered layout layouts/application.html.erb (Duration: 26.7ms | Allocations: 18325)
Completed 200 OK in 42ms (Views: 28.5ms | ActiveRecord: 1.0ms | Allocations: 22565)


Started POST "/books/1/book_comments" for ::1 at 2024-05-06 08:00:56 +0900
Processing by BookCommentsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "book_comment"=>{"comment_content"=>"ddd", "book_id"=>"1"}, "commit"=>"送信", "book_id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/book_comments_controller.rb:4:in `create'
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/book_comments_controller.rb:4:in `create'
  [1m[36mBookComment Create (0.7ms)[0m  [1m[32mINSERT INTO "book_comments" ("comment_content", "user_id", "book_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["comment_content", "ddd"], ["user_id", 2], ["book_id", 1], ["created_at", "2024-05-05 23:00:56.315768"], ["updated_at", "2024-05-05 23:00:56.315768"]]
  ↳ app/controllers/book_comments_controller.rb:4:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/book_comments_controller.rb:4:in `create'
Completed 406 Not Acceptable in 19ms (ActiveRecord: 2.2ms | Allocations: 6402)


  
ActionController::UnknownFormat (BookCommentsController#create is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []):
  
actionpack (6.1.4) lib/action_controller/metal/implicit_render.rb:42:in `default_render'
actionpack (6.1.4) lib/action_controller/metal/basic_implicit_render.rb:6:in `block in send_action'
<internal:kernel>:90:in `tap'
actionpack (6.1.4) lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
actionpack (6.1.4) lib/abstract_controller/base.rb:228:in `process_action'
actionpack (6.1.4) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (6.1.4) lib/abstract_controller/callbacks.rb:42:in `block in process_action'
activesupport (6.1.4) lib/active_support/callbacks.rb:117:in `block in run_callbacks'
actiontext (6.1.4) lib/action_text/rendering.rb:20:in `with_renderer'
actiontext (6.1.4) lib/action_text/engine.rb:59:in `block (4 levels) in <class:Engine>'
activesupport (6.1.4) lib/active_support/callbacks.rb:126:in `instance_exec'
activesupport (6.1.4) lib/active_support/callbacks.rb:126:in `block in run_callbacks'
activesupport (6.1.4) lib/active_support/callbacks.rb:137:in `run_callbacks'
actionpack (6.1.4) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (6.1.4) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (6.1.4) lib/action_controller/metal/instrumentation.rb:34:in `block in process_action'
activesupport (6.1.4) lib/active_support/notifications.rb:203:in `block in instrument'
activesupport (6.1.4) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.1.4) lib/active_support/notifications.rb:203:in `instrument'
actionpack (6.1.4) lib/action_controller/metal/instrumentation.rb:33:in `process_action'
actionpack (6.1.4) lib/action_controller/metal/params_wrapper.rb:249:in `process_action'
activerecord (6.1.4) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.1.4) lib/abstract_controller/base.rb:165:in `process'
actionview (6.1.4) lib/action_view/rendering.rb:39:in `process'
actionpack (6.1.4) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (6.1.4) lib/action_controller/metal.rb:254:in `dispatch'
actionpack (6.1.4) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (6.1.4) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.1.4) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (6.1.4) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.1.4) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.1.4) lib/action_dispatch/routing/route_set.rb:842:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.9) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.9) lib/rack/etag.rb:27:in `call'
rack (2.2.9) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.9) lib/rack/head.rb:12:in `call'
actionpack (6.1.4) lib/action_dispatch/http/permissions_policy.rb:22:in `call'
actionpack (6.1.4) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.2.9) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.9) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/cookies.rb:689:in `call'
activerecord (6.1.4) lib/active_record/migration.rb:601:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.1.4) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (6.1.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.1.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.1.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.1.4) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (6.1.4) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (6.1.4) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (6.1.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.9) lib/rack/method_override.rb:24:in `call'
rack (2.2.9) lib/rack/runtime.rb:22:in `call'
activesupport (6.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/static.rb:24:in `call'
rack (2.2.9) lib/rack/sendfile.rb:110:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/host_authorization.rb:98:in `call'
rack-mini-profiler (2.3.4) lib/mini_profiler/profiler.rb:393:in `call'
webpacker (5.4.4) lib/webpacker/dev_server_proxy.rb:25:in `perform_request'
rack-proxy (0.7.7) lib/rack/proxy.rb:87:in `call'
railties (6.1.4) lib/rails/engine.rb:539:in `call'
puma (5.6.8) lib/puma/configuration.rb:252:in `call'
puma (5.6.8) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.8) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.8) lib/puma/request.rb:76:in `handle_request'
puma (5.6.8) lib/puma/server.rb:443:in `process_client'
puma (5.6.8) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/books/1" for ::1 at 2024-05-06 08:00:58 +0900
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:48:in `show'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:49:in `show'
  Rendering layout layouts/application.html.erb
  Rendering books/show.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 5.2ms | Allocations: 2298)
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/show.html.erb:40
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.8ms | Allocations: 1886)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/book_comments/_count.html.erb:1
  Rendered book_comments/_count.html.erb (Duration: 1.1ms | Allocations: 847)
  [1m[36mBookComment Load (0.1ms)[0m  [1m[34mSELECT "book_comments".* FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/book_comments/_comment.html.erb:1
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/book_comments/_comment.html.erb:5
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/book_comments/_comment.html.erb:5
  Rendered book_comments/_comment.html.erb (Duration: 5.1ms | Allocations: 2542)
  Rendered books/show.html.erb within layouts/application (Duration: 19.3ms | Allocations: 10422)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.4ms | Allocations: 709)
  Rendered searches/_search_window.html.erb (Duration: 0.7ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 24.9ms | Allocations: 15085)
Completed 200 OK in 37ms (Views: 24.7ms | ActiveRecord: 1.4ms | Allocations: 18358)


Started GET "/books/1" for ::1 at 2024-05-06 08:01:00 +0900
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.7ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:48:in `show'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:49:in `show'
  Rendering layout layouts/application.html.erb
  Rendering books/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 3.0ms | Allocations: 2298)
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/show.html.erb:40
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.8ms | Allocations: 1886)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/book_comments/_count.html.erb:1
  Rendered book_comments/_count.html.erb (Duration: 1.3ms | Allocations: 847)
  [1m[36mBookComment Load (0.1ms)[0m  [1m[34mSELECT "book_comments".* FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/book_comments/_comment.html.erb:1
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/book_comments/_comment.html.erb:5
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/book_comments/_comment.html.erb:5
  Rendered book_comments/_comment.html.erb (Duration: 4.2ms | Allocations: 2542)
  Rendered books/show.html.erb within layouts/application (Duration: 15.1ms | Allocations: 10411)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.6ms | Allocations: 708)
  Rendered searches/_search_window.html.erb (Duration: 0.7ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 21.6ms | Allocations: 15073)
Completed 200 OK in 35ms (Views: 21.3ms | ActiveRecord: 1.6ms | Allocations: 18320)


Started GET "/books/1" for ::1 at 2024-05-06 08:01:01 +0900
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (1.6ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:48:in `show'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:49:in `show'
  Rendering layout layouts/application.html.erb
  Rendering books/show.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 3.5ms | Allocations: 2298)
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/show.html.erb:40
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 3.0ms | Allocations: 1886)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/book_comments/_count.html.erb:1
  Rendered book_comments/_count.html.erb (Duration: 1.3ms | Allocations: 847)
  [1m[36mBookComment Load (0.1ms)[0m  [1m[34mSELECT "book_comments".* FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/book_comments/_comment.html.erb:1
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/book_comments/_comment.html.erb:5
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/book_comments/_comment.html.erb:5
  Rendered book_comments/_comment.html.erb (Duration: 5.3ms | Allocations: 2542)
  Rendered books/show.html.erb within layouts/application (Duration: 17.2ms | Allocations: 10411)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.4ms | Allocations: 708)
  Rendered searches/_search_window.html.erb (Duration: 3.3ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 26.0ms | Allocations: 15073)
Completed 200 OK in 42ms (Views: 25.7ms | ActiveRecord: 2.8ms | Allocations: 18321)


Started POST "/books/1/book_comments" for ::1 at 2024-05-06 08:01:04 +0900
Processing by BookCommentsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "book_comment"=>{"comment_content"=>"ddd", "book_id"=>"1"}, "commit"=>"送信", "book_id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/book_comments_controller.rb:4:in `create'
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/book_comments_controller.rb:4:in `create'
  [1m[36mBookComment Create (0.5ms)[0m  [1m[32mINSERT INTO "book_comments" ("comment_content", "user_id", "book_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["comment_content", "ddd"], ["user_id", 2], ["book_id", 1], ["created_at", "2024-05-05 23:01:04.270511"], ["updated_at", "2024-05-05 23:01:04.270511"]]
  ↳ app/controllers/book_comments_controller.rb:4:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/book_comments_controller.rb:4:in `create'
Completed 406 Not Acceptable in 21ms (ActiveRecord: 2.5ms | Allocations: 5425)


  
ActionController::UnknownFormat (BookCommentsController#create is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []):
  
actionpack (6.1.4) lib/action_controller/metal/implicit_render.rb:42:in `default_render'
actionpack (6.1.4) lib/action_controller/metal/basic_implicit_render.rb:6:in `block in send_action'
<internal:kernel>:90:in `tap'
actionpack (6.1.4) lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
actionpack (6.1.4) lib/abstract_controller/base.rb:228:in `process_action'
actionpack (6.1.4) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (6.1.4) lib/abstract_controller/callbacks.rb:42:in `block in process_action'
activesupport (6.1.4) lib/active_support/callbacks.rb:117:in `block in run_callbacks'
actiontext (6.1.4) lib/action_text/rendering.rb:20:in `with_renderer'
actiontext (6.1.4) lib/action_text/engine.rb:59:in `block (4 levels) in <class:Engine>'
activesupport (6.1.4) lib/active_support/callbacks.rb:126:in `instance_exec'
activesupport (6.1.4) lib/active_support/callbacks.rb:126:in `block in run_callbacks'
activesupport (6.1.4) lib/active_support/callbacks.rb:137:in `run_callbacks'
actionpack (6.1.4) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (6.1.4) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (6.1.4) lib/action_controller/metal/instrumentation.rb:34:in `block in process_action'
activesupport (6.1.4) lib/active_support/notifications.rb:203:in `block in instrument'
activesupport (6.1.4) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.1.4) lib/active_support/notifications.rb:203:in `instrument'
actionpack (6.1.4) lib/action_controller/metal/instrumentation.rb:33:in `process_action'
actionpack (6.1.4) lib/action_controller/metal/params_wrapper.rb:249:in `process_action'
activerecord (6.1.4) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.1.4) lib/abstract_controller/base.rb:165:in `process'
actionview (6.1.4) lib/action_view/rendering.rb:39:in `process'
actionpack (6.1.4) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (6.1.4) lib/action_controller/metal.rb:254:in `dispatch'
actionpack (6.1.4) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (6.1.4) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.1.4) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (6.1.4) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.1.4) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.1.4) lib/action_dispatch/routing/route_set.rb:842:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.9) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.9) lib/rack/etag.rb:27:in `call'
rack (2.2.9) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.9) lib/rack/head.rb:12:in `call'
actionpack (6.1.4) lib/action_dispatch/http/permissions_policy.rb:22:in `call'
actionpack (6.1.4) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.2.9) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.9) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/cookies.rb:689:in `call'
activerecord (6.1.4) lib/active_record/migration.rb:601:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.1.4) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (6.1.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.1.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.1.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.1.4) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (6.1.4) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (6.1.4) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (6.1.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.9) lib/rack/method_override.rb:24:in `call'
rack (2.2.9) lib/rack/runtime.rb:22:in `call'
activesupport (6.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/static.rb:24:in `call'
rack (2.2.9) lib/rack/sendfile.rb:110:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/host_authorization.rb:98:in `call'
rack-mini-profiler (2.3.4) lib/mini_profiler/profiler.rb:393:in `call'
webpacker (5.4.4) lib/webpacker/dev_server_proxy.rb:25:in `perform_request'
rack-proxy (0.7.7) lib/rack/proxy.rb:87:in `call'
railties (6.1.4) lib/rails/engine.rb:539:in `call'
puma (5.6.8) lib/puma/configuration.rb:252:in `call'
puma (5.6.8) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.8) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.8) lib/puma/request.rb:76:in `handle_request'
puma (5.6.8) lib/puma/server.rb:443:in `process_client'
puma (5.6.8) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/books/1" for ::1 at 2024-05-06 08:01:07 +0900
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (2.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:48:in `show'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:49:in `show'
  Rendering layout layouts/application.html.erb
  Rendering books/show.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 3.3ms | Allocations: 2298)
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/show.html.erb:40
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 3.0ms | Allocations: 1886)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/book_comments/_count.html.erb:1
  Rendered book_comments/_count.html.erb (Duration: 1.6ms | Allocations: 847)
  [1m[36mBookComment Load (0.1ms)[0m  [1m[34mSELECT "book_comments".* FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/book_comments/_comment.html.erb:1
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/book_comments/_comment.html.erb:5
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/book_comments/_comment.html.erb:5
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/book_comments/_comment.html.erb:5
  Rendered book_comments/_comment.html.erb (Duration: 6.8ms | Allocations: 3426)
  Rendered books/show.html.erb within layouts/application (Duration: 19.3ms | Allocations: 11306)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.4ms | Allocations: 709)
  Rendered searches/_search_window.html.erb (Duration: 0.6ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 25.3ms | Allocations: 15969)
Completed 200 OK in 38ms (Views: 25.1ms | ActiveRecord: 3.3ms | Allocations: 19218)


Started DELETE "/books/1/book_comments/1" for ::1 at 2024-05-06 08:01:12 +0900
Processing by BookCommentsController#destroy as JS
  Parameters: {"book_id"=>"1", "id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBookComment Load (0.3ms)[0m  [1m[34mSELECT "book_comments".* FROM "book_comments" WHERE "book_comments"."id" = ? AND "book_comments"."book_id" = ? AND "book_comments"."user_id" = ? LIMIT ?[0m  [["id", 1], ["book_id", 1], ["user_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/book_comments_controller.rb:11:in `destroy'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/book_comments_controller.rb:12:in `destroy'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/book_comments_controller.rb:13:in `destroy'
  [1m[36mBookComment Destroy (0.7ms)[0m  [1m[31mDELETE FROM "book_comments" WHERE "book_comments"."id" = ?[0m  [["id", 1]]
  ↳ app/controllers/book_comments_controller.rb:13:in `destroy'
  [1m[36mTRANSACTION (6.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/book_comments_controller.rb:13:in `destroy'
  Rendering book_comments/destroy.js.erb
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/book_comments/destroy.js.erb:1
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/book_comments/_count.html.erb:1
  Rendered book_comments/_count.html.erb (Duration: 1.3ms | Allocations: 967)
  [1m[36mBookComment Load (0.1ms)[0m  [1m[34mSELECT "book_comments".* FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/book_comments/_comment.html.erb:1
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/book_comments/_comment.html.erb:5
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/book_comments/_comment.html.erb:5
  Rendered book_comments/_comment.html.erb (Duration: 2.9ms | Allocations: 2642)
  Rendered book_comments/destroy.js.erb (Duration: 7.8ms | Allocations: 5285)
Completed 200 OK in 40ms (Views: 14.1ms | ActiveRecord: 7.9ms | Allocations: 11901)


Started DELETE "/books/1/book_comments/2" for ::1 at 2024-05-06 08:01:14 +0900
Processing by BookCommentsController#destroy as JS
  Parameters: {"book_id"=>"1", "id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBookComment Load (0.5ms)[0m  [1m[34mSELECT "book_comments".* FROM "book_comments" WHERE "book_comments"."id" = ? AND "book_comments"."book_id" = ? AND "book_comments"."user_id" = ? LIMIT ?[0m  [["id", 2], ["book_id", 1], ["user_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/book_comments_controller.rb:11:in `destroy'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/book_comments_controller.rb:12:in `destroy'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/book_comments_controller.rb:13:in `destroy'
  [1m[36mBookComment Destroy (0.4ms)[0m  [1m[31mDELETE FROM "book_comments" WHERE "book_comments"."id" = ?[0m  [["id", 2]]
  ↳ app/controllers/book_comments_controller.rb:13:in `destroy'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/book_comments_controller.rb:13:in `destroy'
  Rendering book_comments/destroy.js.erb
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/book_comments/destroy.js.erb:1
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/book_comments/_count.html.erb:1
  Rendered book_comments/_count.html.erb (Duration: 1.6ms | Allocations: 911)
  [1m[36mBookComment Load (0.1ms)[0m  [1m[34mSELECT "book_comments".* FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/book_comments/_comment.html.erb:1
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/book_comments/_comment.html.erb:5
  Rendered book_comments/_comment.html.erb (Duration: 3.2ms | Allocations: 1704)
  Rendered book_comments/destroy.js.erb (Duration: 6.6ms | Allocations: 3658)
Completed 200 OK in 25ms (Views: 6.5ms | ActiveRecord: 3.0ms | Allocations: 8663)


Started DELETE "/books/1/book_comments/3" for ::1 at 2024-05-06 08:01:15 +0900
Processing by BookCommentsController#destroy as JS
  Parameters: {"book_id"=>"1", "id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBookComment Load (0.1ms)[0m  [1m[34mSELECT "book_comments".* FROM "book_comments" WHERE "book_comments"."id" = ? AND "book_comments"."book_id" = ? AND "book_comments"."user_id" = ? LIMIT ?[0m  [["id", 3], ["book_id", 1], ["user_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/book_comments_controller.rb:11:in `destroy'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/book_comments_controller.rb:12:in `destroy'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/book_comments_controller.rb:13:in `destroy'
  [1m[36mBookComment Destroy (0.8ms)[0m  [1m[31mDELETE FROM "book_comments" WHERE "book_comments"."id" = ?[0m  [["id", 3]]
  ↳ app/controllers/book_comments_controller.rb:13:in `destroy'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/book_comments_controller.rb:13:in `destroy'
  Rendering book_comments/destroy.js.erb
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/book_comments/destroy.js.erb:1
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/book_comments/_count.html.erb:1
  Rendered book_comments/_count.html.erb (Duration: 3.2ms | Allocations: 912)
  [1m[36mBookComment Load (0.2ms)[0m  [1m[34mSELECT "book_comments".* FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/book_comments/_comment.html.erb:1
  Rendered book_comments/_comment.html.erb (Duration: 2.0ms | Allocations: 776)
  Rendered book_comments/destroy.js.erb (Duration: 11.2ms | Allocations: 2644)
Completed 200 OK in 30ms (Views: 10.8ms | ActiveRecord: 3.6ms | Allocations: 7526)


Started POST "/books/1/book_comments" for ::1 at 2024-05-06 08:01:17 +0900
Processing by BookCommentsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "book_comment"=>{"comment_content"=>"dddffff", "book_id"=>"1"}, "commit"=>"送信", "book_id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/book_comments_controller.rb:4:in `create'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/book_comments_controller.rb:4:in `create'
  [1m[36mBookComment Create (0.4ms)[0m  [1m[32mINSERT INTO "book_comments" ("comment_content", "user_id", "book_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["comment_content", "dddffff"], ["user_id", 2], ["book_id", 1], ["created_at", "2024-05-05 23:01:17.250121"], ["updated_at", "2024-05-05 23:01:17.250121"]]
  ↳ app/controllers/book_comments_controller.rb:4:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/book_comments_controller.rb:4:in `create'
Completed 406 Not Acceptable in 20ms (ActiveRecord: 2.1ms | Allocations: 5500)


  
ActionController::UnknownFormat (BookCommentsController#create is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []):
  
actionpack (6.1.4) lib/action_controller/metal/implicit_render.rb:42:in `default_render'
actionpack (6.1.4) lib/action_controller/metal/basic_implicit_render.rb:6:in `block in send_action'
<internal:kernel>:90:in `tap'
actionpack (6.1.4) lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
actionpack (6.1.4) lib/abstract_controller/base.rb:228:in `process_action'
actionpack (6.1.4) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (6.1.4) lib/abstract_controller/callbacks.rb:42:in `block in process_action'
activesupport (6.1.4) lib/active_support/callbacks.rb:117:in `block in run_callbacks'
actiontext (6.1.4) lib/action_text/rendering.rb:20:in `with_renderer'
actiontext (6.1.4) lib/action_text/engine.rb:59:in `block (4 levels) in <class:Engine>'
activesupport (6.1.4) lib/active_support/callbacks.rb:126:in `instance_exec'
activesupport (6.1.4) lib/active_support/callbacks.rb:126:in `block in run_callbacks'
activesupport (6.1.4) lib/active_support/callbacks.rb:137:in `run_callbacks'
actionpack (6.1.4) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (6.1.4) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (6.1.4) lib/action_controller/metal/instrumentation.rb:34:in `block in process_action'
activesupport (6.1.4) lib/active_support/notifications.rb:203:in `block in instrument'
activesupport (6.1.4) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.1.4) lib/active_support/notifications.rb:203:in `instrument'
actionpack (6.1.4) lib/action_controller/metal/instrumentation.rb:33:in `process_action'
actionpack (6.1.4) lib/action_controller/metal/params_wrapper.rb:249:in `process_action'
activerecord (6.1.4) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.1.4) lib/abstract_controller/base.rb:165:in `process'
actionview (6.1.4) lib/action_view/rendering.rb:39:in `process'
actionpack (6.1.4) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (6.1.4) lib/action_controller/metal.rb:254:in `dispatch'
actionpack (6.1.4) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (6.1.4) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.1.4) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (6.1.4) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.1.4) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.1.4) lib/action_dispatch/routing/route_set.rb:842:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.9) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.9) lib/rack/etag.rb:27:in `call'
rack (2.2.9) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.9) lib/rack/head.rb:12:in `call'
actionpack (6.1.4) lib/action_dispatch/http/permissions_policy.rb:22:in `call'
actionpack (6.1.4) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.2.9) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.9) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/cookies.rb:689:in `call'
activerecord (6.1.4) lib/active_record/migration.rb:601:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.1.4) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (6.1.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.1.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.1.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.1.4) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (6.1.4) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (6.1.4) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (6.1.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.9) lib/rack/method_override.rb:24:in `call'
rack (2.2.9) lib/rack/runtime.rb:22:in `call'
activesupport (6.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/static.rb:24:in `call'
rack (2.2.9) lib/rack/sendfile.rb:110:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/host_authorization.rb:98:in `call'
rack-mini-profiler (2.3.4) lib/mini_profiler/profiler.rb:393:in `call'
webpacker (5.4.4) lib/webpacker/dev_server_proxy.rb:25:in `perform_request'
rack-proxy (0.7.7) lib/rack/proxy.rb:87:in `call'
railties (6.1.4) lib/rails/engine.rb:539:in `call'
puma (5.6.8) lib/puma/configuration.rb:252:in `call'
puma (5.6.8) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.8) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.8) lib/puma/request.rb:76:in `handle_request'
puma (5.6.8) lib/puma/server.rb:443:in `process_client'
puma (5.6.8) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/books/1" for ::1 at 2024-05-06 08:01:49 +0900
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:48:in `show'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:49:in `show'
  Rendering layout layouts/application.html.erb
  Rendering books/show.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 8.5ms | Allocations: 7932)
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/show.html.erb:40
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 3.9ms | Allocations: 5671)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/book_comments/_count.html.erb:1
  Rendered book_comments/_count.html.erb (Duration: 1.4ms | Allocations: 1629)
  [1m[36mBookComment Load (0.2ms)[0m  [1m[34mSELECT "book_comments".* FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/book_comments/_comment.html.erb:1
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/book_comments/_comment.html.erb:5
  Rendered book_comments/_comment.html.erb (Duration: 3.3ms | Allocations: 2851)
  Rendered books/show.html.erb within layouts/application (Duration: 40.0ms | Allocations: 33066)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 1.0ms | Allocations: 1338)
  Rendered searches/_search_window.html.erb (Duration: 1.2ms | Allocations: 2049)
  Rendered layout layouts/application.html.erb (Duration: 47.6ms | Allocations: 39651)
Completed 200 OK in 84ms (Views: 53.4ms | ActiveRecord: 2.1ms | Allocations: 72417)


Started GET "/books/1" for ::1 at 2024-05-06 08:01:51 +0900
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:48:in `show'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:49:in `show'
  Rendering layout layouts/application.html.erb
  Rendering books/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 4.8ms | Allocations: 2386)
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/show.html.erb:40
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 3.4ms | Allocations: 1896)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/book_comments/_count.html.erb:1
  Rendered book_comments/_count.html.erb (Duration: 1.6ms | Allocations: 847)
  [1m[36mBookComment Load (0.1ms)[0m  [1m[34mSELECT "book_comments".* FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/book_comments/_comment.html.erb:1
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/book_comments/_comment.html.erb:5
  Rendered book_comments/_comment.html.erb (Duration: 2.9ms | Allocations: 1662)
  Rendered books/show.html.erb within layouts/application (Duration: 16.9ms | Allocations: 9782)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.5ms | Allocations: 712)
  Rendered searches/_search_window.html.erb (Duration: 0.4ms | Allocations: 1656)
  Rendered layout layouts/application.html.erb (Duration: 22.5ms | Allocations: 14498)
Completed 200 OK in 50ms (Views: 22.6ms | ActiveRecord: 1.1ms | Allocations: 18092)


Started POST "/books/1/book_comments" for ::1 at 2024-05-06 08:01:54 +0900
Processing by BookCommentsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "book_comment"=>{"comment_content"=>"dfa", "book_id"=>"1"}, "commit"=>"送信", "book_id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/book_comments_controller.rb:4:in `create'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/book_comments_controller.rb:4:in `create'
  [1m[36mBookComment Create (0.4ms)[0m  [1m[32mINSERT INTO "book_comments" ("comment_content", "user_id", "book_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["comment_content", "dfa"], ["user_id", 2], ["book_id", 1], ["created_at", "2024-05-05 23:01:54.223785"], ["updated_at", "2024-05-05 23:01:54.223785"]]
  ↳ app/controllers/book_comments_controller.rb:4:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/book_comments_controller.rb:4:in `create'
Completed 406 Not Acceptable in 19ms (ActiveRecord: 1.4ms | Allocations: 7664)


  
ActionController::UnknownFormat (BookCommentsController#create is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []):
  
actionpack (6.1.4) lib/action_controller/metal/implicit_render.rb:42:in `default_render'
actionpack (6.1.4) lib/action_controller/metal/basic_implicit_render.rb:6:in `block in send_action'
<internal:kernel>:90:in `tap'
actionpack (6.1.4) lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
actionpack (6.1.4) lib/abstract_controller/base.rb:228:in `process_action'
actionpack (6.1.4) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (6.1.4) lib/abstract_controller/callbacks.rb:42:in `block in process_action'
activesupport (6.1.4) lib/active_support/callbacks.rb:117:in `block in run_callbacks'
actiontext (6.1.4) lib/action_text/rendering.rb:20:in `with_renderer'
actiontext (6.1.4) lib/action_text/engine.rb:59:in `block (4 levels) in <class:Engine>'
activesupport (6.1.4) lib/active_support/callbacks.rb:126:in `instance_exec'
activesupport (6.1.4) lib/active_support/callbacks.rb:126:in `block in run_callbacks'
activesupport (6.1.4) lib/active_support/callbacks.rb:137:in `run_callbacks'
actionpack (6.1.4) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (6.1.4) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (6.1.4) lib/action_controller/metal/instrumentation.rb:34:in `block in process_action'
activesupport (6.1.4) lib/active_support/notifications.rb:203:in `block in instrument'
activesupport (6.1.4) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.1.4) lib/active_support/notifications.rb:203:in `instrument'
actionpack (6.1.4) lib/action_controller/metal/instrumentation.rb:33:in `process_action'
actionpack (6.1.4) lib/action_controller/metal/params_wrapper.rb:249:in `process_action'
activerecord (6.1.4) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.1.4) lib/abstract_controller/base.rb:165:in `process'
actionview (6.1.4) lib/action_view/rendering.rb:39:in `process'
actionpack (6.1.4) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (6.1.4) lib/action_controller/metal.rb:254:in `dispatch'
actionpack (6.1.4) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (6.1.4) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.1.4) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (6.1.4) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.1.4) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.1.4) lib/action_dispatch/routing/route_set.rb:842:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.9) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.9) lib/rack/etag.rb:27:in `call'
rack (2.2.9) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.9) lib/rack/head.rb:12:in `call'
actionpack (6.1.4) lib/action_dispatch/http/permissions_policy.rb:22:in `call'
actionpack (6.1.4) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.2.9) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.9) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/cookies.rb:689:in `call'
activerecord (6.1.4) lib/active_record/migration.rb:601:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.1.4) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (6.1.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.1.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.1.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.1.4) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (6.1.4) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (6.1.4) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (6.1.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.9) lib/rack/method_override.rb:24:in `call'
rack (2.2.9) lib/rack/runtime.rb:22:in `call'
activesupport (6.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/static.rb:24:in `call'
rack (2.2.9) lib/rack/sendfile.rb:110:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/host_authorization.rb:98:in `call'
rack-mini-profiler (2.3.4) lib/mini_profiler/profiler.rb:393:in `call'
webpacker (5.4.4) lib/webpacker/dev_server_proxy.rb:25:in `perform_request'
rack-proxy (0.7.7) lib/rack/proxy.rb:87:in `call'
railties (6.1.4) lib/rails/engine.rb:539:in `call'
puma (5.6.8) lib/puma/configuration.rb:252:in `call'
puma (5.6.8) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.8) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.8) lib/puma/request.rb:76:in `handle_request'
puma (5.6.8) lib/puma/server.rb:443:in `process_client'
puma (5.6.8) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/books/1" for ::1 at 2024-05-06 08:06:07 +0900
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:48:in `show'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:49:in `show'
  Rendering layout layouts/application.html.erb
  Rendering books/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 2.7ms | Allocations: 2372)
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/show.html.erb:40
  [1m[36mFavorite Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 5.7ms | Allocations: 1893)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/book_comments/_count.html.erb:1
  Rendered book_comments/_count.html.erb (Duration: 1.1ms | Allocations: 847)
  [1m[36mBookComment Load (0.1ms)[0m  [1m[34mSELECT "book_comments".* FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/book_comments/_comment.html.erb:1
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/book_comments/_comment.html.erb:5
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/book_comments/_comment.html.erb:5
  Rendered book_comments/_comment.html.erb (Duration: 3.9ms | Allocations: 2546)
  Rendered books/show.html.erb within layouts/application (Duration: 19.6ms | Allocations: 10638)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.4ms | Allocations: 712)
  Rendered searches/_search_window.html.erb (Duration: 0.6ms | Allocations: 1656)
  Rendered layout layouts/application.html.erb (Duration: 26.5ms | Allocations: 15355)
Completed 200 OK in 31ms (Views: 26.1ms | ActiveRecord: 0.9ms | Allocations: 18909)


Started DELETE "/books/1/book_comments/4" for ::1 at 2024-05-06 08:06:09 +0900
Processing by BookCommentsController#destroy as JS
  Parameters: {"book_id"=>"1", "id"=>"4"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBookComment Load (0.2ms)[0m  [1m[34mSELECT "book_comments".* FROM "book_comments" WHERE "book_comments"."id" = ? AND "book_comments"."book_id" = ? AND "book_comments"."user_id" = ? LIMIT ?[0m  [["id", 4], ["book_id", 1], ["user_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/book_comments_controller.rb:11:in `destroy'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/book_comments_controller.rb:12:in `destroy'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/book_comments_controller.rb:13:in `destroy'
  [1m[36mBookComment Destroy (0.6ms)[0m  [1m[31mDELETE FROM "book_comments" WHERE "book_comments"."id" = ?[0m  [["id", 4]]
  ↳ app/controllers/book_comments_controller.rb:13:in `destroy'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/book_comments_controller.rb:13:in `destroy'
  Rendering book_comments/destroy.js.erb
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/book_comments/destroy.js.erb:1
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/book_comments/_count.html.erb:1
  Rendered book_comments/_count.html.erb (Duration: 2.8ms | Allocations: 967)
  [1m[36mBookComment Load (0.1ms)[0m  [1m[34mSELECT "book_comments".* FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/book_comments/_comment.html.erb:1
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/book_comments/_comment.html.erb:5
  Rendered book_comments/_comment.html.erb (Duration: 3.9ms | Allocations: 1950)
  Rendered book_comments/destroy.js.erb (Duration: 10.9ms | Allocations: 4518)
Completed 200 OK in 31ms (Views: 13.6ms | ActiveRecord: 2.6ms | Allocations: 11244)


Started GET "/books/1" for ::1 at 2024-05-06 08:10:04 +0900
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:48:in `show'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:49:in `show'
  Rendering layout layouts/application.html.erb
  Rendering books/show.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 3.1ms | Allocations: 2777)
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/show.html.erb:40
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.3ms | Allocations: 2105)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/book_comments/_count.html.erb:1
  Rendered book_comments/_count.html.erb (Duration: 1.3ms | Allocations: 932)
  [1m[36mBookComment Load (0.1ms)[0m  [1m[34mSELECT "book_comments".* FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/book_comments/_comment.html.erb:1
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/book_comments/_comment.html.erb:5
  Rendered book_comments/_comment.html.erb (Duration: 2.4ms | Allocations: 1905)
  Rendered books/show.html.erb within layouts/application (Duration: 14.2ms | Allocations: 12083)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.9ms | Allocations: 1259)
  Rendered searches/_search_window.html.erb (Duration: 0.7ms | Allocations: 1863)
  Rendered layout layouts/application.html.erb (Duration: 21.8ms | Allocations: 18135)
Completed 200 OK in 43ms (Views: 24.5ms | ActiveRecord: 1.4ms | Allocations: 22498)


Started POST "/books/1/book_comments" for ::1 at 2024-05-06 08:10:07 +0900
Processing by BookCommentsController#create as JS
  Parameters: {"authenticity_token"=>"[FILTERED]", "book_comment"=>{"comment_content"=>"dadsfa", "book_id"=>"1"}, "commit"=>"送信", "book_id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/book_comments_controller.rb:4:in `create'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/book_comments_controller.rb:4:in `create'
  [1m[36mBookComment Create (0.7ms)[0m  [1m[32mINSERT INTO "book_comments" ("comment_content", "user_id", "book_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["comment_content", "dadsfa"], ["user_id", 2], ["book_id", 1], ["created_at", "2024-05-05 23:10:07.371730"], ["updated_at", "2024-05-05 23:10:07.371730"]]
  ↳ app/controllers/book_comments_controller.rb:4:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/book_comments_controller.rb:4:in `create'
  Rendering book_comments/create.js.erb
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/book_comments/_count.html.erb:1
  Rendered book_comments/_count.html.erb (Duration: 2.2ms | Allocations: 1091)
  [1m[36mBookComment Load (0.1ms)[0m  [1m[34mSELECT "book_comments".* FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/book_comments/_comment.html.erb:1
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/book_comments/_comment.html.erb:5
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/book_comments/_comment.html.erb:5
  Rendered book_comments/_comment.html.erb (Duration: 4.7ms | Allocations: 2643)
  Rendered book_comments/create.js.erb (Duration: 9.0ms | Allocations: 4499)
Completed 200 OK in 37ms (Views: 12.2ms | ActiveRecord: 3.0ms | Allocations: 11341)


Started POST "/books/1/book_comments" for ::1 at 2024-05-06 08:10:09 +0900
Processing by BookCommentsController#create as JS
  Parameters: {"authenticity_token"=>"[FILTERED]", "book_comment"=>{"comment_content"=>"fdasfsad", "book_id"=>"1"}, "commit"=>"送信", "book_id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/book_comments_controller.rb:4:in `create'
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/book_comments_controller.rb:4:in `create'
  [1m[36mBookComment Create (0.5ms)[0m  [1m[32mINSERT INTO "book_comments" ("comment_content", "user_id", "book_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["comment_content", "fdasfsad"], ["user_id", 2], ["book_id", 1], ["created_at", "2024-05-05 23:10:09.362279"], ["updated_at", "2024-05-05 23:10:09.362279"]]
  ↳ app/controllers/book_comments_controller.rb:4:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/book_comments_controller.rb:4:in `create'
  Rendering book_comments/create.js.erb
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/book_comments/_count.html.erb:1
  Rendered book_comments/_count.html.erb (Duration: 1.3ms | Allocations: 911)
  [1m[36mBookComment Load (0.0ms)[0m  [1m[34mSELECT "book_comments".* FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/book_comments/_comment.html.erb:1
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/book_comments/_comment.html.erb:5
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/book_comments/_comment.html.erb:5
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/book_comments/_comment.html.erb:5
  Rendered book_comments/_comment.html.erb (Duration: 4.1ms | Allocations: 3444)
  Rendered book_comments/create.js.erb (Duration: 5.8ms | Allocations: 4778)
Completed 200 OK in 30ms (Views: 5.9ms | ActiveRecord: 2.6ms | Allocations: 10170)


Started DELETE "/books/1/book_comments/6" for ::1 at 2024-05-06 08:10:10 +0900
Processing by BookCommentsController#destroy as JS
  Parameters: {"book_id"=>"1", "id"=>"6"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBookComment Load (0.1ms)[0m  [1m[34mSELECT "book_comments".* FROM "book_comments" WHERE "book_comments"."id" = ? AND "book_comments"."book_id" = ? AND "book_comments"."user_id" = ? LIMIT ?[0m  [["id", 6], ["book_id", 1], ["user_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/book_comments_controller.rb:11:in `destroy'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/book_comments_controller.rb:12:in `destroy'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/book_comments_controller.rb:13:in `destroy'
  [1m[36mBookComment Destroy (0.6ms)[0m  [1m[31mDELETE FROM "book_comments" WHERE "book_comments"."id" = ?[0m  [["id", 6]]
  ↳ app/controllers/book_comments_controller.rb:13:in `destroy'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/book_comments_controller.rb:13:in `destroy'
  Rendering book_comments/destroy.js.erb
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/book_comments/destroy.js.erb:1
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/book_comments/_count.html.erb:1
  Rendered book_comments/_count.html.erb (Duration: 2.9ms | Allocations: 911)
  [1m[36mBookComment Load (0.1ms)[0m  [1m[34mSELECT "book_comments".* FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/book_comments/_comment.html.erb:1
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/book_comments/_comment.html.erb:5
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/book_comments/_comment.html.erb:5
  Rendered book_comments/_comment.html.erb (Duration: 3.7ms | Allocations: 2574)
  Rendered book_comments/destroy.js.erb (Duration: 12.0ms | Allocations: 4716)
Completed 200 OK in 35ms (Views: 11.9ms | ActiveRecord: 3.3ms | Allocations: 9785)


Started DELETE "/books/1/book_comments/5" for ::1 at 2024-05-06 08:10:11 +0900
Processing by BookCommentsController#destroy as JS
  Parameters: {"book_id"=>"1", "id"=>"5"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBookComment Load (0.2ms)[0m  [1m[34mSELECT "book_comments".* FROM "book_comments" WHERE "book_comments"."id" = ? AND "book_comments"."book_id" = ? AND "book_comments"."user_id" = ? LIMIT ?[0m  [["id", 5], ["book_id", 1], ["user_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/book_comments_controller.rb:11:in `destroy'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/book_comments_controller.rb:12:in `destroy'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/book_comments_controller.rb:13:in `destroy'
  [1m[36mBookComment Destroy (0.6ms)[0m  [1m[31mDELETE FROM "book_comments" WHERE "book_comments"."id" = ?[0m  [["id", 5]]
  ↳ app/controllers/book_comments_controller.rb:13:in `destroy'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/book_comments_controller.rb:13:in `destroy'
  Rendering book_comments/destroy.js.erb
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/book_comments/destroy.js.erb:1
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/book_comments/_count.html.erb:1
  Rendered book_comments/_count.html.erb (Duration: 2.2ms | Allocations: 911)
  [1m[36mBookComment Load (0.1ms)[0m  [1m[34mSELECT "book_comments".* FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/book_comments/_comment.html.erb:1
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/book_comments/_comment.html.erb:5
  Rendered book_comments/_comment.html.erb (Duration: 3.2ms | Allocations: 1704)
  Rendered book_comments/destroy.js.erb (Duration: 7.5ms | Allocations: 3658)
Completed 200 OK in 24ms (Views: 7.5ms | ActiveRecord: 2.6ms | Allocations: 8541)


Started GET "/users/2/edit" for ::1 at 2024-05-06 08:10:16 +0900
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:104:in `baria_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:75:in `edit'
  Rendering layout layouts/application.html.erb
  Rendering users/edit.html.erb within layouts/application
  Rendered users/edit.html.erb within layouts/application (Duration: 5.5ms | Allocations: 2800)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.4ms | Allocations: 755)
  Rendered searches/_search_window.html.erb (Duration: 0.3ms | Allocations: 1666)
  Rendered layout layouts/application.html.erb (Duration: 11.8ms | Allocations: 7665)
Completed 200 OK in 16ms (Views: 13.0ms | ActiveRecord: 0.1ms | Allocations: 11673)


Started PATCH "/users/2" for ::1 at 2024-05-06 08:10:18 +0900
Processing by UsersController#update as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"name"=>"aaa", "introduction"=>"ddd"}, "commit"=>"Update User", "id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:79:in `update'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/users_controller.rb:80:in `update'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = ? AND "users"."id" != ? LIMIT ?[0m  [["name", "aaa"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:80:in `update'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "introduction" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["introduction", "ddd"], ["updated_at", "2024-05-05 23:10:18.098647"], ["id", 2]]
  ↳ app/controllers/users_controller.rb:80:in `update'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/users_controller.rb:80:in `update'
Redirected to http://localhost:3000/users/2
Completed 302 Found in 17ms (ActiveRecord: 1.7ms | Allocations: 7133)


Started GET "/users/2" for ::1 at 2024-05-06 08:10:18 +0900
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:6:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-05 00:00:00"], ["created_at", "2024-05-05 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:9:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-04 00:00:00"], ["created_at", "2024-05-04 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:10:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-03 00:00:00"], ["created_at", "2024-05-03 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:11:in `show'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-02 00:00:00"], ["created_at", "2024-05-02 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:12:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-01 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:13:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-04-30 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:14:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-04-29 00:00:00"], ["created_at", "2024-04-29 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:15:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-04-29 00:00:00"], ["created_at", "2024-05-05 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:22:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-04-21 00:00:00"], ["created_at", "2024-04-28 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:23:in `show'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 3.2ms | Allocations: 2481)
  Rendered users/_follow_btn.html.erb (Duration: 0.7ms | Allocations: 219)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 2.5ms | Allocations: 1475)
  Rendered books/_newbook.html.erb (Duration: 2.6ms | Allocations: 2185)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.7ms | Allocations: 1994)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/users/_userbooks.html.erb:36
  Rendered users/_userbooks.html.erb (Duration: 6.7ms | Allocations: 5055)
  Rendered users/_count_search.html.erb (Duration: 0.3ms | Allocations: 181)
  Rendered users/show.html.erb within layouts/application (Duration: 20.3ms | Allocations: 13882)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 720)
  Rendered searches/_search_window.html.erb (Duration: 0.3ms | Allocations: 1656)
  Rendered layout layouts/application.html.erb (Duration: 24.0ms | Allocations: 18549)
Completed 200 OK in 52ms (Views: 23.7ms | ActiveRecord: 2.4ms | Allocations: 33799)


Started POST "/books/1/favorites" for ::1 at 2024-05-06 08:10:21 +0900
Processing by FavoritesController#create as JS
  Parameters: {"book_id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:3:in `create'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."book_id" = ? AND "favorites"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mFavorite Create (0.3ms)[0m  [1m[32mINSERT INTO "favorites" ("book_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["book_id", 1], ["user_id", 2], ["created_at", "2024-05-05 23:10:21.416407"], ["updated_at", "2024-05-05 23:10:21.416407"]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ?[0m  [["id", 2]]
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:7:in `create'
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  [1m[36mCACHE Favorite Load (0.0ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ?[0m  [["id", 2]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  Rendering favorites/create.js.erb
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 5.2ms | Allocations: 3513)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 8.8ms | Allocations: 2525)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:49
  Rendered books/_index.html.erb (Duration: 19.5ms | Allocations: 12008)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.2ms | Allocations: 1804)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/users/_userbooks.html.erb:36
  Rendered users/_userbooks.html.erb (Duration: 5.0ms | Allocations: 4293)
  Rendered favorites/create.js.erb (Duration: 32.6ms | Allocations: 21814)
Completed 200 OK in 52ms (Views: 33.0ms | ActiveRecord: 2.3ms | Allocations: 39677)


Started DELETE "/books/1/favorites" for ::1 at 2024-05-06 08:10:22 +0900
Processing by FavoritesController#destroy as JS
  Parameters: {"book_id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:11:in `destroy'
  [1m[36mFavorite Load (1.0ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" = ? AND "favorites"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:12:in `destroy'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/favorites_controller.rb:13:in `destroy'
  [1m[36mFavorite Destroy (0.5ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = ?[0m  [["id", 1]]
  ↳ app/controllers/favorites_controller.rb:13:in `destroy'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/favorites_controller.rb:13:in `destroy'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/favorites_controller.rb:14:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/controllers/favorites_controller.rb:14:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:15:in `destroy'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/favorites_controller.rb:15:in `sort'
  [1m[36mCACHE Favorite Load (0.0ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/controllers/favorites_controller.rb:15:in `sort'
  Rendering favorites/destroy.js.erb
  [1m[36mFavorite Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 4.8ms | Allocations: 2785)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 3.4ms | Allocations: 2503)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:49
  Rendered books/_index.html.erb (Duration: 12.4ms | Allocations: 10120)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.3ms | Allocations: 1805)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/users/_userbooks.html.erb:36
  Rendered users/_userbooks.html.erb (Duration: 5.0ms | Allocations: 4292)
  Rendered favorites/destroy.js.erb (Duration: 24.4ms | Allocations: 19124)
Completed 200 OK in 55ms (Views: 24.4ms | ActiveRecord: 4.2ms | Allocations: 29834)


Started GET "/search?range=Book&search=perfect_match&word=dd&commit=%E6%A4%9C%E7%B4%A2" for ::1 at 2024-05-06 08:10:42 +0900
Processing by SearchesController#search as HTML
  Parameters: {"range"=>"Book", "search"=>"perfect_match", "word"=>"dd", "commit"=>"検索"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering searches/search.html.erb within layouts/application
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (body LIKE 'dd')[0m
  ↳ app/views/searches/search.html.erb:36
  Rendered searches/search.html.erb within layouts/application (Duration: 5.5ms | Allocations: 1289)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.6ms | Allocations: 822)
  Rendered searches/_search_window.html.erb (Duration: 0.5ms | Allocations: 1666)
  Rendered layout layouts/application.html.erb (Duration: 11.2ms | Allocations: 6239)
Completed 200 OK in 22ms (Views: 13.5ms | ActiveRecord: 0.8ms | Allocations: 9034)


Started GET "/search?range=Book&search=partial_match&word=dd&commit=%E6%A4%9C%E7%B4%A2" for ::1 at 2024-05-06 08:10:46 +0900
Processing by SearchesController#search as HTML
  Parameters: {"range"=>"Book", "search"=>"partial_match", "word"=>"dd", "commit"=>"検索"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering searches/search.html.erb within layouts/application
  [1m[36mBook Load (0.7ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (body LIKE '%dd%')[0m
  ↳ app/views/searches/search.html.erb:36
  Rendered searches/search.html.erb within layouts/application (Duration: 2.5ms | Allocations: 768)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.4ms | Allocations: 728)
  Rendered searches/_search_window.html.erb (Duration: 0.4ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 9.3ms | Allocations: 5473)
Completed 200 OK in 16ms (Views: 9.1ms | ActiveRecord: 1.1ms | Allocations: 7300)


Started GET "/" for ::1 at 2024-05-06 08:10:49 +0900
Processing by HomesController#top as HTML
  Rendering layout layouts/application.html.erb
  Rendering homes/top.html.erb within layouts/application
  Rendered homes/top.html.erb within layouts/application (Duration: 0.9ms | Allocations: 325)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/_header.html.erb:9
  Rendered layouts/_header.html.erb (Duration: 2.3ms | Allocations: 1879)
  Rendered searches/_search_window.html.erb (Duration: 0.4ms | Allocations: 1666)
  Rendered layout layouts/application.html.erb (Duration: 8.1ms | Allocations: 6322)
Completed 200 OK in 10ms (Views: 9.2ms | ActiveRecord: 0.1ms | Allocations: 7622)


Started GET "/users/sign_in" for ::1 at 2024-05-06 08:10:51 +0900
Processing by Devise::SessionsController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/users/2
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 7ms (ActiveRecord: 0.2ms | Allocations: 2898)


Started GET "/users/2" for ::1 at 2024-05-06 08:10:51 +0900
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:6:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-05 00:00:00"], ["created_at", "2024-05-05 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:9:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-04 00:00:00"], ["created_at", "2024-05-04 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:10:in `show'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-03 00:00:00"], ["created_at", "2024-05-03 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:11:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-02 00:00:00"], ["created_at", "2024-05-02 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:12:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-01 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:13:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-04-30 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:14:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-04-29 00:00:00"], ["created_at", "2024-04-29 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:15:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-04-29 00:00:00"], ["created_at", "2024-05-05 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:22:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-04-21 00:00:00"], ["created_at", "2024-04-28 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:23:in `show'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 2.7ms | Allocations: 2351)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 40)
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.6ms | Allocations: 964)
  Rendered books/_newbook.html.erb (Duration: 2.5ms | Allocations: 1785)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.9ms | Allocations: 1987)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/users/_userbooks.html.erb:36
  Rendered users/_userbooks.html.erb (Duration: 6.0ms | Allocations: 4583)
  Rendered users/_count_search.html.erb (Duration: 0.0ms | Allocations: 38)
  Rendered users/show.html.erb within layouts/application (Duration: 13.8ms | Allocations: 10818)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.4ms | Allocations: 708)
  Rendered searches/_search_window.html.erb (Duration: 0.5ms | Allocations: 1656)
  Rendered layout layouts/application.html.erb (Duration: 18.8ms | Allocations: 15422)
Completed 200 OK in 35ms (Views: 18.6ms | ActiveRecord: 1.7ms | Allocations: 27491)


Started GET "/users/2/follows" for ::1 at 2024-05-06 08:10:52 +0900
Processing by UsersController#follows as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:88:in `follows'
  Rendering layout layouts/application.html.erb
  Rendering users/follows.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/follows.html.erb:16
  Rendered users/follows.html.erb within layouts/application (Duration: 4.6ms | Allocations: 2460)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.4ms | Allocations: 729)
  Rendered searches/_search_window.html.erb (Duration: 0.3ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 9.2ms | Allocations: 7257)
Completed 200 OK in 28ms (Views: 9.5ms | ActiveRecord: 1.5ms | Allocations: 9694)


Started GET "/users/2" for ::1 at 2024-05-06 08:10:54 +0900
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:6:in `show'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-05 00:00:00"], ["created_at", "2024-05-05 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:9:in `show'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-04 00:00:00"], ["created_at", "2024-05-04 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:10:in `show'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-03 00:00:00"], ["created_at", "2024-05-03 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:11:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-02 00:00:00"], ["created_at", "2024-05-02 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:12:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-01 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:13:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-04-30 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:14:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-04-29 00:00:00"], ["created_at", "2024-04-29 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:15:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-04-29 00:00:00"], ["created_at", "2024-05-05 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:22:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-04-21 00:00:00"], ["created_at", "2024-04-28 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:23:in `show'
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  [1m[36mFavorite Load (0.0ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 3.0ms | Allocations: 2300)
  Rendered users/_follow_btn.html.erb (Duration: 0.1ms | Allocations: 40)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.7ms | Allocations: 964)
  Rendered books/_newbook.html.erb (Duration: 2.1ms | Allocations: 1657)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.6ms | Allocations: 1981)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/users/_userbooks.html.erb:36
  Rendered users/_userbooks.html.erb (Duration: 5.7ms | Allocations: 4574)
  Rendered users/_count_search.html.erb (Duration: 0.0ms | Allocations: 38)
  Rendered users/show.html.erb within layouts/application (Duration: 13.5ms | Allocations: 10621)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.4ms | Allocations: 708)
  Rendered searches/_search_window.html.erb (Duration: 0.5ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 23.3ms | Allocations: 15183)
Completed 200 OK in 51ms (Views: 23.1ms | ActiveRecord: 2.6ms | Allocations: 27979)


Started GET "/users" for ::1 at 2024-05-06 08:10:58 +0900
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 9.1ms | Allocations: 2506)
  Rendered users/_follow_btn.html.erb (Duration: 0.1ms | Allocations: 40)
  [1m[36mRelationship Load (0.5ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 3.8ms | Allocations: 964)
  Rendered books/_newbook.html.erb (Duration: 3.1ms | Allocations: 1657)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:22
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/index.html.erb:28
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/index.html.erb:29
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/index.html.erb:28
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/index.html.erb:29
  Rendered users/index.html.erb within layouts/application (Duration: 28.0ms | Allocations: 11850)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.7ms | Allocations: 709)
  Rendered searches/_search_window.html.erb (Duration: 0.4ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 33.2ms | Allocations: 16514)
Completed 200 OK in 39ms (Views: 32.4ms | ActiveRecord: 1.7ms | Allocations: 18317)


Started POST "/users/1/relationships" for ::1 at 2024-05-06 08:10:59 +0900
Processing by RelationshipsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user_id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/relationships_controller.rb:4:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/relationships_controller.rb:4:in `create'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/relationships_controller.rb:4:in `create'
  [1m[36mRelationship Create (0.3ms)[0m  [1m[32mINSERT INTO "relationships" ("follower_id", "followed_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["follower_id", 1], ["followed_id", 2], ["created_at", "2024-05-05 23:10:59.652213"], ["updated_at", "2024-05-05 23:10:59.652213"]]
  ↳ app/controllers/relationships_controller.rb:4:in `create'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/relationships_controller.rb:4:in `create'
Redirected to http://localhost:3000/users
Completed 302 Found in 20ms (ActiveRecord: 1.6ms | Allocations: 9047)


Started GET "/users" for ::1 at 2024-05-06 08:10:59 +0900
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 3.9ms | Allocations: 2369)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 40)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.3ms | Allocations: 965)
  Rendered books/_newbook.html.erb (Duration: 2.5ms | Allocations: 1781)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:22
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/index.html.erb:28
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/index.html.erb:29
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/index.html.erb:28
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/index.html.erb:29
  Rendered users/index.html.erb within layouts/application (Duration: 16.5ms | Allocations: 11265)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.4ms | Allocations: 712)
  Rendered searches/_search_window.html.erb (Duration: 0.5ms | Allocations: 1656)
  Rendered layout layouts/application.html.erb (Duration: 21.4ms | Allocations: 15978)
Completed 200 OK in 24ms (Views: 21.2ms | ActiveRecord: 0.8ms | Allocations: 17692)


Started GET "/users/1" for ::1 at 2024-05-06 08:11:01 +0900
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:6:in `show'
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-05-05 00:00:00"], ["created_at", "2024-05-05 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:9:in `show'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-05-04 00:00:00"], ["created_at", "2024-05-04 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:10:in `show'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-05-03 00:00:00"], ["created_at", "2024-05-03 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:11:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-05-02 00:00:00"], ["created_at", "2024-05-02 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:12:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-01 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:13:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-04-30 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:14:in `show'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-04-29 00:00:00"], ["created_at", "2024-04-29 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:15:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-04-29 00:00:00"], ["created_at", "2024-05-05 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:22:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-04-21 00:00:00"], ["created_at", "2024-04-28 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:23:in `show'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  [1m[36mEntry Load (0.1ms)[0m  [1m[34mSELECT "entries".* FROM "entries" WHERE "entries"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/users_controller.rb:38:in `show'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 3.9ms | Allocations: 2498)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_follow_btn.html.erb (Duration: 1.7ms | Allocations: 1029)
  [1m[36mCACHE Relationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 1], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 2.5ms | Allocations: 1786)
  Rendered books/_newbook.html.erb (Duration: 1.9ms | Allocations: 1789)
  Rendered users/_userbooks.html.erb (Duration: 0.0ms | Allocations: 38)
  Rendered users/_count_search.html.erb (Duration: 0.0ms | Allocations: 38)
  Rendered users/show.html.erb within layouts/application (Duration: 11.1ms | Allocations: 8236)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.4ms | Allocations: 708)
  Rendered searches/_search_window.html.erb (Duration: 0.5ms | Allocations: 1656)
  Rendered layout layouts/application.html.erb (Duration: 15.7ms | Allocations: 12869)
Completed 200 OK in 55ms (Views: 15.8ms | ActiveRecord: 3.5ms | Allocations: 29456)


Started GET "/users/1/followers" for ::1 at 2024-05-06 08:11:05 +0900
Processing by UsersController#followers as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:93:in `followers'
  Rendering layout layouts/application.html.erb
  Rendering users/followers.html.erb within layouts/application
  [1m[36mUser Load (7.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/followers.html.erb:12
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/followers.html.erb:18
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/followers.html.erb:19
  Rendered users/followers.html.erb within layouts/application (Duration: 15.2ms | Allocations: 3800)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.4ms | Allocations: 720)
  Rendered searches/_search_window.html.erb (Duration: 0.5ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 19.8ms | Allocations: 8496)
Completed 200 OK in 26ms (Views: 15.5ms | ActiveRecord: 7.6ms | Allocations: 11912)


Started GET "/category_search?category_word=aaa&commit=%E6%A4%9C%E7%B4%A2" for ::1 at 2024-05-06 08:11:18 +0900
Processing by CategoriesController#search as HTML
  Parameters: {"category_word"=>"aaa", "commit"=>"検索"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "aaa"], ["LIMIT", 1]]
  ↳ app/controllers/categories_controller.rb:41:in `search'
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.5ms | Allocations: 3752)


  
NoMethodError (undefined method `books' for nil:NilClass

    @books = Category.find_by(name: @category_word).books
                                                   ^^^^^^):
  
app/controllers/categories_controller.rb:41:in `search'
Started GET "/users/1" for ::1 at 2024-05-06 08:11:25 +0900
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:6:in `show'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-05-05 00:00:00"], ["created_at", "2024-05-05 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:9:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-05-04 00:00:00"], ["created_at", "2024-05-04 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:10:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-05-03 00:00:00"], ["created_at", "2024-05-03 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:11:in `show'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-05-02 00:00:00"], ["created_at", "2024-05-02 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:12:in `show'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-01 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:13:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-04-30 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:14:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-04-29 00:00:00"], ["created_at", "2024-04-29 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:15:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-04-29 00:00:00"], ["created_at", "2024-05-05 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:22:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-04-21 00:00:00"], ["created_at", "2024-04-28 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:23:in `show'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  [1m[36mEntry Load (0.1ms)[0m  [1m[34mSELECT "entries".* FROM "entries" WHERE "entries"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/users_controller.rb:38:in `show'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 4.0ms | Allocations: 2348)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_follow_btn.html.erb (Duration: 2.5ms | Allocations: 1012)
  [1m[36mCACHE Relationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 1], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 2.8ms | Allocations: 1786)
  Rendered books/_newbook.html.erb (Duration: 2.3ms | Allocations: 1783)
  Rendered users/_userbooks.html.erb (Duration: 0.0ms | Allocations: 38)
  Rendered users/_count_search.html.erb (Duration: 0.0ms | Allocations: 38)
  Rendered users/show.html.erb within layouts/application (Duration: 12.4ms | Allocations: 8057)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.4ms | Allocations: 708)
  Rendered searches/_search_window.html.erb (Duration: 0.6ms | Allocations: 1656)
  Rendered layout layouts/application.html.erb (Duration: 17.7ms | Allocations: 12666)
Completed 200 OK in 48ms (Views: 17.7ms | ActiveRecord: 2.0ms | Allocations: 24135)


Started GET "/users/1" for ::1 at 2024-05-06 08:12:01 +0900
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:6:in `show'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-05-05 00:00:00"], ["created_at", "2024-05-05 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:9:in `show'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-05-04 00:00:00"], ["created_at", "2024-05-04 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:10:in `show'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-05-03 00:00:00"], ["created_at", "2024-05-03 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:11:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-05-02 00:00:00"], ["created_at", "2024-05-02 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:12:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-01 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:13:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-04-30 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:14:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-04-29 00:00:00"], ["created_at", "2024-04-29 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:15:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-04-29 00:00:00"], ["created_at", "2024-05-05 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:22:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-04-21 00:00:00"], ["created_at", "2024-04-28 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:23:in `show'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  [1m[36mEntry Load (0.0ms)[0m  [1m[34mSELECT "entries".* FROM "entries" WHERE "entries"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/users_controller.rb:38:in `show'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 4.8ms | Allocations: 2777)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_follow_btn.html.erb (Duration: 2.8ms | Allocations: 1204)
  [1m[36mCACHE Relationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 1], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 3.4ms | Allocations: 2058)
  Rendered books/_newbook.html.erb (Duration: 2.9ms | Allocations: 2197)
  Rendered users/_userbooks.html.erb (Duration: 0.7ms | Allocations: 474)
  Rendered users/_count_search.html.erb (Duration: 0.3ms | Allocations: 138)
  Rendered users/show.html.erb within layouts/application (Duration: 18.3ms | Allocations: 11055)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.7ms | Allocations: 680)
  Rendered searches/_search_window.html.erb (Duration: 1.0ms | Allocations: 1863)
  Rendered layout layouts/application.html.erb (Duration: 28.3ms | Allocations: 16427)
Completed 200 OK in 56ms (Views: 29.5ms | ActiveRecord: 2.4ms | Allocations: 28725)


Started POST "/books" for ::1 at 2024-05-06 08:12:12 +0900
Processing by BooksController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "book"=>{"title"=>"ddfasd", "body"=>"fdasdfa"}, "commit"=>"Create Book"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:9:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:11:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:11:in `create'
  [1m[36mBook Create (0.3ms)[0m  [1m[32mINSERT INTO "books" ("title", "body", "user_id", "created_at", "updated_at", "rate", "category_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["title", "ddfasd"], ["body", "fdasdfa"], ["user_id", 2], ["created_at", "2024-05-05 23:12:12.099092"], ["updated_at", "2024-05-05 23:12:12.099092"], ["rate", 0.5], ["category_id", 1]]
  ↳ app/controllers/books_controller.rb:11:in `create'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/books_controller.rb:11:in `create'
Redirected to http://localhost:3000/books/2
Completed 302 Found in 21ms (ActiveRecord: 2.0ms | Allocations: 6434)


Started GET "/books/2" for ::1 at 2024-05-06 08:12:12 +0900
Processing by BooksController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:48:in `show'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:49:in `show'
  Rendering layout layouts/application.html.erb
  Rendering books/show.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 4.2ms | Allocations: 2572)
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/show.html.erb:40
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 3.6ms | Allocations: 2107)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/book_comments/_count.html.erb:1
  Rendered book_comments/_count.html.erb (Duration: 2.0ms | Allocations: 933)
  [1m[36mBookComment Load (0.1ms)[0m  [1m[34mSELECT "book_comments".* FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/book_comments/_comment.html.erb:1
  Rendered book_comments/_comment.html.erb (Duration: 1.9ms | Allocations: 1011)
  Rendered books/show.html.erb within layouts/application (Duration: 18.1ms | Allocations: 10877)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.1ms | Allocations: 170)
  Rendered searches/_search_window.html.erb (Duration: 0.5ms | Allocations: 1672)
  Rendered layout layouts/application.html.erb (Duration: 22.6ms | Allocations: 15127)
Completed 200 OK in 30ms (Views: 23.5ms | ActiveRecord: 1.0ms | Allocations: 19115)


Started GET "/books" for ::1 at 2024-05-06 08:12:14 +0900
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/books_controller.rb:37:in `sort'
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?)[0m  [["book_id", 1], ["book_id", 2]]
  ↳ app/controllers/books_controller.rb:37:in `sort'
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 2], ["created_at", "2024-04-29 00:00:00"], ["created_at", "2024-05-05 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:38:in `block in index'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-04-29 00:00:00"], ["created_at", "2024-05-05 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:39:in `block in index'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 3.0ms | Allocations: 2505)
  Rendered users/_follow_btn.html.erb (Duration: 0.1ms | Allocations: 41)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.3ms | Allocations: 965)
  Rendered books/_newbook.html.erb (Duration: 1.6ms | Allocations: 1662)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.8ms | Allocations: 1981)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.2ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:49
  Rendered books/_index.html.erb (Duration: 15.3ms | Allocations: 11351)
  Rendered books/index.html.erb within layouts/application (Duration: 23.1ms | Allocations: 17364)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.2ms | Allocations: 155)
  Rendered searches/_search_window.html.erb (Duration: 0.6ms | Allocations: 1645)
  Rendered layout layouts/application.html.erb (Duration: 27.6ms | Allocations: 21476)
Completed 200 OK in 51ms (Views: 26.9ms | ActiveRecord: 2.6ms | Allocations: 27476)


Started GET "/books?sort=rate+DESC" for ::1 at 2024-05-06 08:12:18 +0900
Processing by BooksController#index as HTML
  Parameters: {"sort"=>"rate DESC"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 3.1ms | Allocations: 2299)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 40)
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.3ms | Allocations: 964)
  Rendered books/_newbook.html.erb (Duration: 1.7ms | Allocations: 1655)
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY rate DESC[0m
  ↳ app/views/books/_index.html.erb:20
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.3ms | Allocations: 1982)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.4ms | Allocations: 1911)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:49
  Rendered books/_index.html.erb (Duration: 13.2ms | Allocations: 11554)
  Rendered books/index.html.erb within layouts/application (Duration: 19.8ms | Allocations: 16869)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.2ms | Allocations: 155)
  Rendered searches/_search_window.html.erb (Duration: 0.8ms | Allocations: 1645)
  Rendered layout layouts/application.html.erb (Duration: 25.2ms | Allocations: 20981)
Completed 200 OK in 34ms (Views: 24.8ms | ActiveRecord: 1.1ms | Allocations: 22826)


Started GET "/books?sort=created_at+DESC" for ::1 at 2024-05-06 08:12:19 +0900
Processing by BooksController#index as HTML
  Parameters: {"sort"=>"created_at DESC"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 12.1ms | Allocations: 3096)
  Rendered users/_follow_btn.html.erb (Duration: 0.1ms | Allocations: 40)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 2.3ms | Allocations: 989)
  Rendered books/_newbook.html.erb (Duration: 2.6ms | Allocations: 1747)
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY created_at DESC[0m
  ↳ app/views/books/_index.html.erb:20
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.6ms | Allocations: 1982)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.4ms | Allocations: 1911)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:49
  Rendered books/_index.html.erb (Duration: 14.4ms | Allocations: 11553)
  Rendered books/index.html.erb within layouts/application (Duration: 32.5ms | Allocations: 17821)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.2ms | Allocations: 155)
  Rendered searches/_search_window.html.erb (Duration: 0.5ms | Allocations: 1645)
  Rendered layout layouts/application.html.erb (Duration: 36.9ms | Allocations: 21933)
Completed 200 OK in 44ms (Views: 35.4ms | ActiveRecord: 2.2ms | Allocations: 23628)


Started GET "/books?sort=rate+DESC" for ::1 at 2024-05-06 08:12:21 +0900
Processing by BooksController#index as HTML
  Parameters: {"sort"=>"rate DESC"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 9.4ms | Allocations: 2299)
  Rendered users/_follow_btn.html.erb (Duration: 0.1ms | Allocations: 40)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 3.4ms | Allocations: 964)
  Rendered books/_newbook.html.erb (Duration: 3.1ms | Allocations: 2504)
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY rate DESC[0m
  ↳ app/views/books/_index.html.erb:20
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.2ms | Allocations: 1982)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 4.0ms | Allocations: 1911)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:49
  Rendered books/_index.html.erb (Duration: 15.8ms | Allocations: 11650)
  Rendered books/index.html.erb within layouts/application (Duration: 32.7ms | Allocations: 17817)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.2ms | Allocations: 155)
  Rendered searches/_search_window.html.erb (Duration: 0.6ms | Allocations: 1645)
  Rendered layout layouts/application.html.erb (Duration: 38.2ms | Allocations: 21929)
Completed 200 OK in 43ms (Views: 36.4ms | ActiveRecord: 2.4ms | Allocations: 23625)


Started GET "/books?sort=created_at+DESC" for ::1 at 2024-05-06 08:12:22 +0900
Processing by BooksController#index as HTML
  Parameters: {"sort"=>"created_at DESC"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 9.0ms | Allocations: 2299)
  Rendered users/_follow_btn.html.erb (Duration: 0.1ms | Allocations: 40)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.8ms | Allocations: 996)
  Rendered books/_newbook.html.erb (Duration: 2.9ms | Allocations: 1763)
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY created_at DESC[0m
  ↳ app/views/books/_index.html.erb:20
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.2ms | Allocations: 1982)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.7ms | Allocations: 1911)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:49
  Rendered books/_index.html.erb (Duration: 13.1ms | Allocations: 11553)
  Rendered books/index.html.erb within layouts/application (Duration: 28.5ms | Allocations: 17803)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.2ms | Allocations: 155)
  Rendered searches/_search_window.html.erb (Duration: 0.5ms | Allocations: 1645)
  Rendered layout layouts/application.html.erb (Duration: 35.7ms | Allocations: 21915)
Completed 200 OK in 42ms (Views: 34.7ms | ActiveRecord: 1.9ms | Allocations: 23611)


Started GET "/books?sort=rate+DESC" for ::1 at 2024-05-06 08:12:24 +0900
Processing by BooksController#index as HTML
  Parameters: {"sort"=>"rate DESC"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 9.9ms | Allocations: 2299)
  Rendered users/_follow_btn.html.erb (Duration: 0.1ms | Allocations: 40)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 2.4ms | Allocations: 964)
  Rendered books/_newbook.html.erb (Duration: 5.4ms | Allocations: 2587)
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY rate DESC[0m
  ↳ app/views/books/_index.html.erb:20
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.4ms | Allocations: 1982)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.8ms | Allocations: 1911)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:49
  Rendered books/_index.html.erb (Duration: 13.3ms | Allocations: 11553)
  Rendered books/index.html.erb within layouts/application (Duration: 33.6ms | Allocations: 17800)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.2ms | Allocations: 155)
  Rendered searches/_search_window.html.erb (Duration: 0.6ms | Allocations: 1645)
  Rendered layout layouts/application.html.erb (Duration: 37.6ms | Allocations: 21912)
Completed 200 OK in 42ms (Views: 36.4ms | ActiveRecord: 2.0ms | Allocations: 23607)


Started GET "/books?sort=created_at+DESC" for ::1 at 2024-05-06 08:12:25 +0900
Processing by BooksController#index as HTML
  Parameters: {"sort"=>"created_at DESC"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 7.9ms | Allocations: 2299)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 40)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.3ms | Allocations: 964)
  Rendered books/_newbook.html.erb (Duration: 1.7ms | Allocations: 1657)
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY created_at DESC[0m
  ↳ app/views/books/_index.html.erb:20
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 3.0ms | Allocations: 1989)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 3.3ms | Allocations: 2008)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:49
  Rendered books/_index.html.erb (Duration: 16.4ms | Allocations: 12506)
  Rendered books/index.html.erb within layouts/application (Duration: 27.8ms | Allocations: 17823)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.1ms | Allocations: 155)
  Rendered searches/_search_window.html.erb (Duration: 0.5ms | Allocations: 1645)
  Rendered layout layouts/application.html.erb (Duration: 31.7ms | Allocations: 21935)
Completed 200 OK in 39ms (Views: 30.5ms | ActiveRecord: 1.8ms | Allocations: 23630)


Started POST "/books/2/favorites" for ::1 at 2024-05-06 08:12:32 +0900
Processing by FavoritesController#create as JS
  Parameters: {"book_id"=>"2"}
  [1m[36mUser Load (2.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:3:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."book_id" = ? AND "favorites"."user_id" = ? LIMIT ?[0m  [["book_id", 2], ["user_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mFavorite Create (0.3ms)[0m  [1m[32mINSERT INTO "favorites" ("book_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["book_id", 2], ["user_id", 2], ["created_at", "2024-05-05 23:12:32.675076"], ["updated_at", "2024-05-05 23:12:32.675076"]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?)[0m  [["book_id", 1], ["book_id", 2]]
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ?[0m  [["id", 2]]
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:7:in `create'
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  [1m[36mCACHE Favorite Load (0.0ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?)[0m  [["book_id", 1], ["book_id", 2]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ?[0m  [["id", 2]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  Rendering favorites/create.js.erb
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.7ms | Allocations: 2043)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.7ms | Allocations: 1804)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.8ms | Allocations: 1907)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:49
  Rendered books/_index.html.erb (Duration: 16.0ms | Allocations: 11379)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.6ms | Allocations: 1804)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.2ms | Allocations: 1805)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/users/_userbooks.html.erb:36
  Rendered users/_userbooks.html.erb (Duration: 10.0ms | Allocations: 8544)
  Rendered favorites/create.js.erb (Duration: 30.8ms | Allocations: 23692)
Completed 200 OK in 64ms (Views: 31.7ms | ActiveRecord: 5.6ms | Allocations: 38455)


Started GET "/" for 127.0.0.1 at 2024-05-07 07:45:48 +0900
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by HomesController#top as HTML
  Rendering layout layouts/application.html.erb
  Rendering homes/top.html.erb within layouts/application
  Rendered homes/top.html.erb within layouts/application (Duration: 1.0ms | Allocations: 1354)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 2.3ms | Allocations: 935)
  Rendered layout layouts/application.html.erb (Duration: 22.7ms | Allocations: 9662)
Completed 200 OK in 33ms (Views: 25.2ms | ActiveRecord: 0.0ms | Allocations: 14803)


Started GET "/users/sign_up" for 127.0.0.1 at 2024-05-07 07:45:51 +0900
Processing by Devise::RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (Duration: 0.5ms | Allocations: 358)
  Rendered devise/shared/_links.html.erb (Duration: 1.3ms | Allocations: 908)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 9.5ms | Allocations: 5330)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.2ms | Allocations: 249)
  Rendered layout layouts/application.html.erb (Duration: 15.5ms | Allocations: 8026)
Completed 200 OK in 30ms (Views: 18.0ms | ActiveRecord: 0.6ms | Allocations: 16992)


Started POST "/users" for 127.0.0.1 at 2024-05-07 07:46:06 +0900
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"name"=>"aaaa", "email"=>"ryutaromaeda83+20240507074602@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ryutaromaeda83+20240507074602@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "aaaa"], ["LIMIT", 1]]
  [1m[36mUser Create (1.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["email", "ryutaromaeda83+20240507074602@gmail.com"], ["encrypted_password", "$2a$12$0O.X9/fzoREy/3kzNcIEXuvtzi/5fSEX9XYUhG4tdGKl7ukMRqAQi"], ["name", "aaaa"], ["created_at", "2024-05-06 22:46:07.243681"], ["updated_at", "2024-05-06 22:46:07.243681"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://127.0.0.1:3000/users/3
Completed 302 Found in 335ms (ActiveRecord: 2.0ms | Allocations: 11712)


Started GET "/users/3" for 127.0.0.1 at 2024-05-07 07:46:07 +0900
Processing by UsersController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:6:in `show'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 3], ["created_at", "2024-05-06 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:9:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 3], ["created_at", "2024-05-05 00:00:00"], ["created_at", "2024-05-05 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:10:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 3], ["created_at", "2024-05-04 00:00:00"], ["created_at", "2024-05-04 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:11:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 3], ["created_at", "2024-05-03 00:00:00"], ["created_at", "2024-05-03 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:12:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 3], ["created_at", "2024-05-02 00:00:00"], ["created_at", "2024-05-02 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:13:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 3], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-01 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:14:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 3], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-04-30 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:15:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 3], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:22:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 3], ["created_at", "2024-04-22 00:00:00"], ["created_at", "2024-04-29 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:23:in `show'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 3]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 8.6ms | Allocations: 7124)
  Rendered users/_follow_btn.html.erb (Duration: 0.6ms | Allocations: 251)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 3], ["follower_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.9ms | Allocations: 1482)
  Rendered books/_newbook.html.erb (Duration: 12.8ms | Allocations: 7507)
  Rendered users/_userbooks.html.erb (Duration: 0.7ms | Allocations: 519)
  Rendered users/_count_search.html.erb (Duration: 0.2ms | Allocations: 181)
  Rendered users/show.html.erb within layouts/application (Duration: 29.2ms | Allocations: 19552)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.2ms | Allocations: 184)
  Rendered searches/_search_window.html.erb (Duration: 1.4ms | Allocations: 2056)
  Rendered layout layouts/application.html.erb (Duration: 36.7ms | Allocations: 24264)
Completed 200 OK in 75ms (Views: 37.3ms | ActiveRecord: 2.8ms | Allocations: 48647)


Started GET "/users" for 127.0.0.1 at 2024-05-07 07:46:11 +0900
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 8.3ms | Allocations: 2588)
  Rendered users/_follow_btn.html.erb (Duration: 0.1ms | Allocations: 40)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 3], ["follower_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 3.2ms | Allocations: 966)
  Rendered books/_newbook.html.erb (Duration: 2.5ms | Allocations: 1764)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:22
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/index.html.erb:28
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/index.html.erb:29
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 3], ["follower_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/index.html.erb:28
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/index.html.erb:29
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 3], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/index.html.erb:28
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/index.html.erb:29
  Rendered users/index.html.erb within layouts/application (Duration: 29.9ms | Allocations: 15100)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.2ms | Allocations: 155)
  Rendered searches/_search_window.html.erb (Duration: 0.7ms | Allocations: 1645)
  Rendered layout layouts/application.html.erb (Duration: 35.6ms | Allocations: 19241)
Completed 200 OK in 42ms (Views: 34.9ms | ActiveRecord: 1.6ms | Allocations: 21296)


Started GET "/users" for 127.0.0.1 at 2024-05-07 07:49:12 +0900
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 2.0ms | Allocations: 2298)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 40)
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 3], ["follower_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 0.8ms | Allocations: 964)
  Rendered books/_newbook.html.erb (Duration: 2.5ms | Allocations: 1646)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:22
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/index.html.erb:28
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/index.html.erb:29
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 3], ["follower_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/index.html.erb:28
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/index.html.erb:29
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 3], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/index.html.erb:28
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/index.html.erb:29
  Rendered users/index.html.erb within layouts/application (Duration: 11.9ms | Allocations: 14046)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.2ms | Allocations: 155)
  Rendered searches/_search_window.html.erb (Duration: 4.2ms | Allocations: 1644)
  Rendered layout layouts/application.html.erb (Duration: 25.8ms | Allocations: 18157)
Completed 200 OK in 28ms (Views: 25.5ms | ActiveRecord: 0.6ms | Allocations: 19828)


Started GET "/users" for 127.0.0.1 at 2024-05-07 07:49:14 +0900
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 3.8ms | Allocations: 2776)
  Rendered users/_follow_btn.html.erb (Duration: 0.5ms | Allocations: 211)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 3], ["follower_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.9ms | Allocations: 1251)
  Rendered books/_newbook.html.erb (Duration: 24.3ms | Allocations: 4707)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:22
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/index.html.erb:28
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/index.html.erb:29
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 3], ["follower_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/index.html.erb:28
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/index.html.erb:29
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 3], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/index.html.erb:28
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/index.html.erb:29
  Rendered users/index.html.erb within layouts/application (Duration: 45.4ms | Allocations: 19274)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.6ms | Allocations: 627)
  Rendered searches/_search_window.html.erb (Duration: 0.9ms | Allocations: 1870)
  Rendered layout layouts/application.html.erb (Duration: 53.2ms | Allocations: 24665)
Completed 200 OK in 69ms (Views: 55.1ms | ActiveRecord: 1.1ms | Allocations: 27336)


Started GET "/books" for 127.0.0.1 at 2024-05-07 07:49:20 +0900
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/books_controller.rb:37:in `sort'
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?)[0m  [["book_id", 1], ["book_id", 2]]
  ↳ app/controllers/books_controller.rb:37:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ?[0m  [["id", 2]]
  ↳ app/controllers/books_controller.rb:37:in `sort'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 2], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:38:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:39:in `block in index'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 4.1ms | Allocations: 2578)
  Rendered users/_follow_btn.html.erb (Duration: 0.1ms | Allocations: 43)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 3], ["follower_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.6ms | Allocations: 981)
  Rendered books/_newbook.html.erb (Duration: 2.2ms | Allocations: 1935)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 3.7ms | Allocations: 2370)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.3ms | Allocations: 1943)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:49
  Rendered books/_index.html.erb (Duration: 23.1ms | Allocations: 17120)
  Rendered books/index.html.erb within layouts/application (Duration: 32.8ms | Allocations: 23461)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.2ms | Allocations: 169)
  Rendered searches/_search_window.html.erb (Duration: 0.5ms | Allocations: 1681)
  Rendered layout layouts/application.html.erb (Duration: 38.0ms | Allocations: 27627)
Completed 200 OK in 65ms (Views: 37.9ms | ActiveRecord: 3.3ms | Allocations: 42358)


Started GET "/books/2" for 127.0.0.1 at 2024-05-07 07:49:23 +0900
Processing by BooksController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:48:in `show'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:49:in `show'
  Rendering layout layouts/application.html.erb
  Rendering books/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 3.3ms | Allocations: 2531)
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/show.html.erb:40
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.5ms | Allocations: 1885)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/book_comments/_count.html.erb:1
  Rendered book_comments/_count.html.erb (Duration: 2.4ms | Allocations: 937)
  [1m[36mBookComment Load (0.1ms)[0m  [1m[34mSELECT "book_comments".* FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/book_comments/_comment.html.erb:1
  Rendered book_comments/_comment.html.erb (Duration: 1.9ms | Allocations: 1067)
  Rendered books/show.html.erb within layouts/application (Duration: 16.0ms | Allocations: 10642)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.1ms | Allocations: 155)
  Rendered searches/_search_window.html.erb (Duration: 0.5ms | Allocations: 1644)
  Rendered layout layouts/application.html.erb (Duration: 20.2ms | Allocations: 14693)
Completed 200 OK in 30ms (Views: 19.9ms | ActiveRecord: 1.3ms | Allocations: 22384)


Started GET "/users" for 127.0.0.1 at 2024-05-07 07:49:26 +0900
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 7.8ms | Allocations: 2298)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 40)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 3], ["follower_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.1ms | Allocations: 965)
  Rendered books/_newbook.html.erb (Duration: 1.6ms | Allocations: 1733)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:22
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/index.html.erb:28
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/index.html.erb:29
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 3], ["follower_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/index.html.erb:28
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/index.html.erb:29
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 3], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/index.html.erb:28
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/index.html.erb:29
  Rendered users/index.html.erb within layouts/application (Duration: 19.3ms | Allocations: 14134)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.1ms | Allocations: 155)
  Rendered searches/_search_window.html.erb (Duration: 0.4ms | Allocations: 1644)
  Rendered layout layouts/application.html.erb (Duration: 23.5ms | Allocations: 18245)
Completed 200 OK in 32ms (Views: 23.0ms | ActiveRecord: 1.5ms | Allocations: 19922)


Started GET "/books" for 127.0.0.1 at 2024-05-07 07:49:30 +0900
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/books_controller.rb:37:in `sort'
  [1m[36mFavorite Load (1.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?)[0m  [["book_id", 1], ["book_id", 2]]
  ↳ app/controllers/books_controller.rb:37:in `sort'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ?[0m  [["id", 2]]
  ↳ app/controllers/books_controller.rb:37:in `sort'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 2], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:38:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:39:in `block in index'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 4.4ms | Allocations: 2298)
  Rendered users/_follow_btn.html.erb (Duration: 0.1ms | Allocations: 40)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 3], ["follower_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.9ms | Allocations: 964)
  Rendered books/_newbook.html.erb (Duration: 2.5ms | Allocations: 1718)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.9ms | Allocations: 1980)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.6ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:49
  Rendered books/_index.html.erb (Duration: 13.4ms | Allocations: 10784)
  Rendered books/index.html.erb within layouts/application (Duration: 22.9ms | Allocations: 16161)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.2ms | Allocations: 155)
  Rendered searches/_search_window.html.erb (Duration: 0.5ms | Allocations: 1644)
  Rendered layout layouts/application.html.erb (Duration: 27.9ms | Allocations: 20272)
Completed 200 OK in 52ms (Views: 27.4ms | ActiveRecord: 3.1ms | Allocations: 26991)


Started GET "/books" for 127.0.0.1 at 2024-05-07 07:51:03 +0900
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/books_controller.rb:37:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?)[0m  [["book_id", 1], ["book_id", 2]]
  ↳ app/controllers/books_controller.rb:37:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ?[0m  [["id", 2]]
  ↳ app/controllers/books_controller.rb:37:in `sort'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 2], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:38:in `block in index'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:39:in `block in index'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 6.7ms | Allocations: 6270)
  Rendered users/_follow_btn.html.erb (Duration: 0.4ms | Allocations: 274)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 3], ["follower_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.8ms | Allocations: 1857)
  Rendered books/_newbook.html.erb (Duration: 13.4ms | Allocations: 10234)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.4ms | Allocations: 2403)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1943)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:49
  Rendered books/_index.html.erb (Duration: 14.7ms | Allocations: 17403)
  Rendered books/index.html.erb within layouts/application (Duration: 44.4ms | Allocations: 38763)
[Webpacker] Compiling...
Started GET "/books" for 127.0.0.1 at 2024-05-07 07:51:05 +0900
Processing by BooksController#index as HTML
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/books_controller.rb:37:in `sort'
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?)[0m  [["book_id", 1], ["book_id", 2]]
  ↳ app/controllers/books_controller.rb:37:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ?[0m  [["id", 2]]
  ↳ app/controllers/books_controller.rb:37:in `sort'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 2], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:38:in `block in index'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:39:in `block in index'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 1.9ms | Allocations: 2427)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 40)
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 3], ["follower_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 0.7ms | Allocations: 990)
  Rendered books/_newbook.html.erb (Duration: 1.5ms | Allocations: 1808)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 1980)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:49
  Rendered books/_index.html.erb (Duration: 9.7ms | Allocations: 10858)
  Rendered books/index.html.erb within layouts/application (Duration: 14.2ms | Allocations: 16481)
[Webpacker] Compiling...
[Webpacker] Compilation failed:
Hash: 7df288e79e7f444d3ec9
Version: webpack 4.47.0
Time: 1889ms
Built at: 05/07/2024 7:51:07 AM
                                     Asset       Size       Chunks                         Chunk Names
    js/application-dc01f55c17a880f6fed5.js   2.88 MiB  application  [emitted] [immutable]  application
js/application-dc01f55c17a880f6fed5.js.map   3.07 MiB  application  [emitted] [dev]        application
                             manifest.json  364 bytes               [emitted]              
Entrypoint application = js/application-dc01f55c17a880f6fed5.js js/application-dc01f55c17a880f6fed5.js.map
[./app/javascript/channels sync recursive _channel\.js$] ./app/javascript/channels sync _channel\.js$ 160 bytes {application} [built]
[./app/javascript/channels/index.js] 211 bytes {application} [built]
[./app/javascript/packs/application.js] 753 bytes {application} [built]
[./app/javascript/stylesheets/application.scss] 664 bytes {application} [built]
[./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/sass-loader/dist/cjs.js?!./app/javascript/stylesheets/application.scss] ./node_modules/css-loader/dist/cjs.js??ref--6-1!./node_modules/postcss-loader/src??ref--6-2!./node_modules/sass-loader/dist/cjs.js??ref--6-3!./app/javascript/stylesheets/application.scss 1.01 MiB {application} [built]
[./node_modules/webpack/buildin/global.js] (webpack)/buildin/global.js 474 bytes {application} [built]
    + 12 hidden modules

ERROR in ./app/javascript/packs/application.js
Module not found: Error: Can't resolve 'packs/raty' in '/Users/maedaryuutarou/RubymineProjects/bookers2_phase2_debug_rails6-main/app/javascript/packs'
 @ ./app/javascript/packs/application.js 12:0-21


Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-transform-private-property-in-object since the "loose" mode option was set to "true" for @babel/plugin-transform-class-properties.
The "loose" option must be the same for @babel/plugin-transform-class-properties, @babel/plugin-transform-private-methods and @babel/plugin-transform-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-transform-private-property-in-object", { "loose": true }]
to the "plugins" section of your Babel config.

If you already set the same 'loose' mode for these plugins in your config, it's possible that they are enabled multiple times with different options.
You can re-run Babel with the BABEL_SHOW_CONFIG_FOR environment variable to show the loaded configuration:
	npx cross-env BABEL_SHOW_CONFIG_FOR=/Users/maedaryuutarou/RubymineProjects/bookers2_phase2_debug_rails6-main/app/javascript/packs/application.js <your build command>
See https://babeljs.io/docs/configuration#print-effective-configs for more info.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-transform-private-methods since the "loose" mode option was set to "true" for @babel/plugin-transform-private-property-in-object.
The "loose" option must be the same for @babel/plugin-transform-class-properties, @babel/plugin-transform-private-methods and @babel/plugin-transform-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-transform-private-methods", { "loose": true }]
to the "plugins" section of your Babel config.

If you already set the same 'loose' mode for these plugins in your config, it's possible that they are enabled multiple times with different options.
You can re-run Babel with the BABEL_SHOW_CONFIG_FOR environment variable to show the loaded configuration:
	npx cross-env BABEL_SHOW_CONFIG_FOR=/Users/maedaryuutarou/RubymineProjects/bookers2_phase2_debug_rails6-main/app/javascript/packs/application.js <your build command>
See https://babeljs.io/docs/configuration#print-effective-configs for more info.
DEPRECATION WARNING: Using / for division outside of calc() is deprecated and will be removed in Dart Sass 2.0.0.

Recommendation: math.div($spacer, 2) or calc($spacer / 2)

More info and automated migrator: https://sass-lang.com/d/slash-div

    ╷
302 │ $headings-margin-bottom:      $spacer / 2 !default;
    │                               ^^^^^^^^^^^
    ╵
    node_modules/bootstrap/scss/_variables.scss 302:31  @import
    node_modules/bootstrap/scss/bootstrap.scss 9:9      @import
    app/javascript/stylesheets/application.scss 1:9     root stylesheet

DEPRECATION WARNING: Using / for division outside of calc() is deprecated and will be removed in Dart Sass 2.0.0.

Recommendation: math.div($input-padding-y, 2) or calc($input-padding-y / 2)

More info and automated migrator: https://sass-lang.com/d/slash-div

    ╷
498 │ $input-height-inner-quarter:            add($input-line-height * .25em, $input-padding-y / 2) !default;
    │                                                                         ^^^^^^^^^^^^^^^^^^^^
    ╵
    node_modules/bootstrap/scss/_variables.scss 498:73  @import
    node_modules/bootstrap/scss/bootstrap.scss 9:9      @import
    app/javascript/stylesheets/application.scss 1:9     root stylesheet

DEPRECATION WARNING: Using / for division outside of calc() is deprecated and will be removed in Dart Sass 2.0.0.

Recommendation: math.div($custom-control-indicator-size, 2) or calc($custom-control-indicator-size / 2)

More info and automated migrator: https://sass-lang.com/d/slash-div

    ╷
568 │ $custom-switch-indicator-border-radius:         $custom-control-indicator-size / 2 !default;
    │                                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ╵
    node_modules/bootstrap/scss/_variables.scss 568:49  @import
    node_modules/bootstrap/scss/bootstrap.scss 9:9      @import
    app/javascript/stylesheets/application.scss 1:9     root stylesheet

DEPRECATION WARNING: Using / for division outside of calc() is deprecated and will be removed in Dart Sass 2.0.0.

Recommendation: math.div($spacer, 2) or calc($spacer / 2)

More info and automated migrator: https://sass-lang.com/d/slash-div

    ╷
713 │ $nav-divider-margin-y:              $spacer / 2 !default;
    │                                     ^^^^^^^^^^^
    ╵
    node_modules/bootstrap/scss/_variables.scss 713:37  @import
    node_modules/bootstrap/scss/bootstrap.scss 9:9      @import
    app/javascript/stylesheets/application.scss 1:9     root stylesheet

DEPRECATION WARNING: Using / for division outside of calc() is deprecated and will be removed in Dart Sass 2.0.0.

Recommendation: math.div($spacer, 2) or calc($spacer / 2)

More info and automated migrator: https://sass-lang.com/d/slash-div

    ╷
718 │ $navbar-padding-y:                  $spacer / 2 !default;
    │                                     ^^^^^^^^^^^
    ╵
    node_modules/bootstrap/scss/_variables.scss 718:37  @import
    node_modules/bootstrap/scss/bootstrap.scss 9:9      @import
    app/javascript/stylesheets/application.scss 1:9     root stylesheet

WARNING: 67 repetitive deprecation warnings omitted.


  Rendered layouts/_header.html.erb (Duration: 0.6ms | Allocations: 654)
  Rendered searches/_search_window.html.erb (Duration: 2.2ms | Allocations: 2058)
  Rendered layout layouts/application.html.erb (Duration: 3241.9ms | Allocations: 74285)
Completed 200 OK in 3278ms (Views: 3242.9ms | ActiveRecord: 2.5ms | Allocations: 112412)


[Webpacker] Compilation failed:
Hash: 7df288e79e7f444d3ec9
Version: webpack 4.47.0
Time: 1587ms
Built at: 05/07/2024 7:51:08 AM
                                     Asset       Size       Chunks                         Chunk Names
    js/application-dc01f55c17a880f6fed5.js   2.88 MiB  application  [emitted] [immutable]  application
js/application-dc01f55c17a880f6fed5.js.map   3.07 MiB  application  [emitted] [dev]        application
                             manifest.json  364 bytes               [emitted]              
Entrypoint application = js/application-dc01f55c17a880f6fed5.js js/application-dc01f55c17a880f6fed5.js.map
[./app/javascript/channels sync recursive _channel\.js$] ./app/javascript/channels sync _channel\.js$ 160 bytes {application} [built]
[./app/javascript/channels/index.js] 211 bytes {application} [built]
[./app/javascript/packs/application.js] 753 bytes {application} [built]
[./app/javascript/stylesheets/application.scss] 664 bytes {application} [built]
[./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/sass-loader/dist/cjs.js?!./app/javascript/stylesheets/application.scss] ./node_modules/css-loader/dist/cjs.js??ref--6-1!./node_modules/postcss-loader/src??ref--6-2!./node_modules/sass-loader/dist/cjs.js??ref--6-3!./app/javascript/stylesheets/application.scss 1.01 MiB {application} [built]
[./node_modules/webpack/buildin/global.js] (webpack)/buildin/global.js 474 bytes {application} [built]
    + 12 hidden modules

ERROR in ./app/javascript/packs/application.js
Module not found: Error: Can't resolve 'packs/raty' in '/Users/maedaryuutarou/RubymineProjects/bookers2_phase2_debug_rails6-main/app/javascript/packs'
 @ ./app/javascript/packs/application.js 12:0-21


DEPRECATION WARNING: Using / for division outside of calc() is deprecated and will be removed in Dart Sass 2.0.0.

Recommendation: math.div($spacer, 2) or calc($spacer / 2)

More info and automated migrator: https://sass-lang.com/d/slash-div

    ╷
302 │ $headings-margin-bottom:      $spacer / 2 !default;
    │                               ^^^^^^^^^^^
    ╵
    node_modules/bootstrap/scss/_variables.scss 302:31  @import
    node_modules/bootstrap/scss/bootstrap.scss 9:9      @import
    app/javascript/stylesheets/application.scss 1:9     root stylesheet

DEPRECATION WARNING: Using / for division outside of calc() is deprecated and will be removed in Dart Sass 2.0.0.

Recommendation: math.div($input-padding-y, 2) or calc($input-padding-y / 2)

More info and automated migrator: https://sass-lang.com/d/slash-div

    ╷
498 │ $input-height-inner-quarter:            add($input-line-height * .25em, $input-padding-y / 2) !default;
    │                                                                         ^^^^^^^^^^^^^^^^^^^^
    ╵
    node_modules/bootstrap/scss/_variables.scss 498:73  @import
    node_modules/bootstrap/scss/bootstrap.scss 9:9      @import
    app/javascript/stylesheets/application.scss 1:9     root stylesheet

DEPRECATION WARNING: Using / for division outside of calc() is deprecated and will be removed in Dart Sass 2.0.0.

Recommendation: math.div($custom-control-indicator-size, 2) or calc($custom-control-indicator-size / 2)

More info and automated migrator: https://sass-lang.com/d/slash-div

    ╷
568 │ $custom-switch-indicator-border-radius:         $custom-control-indicator-size / 2 !default;
    │                                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ╵
    node_modules/bootstrap/scss/_variables.scss 568:49  @import
    node_modules/bootstrap/scss/bootstrap.scss 9:9      @import
    app/javascript/stylesheets/application.scss 1:9     root stylesheet

DEPRECATION WARNING: Using / for division outside of calc() is deprecated and will be removed in Dart Sass 2.0.0.

Recommendation: math.div($spacer, 2) or calc($spacer / 2)

More info and automated migrator: https://sass-lang.com/d/slash-div

    ╷
713 │ $nav-divider-margin-y:              $spacer / 2 !default;
    │                                     ^^^^^^^^^^^
    ╵
    node_modules/bootstrap/scss/_variables.scss 713:37  @import
    node_modules/bootstrap/scss/bootstrap.scss 9:9      @import
    app/javascript/stylesheets/application.scss 1:9     root stylesheet

DEPRECATION WARNING: Using / for division outside of calc() is deprecated and will be removed in Dart Sass 2.0.0.

Recommendation: math.div($spacer, 2) or calc($spacer / 2)

More info and automated migrator: https://sass-lang.com/d/slash-div

    ╷
718 │ $navbar-padding-y:                  $spacer / 2 !default;
    │                                     ^^^^^^^^^^^
    ╵
    node_modules/bootstrap/scss/_variables.scss 718:37  @import
    node_modules/bootstrap/scss/bootstrap.scss 9:9      @import
    app/javascript/stylesheets/application.scss 1:9     root stylesheet

WARNING: 67 repetitive deprecation warnings omitted.


  Rendered layouts/_header.html.erb (Duration: 0.2ms | Allocations: 181)
  Rendered searches/_search_window.html.erb (Duration: 0.5ms | Allocations: 1670)
  Rendered layout layouts/application.html.erb (Duration: 2480.3ms | Allocations: 27384)
Completed 200 OK in 2499ms (Views: 2479.6ms | ActiveRecord: 1.5ms | Allocations: 35575)


Started GET "/books" for 127.0.0.1 at 2024-05-07 08:00:10 +0900
Processing by BooksController#index as HTML
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/books_controller.rb:37:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?)[0m  [["book_id", 1], ["book_id", 2]]
  ↳ app/controllers/books_controller.rb:37:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ?[0m  [["id", 2]]
  ↳ app/controllers/books_controller.rb:37:in `sort'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 2], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:38:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:39:in `block in index'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 3.6ms | Allocations: 2462)
  Rendered users/_follow_btn.html.erb (Duration: 0.1ms | Allocations: 40)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 3], ["follower_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.2ms | Allocations: 989)
  Rendered books/_newbook.html.erb (Duration: 2.5ms | Allocations: 1843)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.4ms | Allocations: 1986)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:49
  Rendered books/_index.html.erb (Duration: 10.9ms | Allocations: 10878)
  Rendered books/index.html.erb within layouts/application (Duration: 18.7ms | Allocations: 16576)
[Webpacker] Compiling...
[Webpacker] Compiled all packs in /Users/maedaryuutarou/RubymineProjects/bookers2_phase2_debug_rails6-main/public/packs
[Webpacker] Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-transform-private-property-in-object since the "loose" mode option was set to "true" for @babel/plugin-transform-class-properties.
The "loose" option must be the same for @babel/plugin-transform-class-properties, @babel/plugin-transform-private-methods and @babel/plugin-transform-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-transform-private-property-in-object", { "loose": true }]
to the "plugins" section of your Babel config.

If you already set the same 'loose' mode for these plugins in your config, it's possible that they are enabled multiple times with different options.
You can re-run Babel with the BABEL_SHOW_CONFIG_FOR environment variable to show the loaded configuration:
	npx cross-env BABEL_SHOW_CONFIG_FOR=/Users/maedaryuutarou/RubymineProjects/bookers2_phase2_debug_rails6-main/app/javascript/packs/application.js <your build command>
See https://babeljs.io/docs/configuration#print-effective-configs for more info.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-transform-private-methods since the "loose" mode option was set to "true" for @babel/plugin-transform-private-property-in-object.
The "loose" option must be the same for @babel/plugin-transform-class-properties, @babel/plugin-transform-private-methods and @babel/plugin-transform-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-transform-private-methods", { "loose": true }]
to the "plugins" section of your Babel config.

If you already set the same 'loose' mode for these plugins in your config, it's possible that they are enabled multiple times with different options.
You can re-run Babel with the BABEL_SHOW_CONFIG_FOR environment variable to show the loaded configuration:
	npx cross-env BABEL_SHOW_CONFIG_FOR=/Users/maedaryuutarou/RubymineProjects/bookers2_phase2_debug_rails6-main/app/javascript/packs/application.js <your build command>
See https://babeljs.io/docs/configuration#print-effective-configs for more info.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-transform-private-property-in-object since the "loose" mode option was set to "true" for @babel/plugin-transform-class-properties.
The "loose" option must be the same for @babel/plugin-transform-class-properties, @babel/plugin-transform-private-methods and @babel/plugin-transform-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-transform-private-property-in-object", { "loose": true }]
to the "plugins" section of your Babel config.

If you already set the same 'loose' mode for these plugins in your config, it's possible that they are enabled multiple times with different options.
You can re-run Babel with the BABEL_SHOW_CONFIG_FOR environment variable to show the loaded configuration:
	npx cross-env BABEL_SHOW_CONFIG_FOR=/Users/maedaryuutarou/RubymineProjects/bookers2_phase2_debug_rails6-main/app/javascript/raty.js <your build command>
See https://babeljs.io/docs/configuration#print-effective-configs for more info.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-transform-private-methods since the "loose" mode option was set to "true" for @babel/plugin-transform-private-property-in-object.
The "loose" option must be the same for @babel/plugin-transform-class-properties, @babel/plugin-transform-private-methods and @babel/plugin-transform-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-transform-private-methods", { "loose": true }]
to the "plugins" section of your Babel config.

If you already set the same 'loose' mode for these plugins in your config, it's possible that they are enabled multiple times with different options.
You can re-run Babel with the BABEL_SHOW_CONFIG_FOR environment variable to show the loaded configuration:
	npx cross-env BABEL_SHOW_CONFIG_FOR=/Users/maedaryuutarou/RubymineProjects/bookers2_phase2_debug_rails6-main/app/javascript/raty.js <your build command>
See https://babeljs.io/docs/configuration#print-effective-configs for more info.
DEPRECATION WARNING: Using / for division outside of calc() is deprecated and will be removed in Dart Sass 2.0.0.

Recommendation: math.div($spacer, 2) or calc($spacer / 2)

More info and automated migrator: https://sass-lang.com/d/slash-div

    ╷
302 │ $headings-margin-bottom:      $spacer / 2 !default;
    │                               ^^^^^^^^^^^
    ╵
    node_modules/bootstrap/scss/_variables.scss 302:31  @import
    node_modules/bootstrap/scss/bootstrap.scss 9:9      @import
    app/javascript/stylesheets/application.scss 1:9     root stylesheet

DEPRECATION WARNING: Using / for division outside of calc() is deprecated and will be removed in Dart Sass 2.0.0.

Recommendation: math.div($input-padding-y, 2) or calc($input-padding-y / 2)

More info and automated migrator: https://sass-lang.com/d/slash-div

    ╷
498 │ $input-height-inner-quarter:            add($input-line-height * .25em, $input-padding-y / 2) !default;
    │                                                                         ^^^^^^^^^^^^^^^^^^^^
    ╵
    node_modules/bootstrap/scss/_variables.scss 498:73  @import
    node_modules/bootstrap/scss/bootstrap.scss 9:9      @import
    app/javascript/stylesheets/application.scss 1:9     root stylesheet

DEPRECATION WARNING: Using / for division outside of calc() is deprecated and will be removed in Dart Sass 2.0.0.

Recommendation: math.div($custom-control-indicator-size, 2) or calc($custom-control-indicator-size / 2)

More info and automated migrator: https://sass-lang.com/d/slash-div

    ╷
568 │ $custom-switch-indicator-border-radius:         $custom-control-indicator-size / 2 !default;
    │                                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ╵
    node_modules/bootstrap/scss/_variables.scss 568:49  @import
    node_modules/bootstrap/scss/bootstrap.scss 9:9      @import
    app/javascript/stylesheets/application.scss 1:9     root stylesheet

DEPRECATION WARNING: Using / for division outside of calc() is deprecated and will be removed in Dart Sass 2.0.0.

Recommendation: math.div($spacer, 2) or calc($spacer / 2)

More info and automated migrator: https://sass-lang.com/d/slash-div

    ╷
713 │ $nav-divider-margin-y:              $spacer / 2 !default;
    │                                     ^^^^^^^^^^^
    ╵
    node_modules/bootstrap/scss/_variables.scss 713:37  @import
    node_modules/bootstrap/scss/bootstrap.scss 9:9      @import
    app/javascript/stylesheets/application.scss 1:9     root stylesheet

DEPRECATION WARNING: Using / for division outside of calc() is deprecated and will be removed in Dart Sass 2.0.0.

Recommendation: math.div($spacer, 2) or calc($spacer / 2)

More info and automated migrator: https://sass-lang.com/d/slash-div

    ╷
718 │ $navbar-padding-y:                  $spacer / 2 !default;
    │                                     ^^^^^^^^^^^
    ╵
    node_modules/bootstrap/scss/_variables.scss 718:37  @import
    node_modules/bootstrap/scss/bootstrap.scss 9:9      @import
    app/javascript/stylesheets/application.scss 1:9     root stylesheet

WARNING: 67 repetitive deprecation warnings omitted.


[Webpacker] Hash: b6123328005618065648
Version: webpack 4.47.0
Time: 2230ms
Built at: 05/07/2024 8:00:13 AM
                                     Asset       Size       Chunks                         Chunk Names
    js/application-04fb80bb34a689ebea76.js   3.31 MiB  application  [emitted] [immutable]  application
js/application-04fb80bb34a689ebea76.js.map   3.48 MiB  application  [emitted] [dev]        application
                             manifest.json  364 bytes               [emitted]              
Entrypoint application = js/application-04fb80bb34a689ebea76.js js/application-04fb80bb34a689ebea76.js.map
[./app/javascript/channels sync recursive _channel\.js$] ./app/javascript/channels sync _channel\.js$ 160 bytes {application} [built]
[./app/javascript/channels/index.js] 211 bytes {application} [built]
[./app/javascript/packs/application.js] 928 bytes {application} [built]
[./app/javascript/raty.js] 23.7 KiB {application} [built]
[./app/javascript/stylesheets/application.scss] 664 bytes {application} [built]
[./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/sass-loader/dist/cjs.js?!./app/javascript/stylesheets/application.scss] ./node_modules/css-loader/dist/cjs.js??ref--6-1!./node_modules/postcss-loader/src??ref--6-2!./node_modules/sass-loader/dist/cjs.js??ref--6-3!./app/javascript/stylesheets/application.scss 1.01 MiB {application} [built]
[./node_modules/webpack/buildin/global.js] (webpack)/buildin/global.js 474 bytes {application} [built]
    + 123 hidden modules

  Rendered layouts/_header.html.erb (Duration: 0.2ms | Allocations: 155)
  Rendered searches/_search_window.html.erb (Duration: 0.6ms | Allocations: 1659)
  Rendered layout layouts/application.html.erb (Duration: 3336.0ms | Allocations: 21514)
Completed 200 OK in 3347ms (Views: 3335.5ms | ActiveRecord: 2.1ms | Allocations: 29857)


Started GET "/books" for 127.0.0.1 at 2024-05-07 08:00:17 +0900
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBook Load (0.9ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/books_controller.rb:37:in `sort'
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?)[0m  [["book_id", 1], ["book_id", 2]]
  ↳ app/controllers/books_controller.rb:37:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ?[0m  [["id", 2]]
  ↳ app/controllers/books_controller.rb:37:in `sort'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 2], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:38:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:39:in `block in index'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 6.6ms | Allocations: 2298)
  Rendered users/_follow_btn.html.erb (Duration: 0.1ms | Allocations: 40)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 3], ["follower_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 2.0ms | Allocations: 964)
  Rendered books/_newbook.html.erb (Duration: 9.9ms | Allocations: 1722)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 3.5ms | Allocations: 1980)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 3.2ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:49
  Rendered books/_index.html.erb (Duration: 17.1ms | Allocations: 10794)
  Rendered books/index.html.erb within layouts/application (Duration: 36.7ms | Allocations: 16175)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.2ms | Allocations: 155)
  Rendered searches/_search_window.html.erb (Duration: 0.7ms | Allocations: 1645)
  Rendered layout layouts/application.html.erb (Duration: 42.0ms | Allocations: 20301)
Completed 200 OK in 58ms (Views: 41.1ms | ActiveRecord: 3.1ms | Allocations: 26946)


Started GET "/books" for 127.0.0.1 at 2024-05-07 08:00:29 +0900
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/books_controller.rb:37:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?)[0m  [["book_id", 1], ["book_id", 2]]
  ↳ app/controllers/books_controller.rb:37:in `sort'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ?[0m  [["id", 2]]
  ↳ app/controllers/books_controller.rb:37:in `sort'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 2], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:38:in `block in index'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:39:in `block in index'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 10.4ms | Allocations: 6422)
  Rendered users/_follow_btn.html.erb (Duration: 0.6ms | Allocations: 948)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 3], ["follower_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.7ms | Allocations: 2396)
  Rendered books/_newbook.html.erb (Duration: 14.1ms | Allocations: 9287)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.5ms | Allocations: 2403)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.5ms | Allocations: 1943)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:49
  Rendered books/_index.html.erb (Duration: 14.7ms | Allocations: 17403)
  Rendered books/index.html.erb within layouts/application (Duration: 43.8ms | Allocations: 39338)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.7ms | Allocations: 651)
  Rendered searches/_search_window.html.erb (Duration: 9.8ms | Allocations: 2060)
  Rendered layout layouts/application.html.erb (Duration: 58.7ms | Allocations: 45312)
Completed 200 OK in 93ms (Views: 59.4ms | ActiveRecord: 2.3ms | Allocations: 82825)


Started GET "/books" for 127.0.0.1 at 2024-05-07 08:01:13 +0900
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/books_controller.rb:37:in `sort'
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?)[0m  [["book_id", 1], ["book_id", 2]]
  ↳ app/controllers/books_controller.rb:37:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ?[0m  [["id", 2]]
  ↳ app/controllers/books_controller.rb:37:in `sort'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 2], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:38:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:39:in `block in index'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 4.6ms | Allocations: 2776)
  Rendered users/_follow_btn.html.erb (Duration: 0.4ms | Allocations: 212)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 3], ["follower_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 2.1ms | Allocations: 1252)
  Rendered books/_newbook.html.erb (Duration: 2.6ms | Allocations: 2259)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.7ms | Allocations: 2187)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.4ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:49
  Rendered books/_index.html.erb (Duration: 13.7ms | Allocations: 11698)
  Rendered books/index.html.erb within layouts/application (Duration: 26.0ms | Allocations: 19497)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.6ms | Allocations: 623)
  Rendered searches/_search_window.html.erb (Duration: 0.8ms | Allocations: 1867)
  Rendered layout layouts/application.html.erb (Duration: 32.4ms | Allocations: 24932)
Completed 200 OK in 59ms (Views: 33.1ms | ActiveRecord: 2.4ms | Allocations: 32969)


Started POST "/books" for 127.0.0.1 at 2024-05-07 08:08:01 +0900
Processing by BooksController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "book"=>{"title"=>"aaa", "body"=>"aaa", "star"=>"3"}, "commit"=>"Create Book"}
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[31mUnpermitted parameter: :star[0m
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:9:in `create'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 3.2ms | Allocations: 5087)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 47)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 3], ["follower_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.0ms | Allocations: 1198)
  Rendered books/_newbook.html.erb (Duration: 1.6ms | Allocations: 2489)
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/_index.html.erb:20
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.8ms | Allocations: 4497)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1946)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:49
  Rendered books/_index.html.erb (Duration: 12.2ms | Allocations: 16499)
  Rendered books/index.html.erb within layouts/application (Duration: 22.1ms | Allocations: 28482)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.1ms | Allocations: 172)
  Rendered searches/_search_window.html.erb (Duration: 0.3ms | Allocations: 1664)
  Rendered layout layouts/application.html.erb (Duration: 25.8ms | Allocations: 32632)
Completed 200 OK in 41ms (Views: 25.5ms | ActiveRecord: 1.5ms | Allocations: 54822)


Started GET "/books" for 127.0.0.1 at 2024-05-07 08:08:21 +0900
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/books_controller.rb:35:in `sort'
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?)[0m  [["book_id", 1], ["book_id", 2]]
  ↳ app/controllers/books_controller.rb:35:in `sort'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ?[0m  [["id", 2]]
  ↳ app/controllers/books_controller.rb:35:in `sort'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 2], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:36:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:37:in `block in index'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 4.0ms | Allocations: 2308)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 40)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 3], ["follower_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.6ms | Allocations: 965)
  Rendered books/_newbook.html.erb (Duration: 2.3ms | Allocations: 1797)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 3.5ms | Allocations: 1980)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 3.1ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:49
  Rendered books/_index.html.erb (Duration: 15.6ms | Allocations: 10784)
  Rendered books/index.html.erb within layouts/application (Duration: 24.0ms | Allocations: 16252)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.2ms | Allocations: 155)
  Rendered searches/_search_window.html.erb (Duration: 0.5ms | Allocations: 1645)
  Rendered layout layouts/application.html.erb (Duration: 30.3ms | Allocations: 20315)
Completed 200 OK in 63ms (Views: 29.5ms | ActiveRecord: 2.4ms | Allocations: 30461)


Started POST "/books" for 127.0.0.1 at 2024-05-07 08:08:24 +0900
Processing by BooksController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "book"=>{"title"=>"aaa", "body"=>"aa", "star"=>"2"}, "commit"=>"Create Book"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[31mUnpermitted parameter: :star[0m
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:9:in `create'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 9.3ms | Allocations: 2298)
  Rendered users/_follow_btn.html.erb (Duration: 0.1ms | Allocations: 40)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 3], ["follower_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.9ms | Allocations: 965)
  Rendered books/_newbook.html.erb (Duration: 2.7ms | Allocations: 2207)
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/_index.html.erb:20
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 4.4ms | Allocations: 1984)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 3.5ms | Allocations: 1912)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:49
  Rendered books/_index.html.erb (Duration: 19.3ms | Allocations: 11528)
  Rendered books/index.html.erb within layouts/application (Duration: 35.5ms | Allocations: 18830)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.2ms | Allocations: 155)
  Rendered searches/_search_window.html.erb (Duration: 0.6ms | Allocations: 1626)
  Rendered layout layouts/application.html.erb (Duration: 40.3ms | Allocations: 22853)
Completed 200 OK in 52ms (Views: 39.1ms | ActiveRecord: 2.0ms | Allocations: 26368)


Started GET "/books" for 127.0.0.1 at 2024-05-07 08:08:34 +0900
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/books_controller.rb:35:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?)[0m  [["book_id", 1], ["book_id", 2]]
  ↳ app/controllers/books_controller.rb:35:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ?[0m  [["id", 2]]
  ↳ app/controllers/books_controller.rb:35:in `sort'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 2], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:36:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:37:in `block in index'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 6.9ms | Allocations: 6201)
  Rendered users/_follow_btn.html.erb (Duration: 0.3ms | Allocations: 263)
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 3], ["follower_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.4ms | Allocations: 1653)
  Rendered books/_newbook.html.erb (Duration: 13.8ms | Allocations: 10167)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 2403)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 1943)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:49
  Rendered books/_index.html.erb (Duration: 14.5ms | Allocations: 17404)
  Rendered books/index.html.erb within layouts/application (Duration: 44.7ms | Allocations: 38301)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.5ms | Allocations: 651)
  Rendered searches/_search_window.html.erb (Duration: 1.0ms | Allocations: 2059)
  Rendered layout layouts/application.html.erb (Duration: 51.3ms | Allocations: 44193)
Completed 200 OK in 82ms (Views: 51.9ms | ActiveRecord: 2.3ms | Allocations: 82809)


Started POST "/books" for 127.0.0.1 at 2024-05-07 08:08:38 +0900
Processing by BooksController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "book"=>{"title"=>"ddd", "body"=>"ddd", "star"=>"4"}, "commit"=>"Create Book"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[31mUnpermitted parameter: :star[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:9:in `create'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 5.1ms | Allocations: 2393)
  Rendered users/_follow_btn.html.erb (Duration: 0.1ms | Allocations: 40)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 3], ["follower_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.9ms | Allocations: 968)
  Rendered books/_newbook.html.erb (Duration: 3.2ms | Allocations: 2359)
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/_index.html.erb:20
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 3.4ms | Allocations: 1990)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.8ms | Allocations: 1912)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:49
  Rendered books/_index.html.erb (Duration: 17.4ms | Allocations: 11538)
  Rendered books/index.html.erb within layouts/application (Duration: 35.5ms | Allocations: 20372)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.2ms | Allocations: 155)
  Rendered searches/_search_window.html.erb (Duration: 0.6ms | Allocations: 1642)
  Rendered layout layouts/application.html.erb (Duration: 40.5ms | Allocations: 24447)
Completed 200 OK in 55ms (Views: 39.8ms | ActiveRecord: 1.7ms | Allocations: 28876)


Started POST "/books" for 127.0.0.1 at 2024-05-07 08:08:52 +0900
Processing by BooksController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "book"=>{"title"=>"ddd", "body"=>"ddd", "star"=>"3"}, "commit"=>"Create Book"}
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[31mUnpermitted parameter: :star[0m
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:2:in `create'
[31mUnpermitted parameter: :star[0m
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:10:in `create'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 17.4ms | Allocations: 7481)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 48)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 3], ["follower_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.3ms | Allocations: 1200)
  Rendered books/_newbook.html.erb (Duration: 2.1ms | Allocations: 2488)
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/_index.html.erb:20
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 4.1ms | Allocations: 4729)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.1ms | Allocations: 1950)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:49
  Rendered books/_index.html.erb (Duration: 16.0ms | Allocations: 16998)
  Rendered books/index.html.erb within layouts/application (Duration: 38.7ms | Allocations: 30114)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.2ms | Allocations: 172)
  Rendered searches/_search_window.html.erb (Duration: 0.4ms | Allocations: 1664)
  Rendered layout layouts/application.html.erb (Duration: 42.7ms | Allocations: 34270)
Completed 200 OK in 158011ms (Views: 42.7ms | ActiveRecord: 2.6ms | Allocations: 209925)


Started GET "/books" for 127.0.0.1 at 2024-05-07 08:11:35 +0900
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/books_controller.rb:36:in `sort'
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?)[0m  [["book_id", 1], ["book_id", 2]]
  ↳ app/controllers/books_controller.rb:36:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ?[0m  [["id", 2]]
  ↳ app/controllers/books_controller.rb:36:in `sort'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 2], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:37:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:38:in `block in index'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 4.5ms | Allocations: 2785)
  Rendered users/_follow_btn.html.erb (Duration: 0.4ms | Allocations: 212)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 3], ["follower_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.9ms | Allocations: 1254)
  Rendered books/_newbook.html.erb (Duration: 3.0ms | Allocations: 2265)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.8ms | Allocations: 2191)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.3ms | Allocations: 1914)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:49
  Rendered books/_index.html.erb (Duration: 13.8ms | Allocations: 11720)
  Rendered books/index.html.erb within layouts/application (Duration: 26.2ms | Allocations: 19538)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.6ms | Allocations: 623)
  Rendered searches/_search_window.html.erb (Duration: 0.8ms | Allocations: 1868)
  Rendered layout layouts/application.html.erb (Duration: 32.2ms | Allocations: 24917)
Completed 200 OK in 68ms (Views: 39.0ms | ActiveRecord: 2.0ms | Allocations: 36318)


Started POST "/books" for 127.0.0.1 at 2024-05-07 08:11:41 +0900
Processing by BooksController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "book"=>{"title"=>"ddd", "body"=>"ddd", "rate"=>"", "star"=>"4"}, "commit"=>"Create Book"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[31mUnpermitted parameter: :star[0m
[31mUnpermitted parameter: :star[0m
Started GET "/books" for 127.0.0.1 at 2024-05-07 08:13:05 +0900
Processing by BooksController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/books_controller.rb:36:in `sort'
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?)[0m  [["book_id", 1], ["book_id", 2]]
  ↳ app/controllers/books_controller.rb:36:in `sort'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ?[0m  [["id", 2]]
  ↳ app/controllers/books_controller.rb:36:in `sort'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 2], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:37:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:38:in `block in index'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 4.4ms | Allocations: 2883)
  Rendered users/_follow_btn.html.erb (Duration: 0.5ms | Allocations: 212)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 3], ["follower_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 2.4ms | Allocations: 1281)
  Rendered books/_newbook.html.erb (Duration: 16.1ms | Allocations: 5004)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.6ms | Allocations: 2239)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.3ms | Allocations: 1914)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:49
  Rendered books/_index.html.erb (Duration: 13.4ms | Allocations: 12008)
  Rendered books/index.html.erb within layouts/application (Duration: 42.5ms | Allocations: 22732)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.5ms | Allocations: 623)
  Rendered searches/_search_window.html.erb (Duration: 0.7ms | Allocations: 1871)
  Rendered layout layouts/application.html.erb (Duration: 47.8ms | Allocations: 28077)
Completed 200 OK in 70ms (Views: 49.0ms | ActiveRecord: 2.7ms | Allocations: 37386)


Started POST "/books" for 127.0.0.1 at 2024-05-07 08:13:26 +0900
Completed 401 Unauthorized in 124515ms (ActiveRecord: 0.2ms | Allocations: 152344)


Started GET "/books" for 127.0.0.1 at 2024-05-07 08:13:48 +0900
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/books_controller.rb:35:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?)[0m  [["book_id", 1], ["book_id", 2]]
  ↳ app/controllers/books_controller.rb:35:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ?[0m  [["id", 2]]
  ↳ app/controllers/books_controller.rb:35:in `sort'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 2], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:36:in `block in index'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:37:in `block in index'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 6.2ms | Allocations: 6480)
  Rendered users/_follow_btn.html.erb (Duration: 0.4ms | Allocations: 399)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 3], ["follower_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.7ms | Allocations: 1954)
  Rendered books/_newbook.html.erb (Duration: 14.7ms | Allocations: 10727)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.3ms | Allocations: 2403)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1943)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:49
  Rendered books/_index.html.erb (Duration: 15.4ms | Allocations: 17408)
  Rendered books/index.html.erb within layouts/application (Duration: 41.6ms | Allocations: 39977)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.5ms | Allocations: 651)
  Rendered searches/_search_window.html.erb (Duration: 1.0ms | Allocations: 2060)
  Rendered layout layouts/application.html.erb (Duration: 47.9ms | Allocations: 45801)
Completed 200 OK in 97ms (Views: 53.1ms | ActiveRecord: 2.4ms | Allocations: 83732)


Started POST "/books" for 127.0.0.1 at 2024-05-07 08:13:53 +0900
Processing by BooksController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "book"=>{"title"=>"d", "body"=>"d", "star"=>"3"}, "commit"=>"Create Book"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[31mUnpermitted parameter: :star[0m
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:9:in `create'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 6.2ms | Allocations: 2393)
  Rendered users/_follow_btn.html.erb (Duration: 0.1ms | Allocations: 40)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 3], ["follower_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 5.3ms | Allocations: 968)
  Rendered books/_newbook.html.erb (Duration: 10.0ms | Allocations: 1985)
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/_index.html.erb:20
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 8.2ms | Allocations: 1990)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.0ms | Allocations: 1912)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:49
  Rendered books/_index.html.erb (Duration: 51.3ms | Allocations: 11544)
  Rendered books/index.html.erb within layouts/application (Duration: 75.4ms | Allocations: 19003)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.1ms | Allocations: 155)
  Rendered searches/_search_window.html.erb (Duration: 0.4ms | Allocations: 1642)
  Rendered layout layouts/application.html.erb (Duration: 78.9ms | Allocations: 23078)
Completed 200 OK in 88ms (Views: 78.2ms | ActiveRecord: 2.0ms | Allocations: 27510)


Started GET "/books" for 127.0.0.1 at 2024-05-07 08:14:16 +0900
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/books_controller.rb:37:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?)[0m  [["book_id", 1], ["book_id", 2]]
  ↳ app/controllers/books_controller.rb:37:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ?[0m  [["id", 2]]
  ↳ app/controllers/books_controller.rb:37:in `sort'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 2], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:38:in `block in index'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:39:in `block in index'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 6.4ms | Allocations: 6452)
  Rendered users/_follow_btn.html.erb (Duration: 0.5ms | Allocations: 402)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 3], ["follower_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.5ms | Allocations: 1746)
  Rendered books/_newbook.html.erb (Duration: 14.3ms | Allocations: 10376)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.4ms | Allocations: 2403)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1943)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:49
  Rendered books/_index.html.erb (Duration: 16.3ms | Allocations: 17408)
  Rendered books/index.html.erb within layouts/application (Duration: 42.6ms | Allocations: 39605)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.4ms | Allocations: 651)
  Rendered searches/_search_window.html.erb (Duration: 0.9ms | Allocations: 2060)
  Rendered layout layouts/application.html.erb (Duration: 49.9ms | Allocations: 45450)
Completed 200 OK in 100ms (Views: 56.0ms | ActiveRecord: 2.7ms | Allocations: 83724)


Started POST "/books" for 127.0.0.1 at 2024-05-07 08:14:20 +0900
Processing by BooksController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "book"=>{"title"=>"d", "body"=>"d", "star"=>"4"}, "commit"=>"Create Book"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[31mUnpermitted parameter: :star[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:9:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:11:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:11:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/books_controller.rb:11:in `create'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 3.7ms | Allocations: 2373)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 40)
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 3], ["follower_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.7ms | Allocations: 968)
  Rendered books/_newbook.html.erb (Duration: 8.5ms | Allocations: 1977)
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/_index.html.erb:20
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 9.9ms | Allocations: 1990)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 10.2ms | Allocations: 1912)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:49
  Rendered books/_index.html.erb (Duration: 54.2ms | Allocations: 11542)
  Rendered books/index.html.erb within layouts/application (Duration: 69.6ms | Allocations: 18165)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.2ms | Allocations: 155)
  Rendered searches/_search_window.html.erb (Duration: 0.5ms | Allocations: 1642)
  Rendered layout layouts/application.html.erb (Duration: 73.7ms | Allocations: 22240)
Completed 200 OK in 96ms (Views: 72.7ms | ActiveRecord: 2.3ms | Allocations: 29174)


Started GET "/books" for 127.0.0.1 at 2024-05-07 08:14:47 +0900
Processing by BooksController#index as HTML
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/books_controller.rb:37:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?)[0m  [["book_id", 1], ["book_id", 2]]
  ↳ app/controllers/books_controller.rb:37:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ?[0m  [["id", 2]]
  ↳ app/controllers/books_controller.rb:37:in `sort'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 2], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:38:in `block in index'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:39:in `block in index'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 2.9ms | Allocations: 5237)
  Rendered users/_follow_btn.html.erb (Duration: 0.1ms | Allocations: 47)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 3], ["follower_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.2ms | Allocations: 1197)
  Rendered books/_newbook.html.erb (Duration: 1.8ms | Allocations: 2273)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 2172)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 1943)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:49
  Rendered books/_index.html.erb (Duration: 13.5ms | Allocations: 16120)
  Rendered books/index.html.erb within layouts/application (Duration: 19.8ms | Allocations: 25258)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.2ms | Allocations: 172)
  Rendered searches/_search_window.html.erb (Duration: 0.3ms | Allocations: 1682)
  Rendered layout layouts/application.html.erb (Duration: 25.6ms | Allocations: 29442)
Completed 200 OK in 49ms (Views: 24.9ms | ActiveRecord: 2.5ms | Allocations: 58757)


Started POST "/books" for 127.0.0.1 at 2024-05-07 08:14:50 +0900
Processing by BooksController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "book"=>{"title"=>"d", "body"=>"d", "star"=>"3"}, "commit"=>"Create Book"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.2ms | Allocations: 2598)


  
ActiveModel::UnknownAttributeError (unknown attribute 'star' for Book.

          raise UnknownAttributeError.new(self, k.to_s)
          ^^^^^):
  
app/controllers/books_controller.rb:7:in `create'
Started GET "/books" for 127.0.0.1 at 2024-05-07 08:29:49 +0900
Processing by BooksController#index as HTML
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/books_controller.rb:37:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?)[0m  [["book_id", 1], ["book_id", 2]]
  ↳ app/controllers/books_controller.rb:37:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ?[0m  [["id", 2]]
  ↳ app/controllers/books_controller.rb:37:in `sort'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 2], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:38:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:39:in `block in index'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 1.9ms | Allocations: 2449)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 40)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 3], ["follower_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.6ms | Allocations: 990)
  Rendered books/_newbook.html.erb (Duration: 2.5ms | Allocations: 2000)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.1ms | Allocations: 1986)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:49
  Rendered books/_index.html.erb (Duration: 9.9ms | Allocations: 10872)
  Rendered books/index.html.erb within layouts/application (Duration: 16.4ms | Allocations: 16709)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.1ms | Allocations: 155)
  Rendered searches/_search_window.html.erb (Duration: 0.4ms | Allocations: 1660)
  Rendered layout layouts/application.html.erb (Duration: 20.2ms | Allocations: 20885)
Completed 200 OK in 30ms (Views: 19.8ms | ActiveRecord: 2.1ms | Allocations: 29212)


Started GET "/books" for 127.0.0.1 at 2024-05-07 08:29:53 +0900
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/books_controller.rb:37:in `sort'
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?)[0m  [["book_id", 1], ["book_id", 2]]
  ↳ app/controllers/books_controller.rb:37:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ?[0m  [["id", 2]]
  ↳ app/controllers/books_controller.rb:37:in `sort'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 2], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:38:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:39:in `block in index'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 5.4ms | Allocations: 2775)
  Rendered users/_follow_btn.html.erb (Duration: 0.4ms | Allocations: 212)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 3], ["follower_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 2.2ms | Allocations: 1251)
  Rendered books/_newbook.html.erb (Duration: 3.4ms | Allocations: 2402)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 3.4ms | Allocations: 2187)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.8ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:49
  Rendered books/_index.html.erb (Duration: 16.2ms | Allocations: 11698)
  Rendered books/index.html.erb within layouts/application (Duration: 30.2ms | Allocations: 19633)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.6ms | Allocations: 623)
  Rendered searches/_search_window.html.erb (Duration: 0.9ms | Allocations: 1868)
  Rendered layout layouts/application.html.erb (Duration: 36.4ms | Allocations: 25068)
Completed 200 OK in 67ms (Views: 38.0ms | ActiveRecord: 2.4ms | Allocations: 32680)


Started POST "/books" for 127.0.0.1 at 2024-05-07 08:29:56 +0900
Processing by BooksController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "book"=>{"title"=>"d", "body"=>"d", "rate"=>"", "star"=>"4"}, "commit"=>"Create Book"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[31mUnpermitted parameter: :rate[0m
Completed 500 Internal Server Error in 13ms (ActiveRecord: 0.2ms | Allocations: 2491)


  
ActiveModel::UnknownAttributeError (unknown attribute 'star' for Book.

          raise UnknownAttributeError.new(self, k.to_s)
          ^^^^^):
  
app/controllers/books_controller.rb:7:in `create'
Started GET "/books" for 127.0.0.1 at 2024-05-07 08:31:34 +0900
Processing by BooksController#index as HTML
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/books_controller.rb:37:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?)[0m  [["book_id", 1], ["book_id", 2]]
  ↳ app/controllers/books_controller.rb:37:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ?[0m  [["id", 2]]
  ↳ app/controllers/books_controller.rb:37:in `sort'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 2], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:38:in `block in index'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:39:in `block in index'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 3.4ms | Allocations: 5237)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 47)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 3], ["follower_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 0.8ms | Allocations: 1197)
  Rendered books/_newbook.html.erb (Duration: 1.6ms | Allocations: 2170)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 2172)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.4ms | Allocations: 1943)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:49
  Rendered books/_index.html.erb (Duration: 10.8ms | Allocations: 16123)
  Rendered books/index.html.erb within layouts/application (Duration: 17.0ms | Allocations: 25158)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.2ms | Allocations: 172)
  Rendered searches/_search_window.html.erb (Duration: 0.5ms | Allocations: 1682)
  Rendered layout layouts/application.html.erb (Duration: 20.7ms | Allocations: 29343)
Completed 200 OK in 39ms (Views: 20.3ms | ActiveRecord: 2.3ms | Allocations: 58652)


Started POST "/books" for 127.0.0.1 at 2024-05-07 08:31:36 +0900
Processing by BooksController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "book"=>{"title"=>"d", "body"=>"d", "rate"=>"", "star"=>"3"}, "commit"=>"Create Book"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[31mUnpermitted parameter: :star[0m
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:9:in `create'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:11:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:11:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/books_controller.rb:11:in `create'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 4.1ms | Allocations: 2319)
  Rendered users/_follow_btn.html.erb (Duration: 0.1ms | Allocations: 40)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 3], ["follower_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 2.0ms | Allocations: 966)
  Rendered books/_newbook.html.erb (Duration: 3.0ms | Allocations: 2390)
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/_index.html.erb:20
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 3.5ms | Allocations: 1984)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 3.4ms | Allocations: 1912)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:49
  Rendered books/_index.html.erb (Duration: 17.2ms | Allocations: 11521)
  Rendered books/index.html.erb within layouts/application (Duration: 27.5ms | Allocations: 18333)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.2ms | Allocations: 155)
  Rendered searches/_search_window.html.erb (Duration: 0.9ms | Allocations: 1626)
  Rendered layout layouts/application.html.erb (Duration: 32.5ms | Allocations: 22357)
Completed 200 OK in 48ms (Views: 31.8ms | ActiveRecord: 1.7ms | Allocations: 28761)


Started POST "/books" for 127.0.0.1 at 2024-05-07 08:31:53 +0900
Processing by BooksController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "book"=>{"title"=>"d", "body"=>"d", "rate"=>"", "star"=>"3"}, "commit"=>"Create Book"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[31mUnpermitted parameter: :star[0m
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:9:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:11:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:11:in `create'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/books_controller.rb:11:in `create'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 4.2ms | Allocations: 2296)
  Rendered users/_follow_btn.html.erb (Duration: 0.1ms | Allocations: 40)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 3], ["follower_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.8ms | Allocations: 965)
  Rendered books/_newbook.html.erb (Duration: 2.8ms | Allocations: 2317)
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/_index.html.erb:20
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.8ms | Allocations: 1984)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.7ms | Allocations: 1912)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:49
  Rendered books/_index.html.erb (Duration: 16.3ms | Allocations: 11520)
  Rendered books/index.html.erb within layouts/application (Duration: 26.2ms | Allocations: 18194)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.1ms | Allocations: 155)
  Rendered searches/_search_window.html.erb (Duration: 0.4ms | Allocations: 1627)
  Rendered layout layouts/application.html.erb (Duration: 30.6ms | Allocations: 22218)
Completed 200 OK in 57ms (Views: 29.9ms | ActiveRecord: 1.9ms | Allocations: 28111)


Started POST "/books" for 127.0.0.1 at 2024-05-07 08:32:03 +0900
Processing by BooksController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "book"=>{"title"=>"d", "body"=>"d", "rate"=>"", "star"=>"5"}, "commit"=>"Create Book"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[31mUnpermitted parameter: :star[0m
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:9:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:11:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:11:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/books_controller.rb:11:in `create'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 4.6ms | Allocations: 2296)
  Rendered users/_follow_btn.html.erb (Duration: 0.1ms | Allocations: 40)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 3], ["follower_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.8ms | Allocations: 965)
  Rendered books/_newbook.html.erb (Duration: 3.1ms | Allocations: 2306)
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/_index.html.erb:20
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 3.6ms | Allocations: 1984)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 3.1ms | Allocations: 1912)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:49
  Rendered books/_index.html.erb (Duration: 18.9ms | Allocations: 11520)
  Rendered books/index.html.erb within layouts/application (Duration: 29.5ms | Allocations: 18183)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.2ms | Allocations: 155)
  Rendered searches/_search_window.html.erb (Duration: 0.6ms | Allocations: 1626)
  Rendered layout layouts/application.html.erb (Duration: 34.2ms | Allocations: 22206)
Completed 200 OK in 51ms (Views: 33.3ms | ActiveRecord: 2.2ms | Allocations: 28093)


Started POST "/books" for 127.0.0.1 at 2024-05-07 08:32:19 +0900
Processing by BooksController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "book"=>{"title"=>"d", "body"=>"d", "rate"=>"", "star"=>"2"}, "commit"=>"Create Book"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[31mUnpermitted parameter: :star[0m
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:9:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:11:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:11:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/books_controller.rb:11:in `create'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 4.3ms | Allocations: 2763)
  Rendered users/_follow_btn.html.erb (Duration: 0.4ms | Allocations: 212)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 3], ["follower_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 2.2ms | Allocations: 1252)
  Rendered books/_newbook.html.erb (Duration: 4.2ms | Allocations: 2836)
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/_index.html.erb:20
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.9ms | Allocations: 2191)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.3ms | Allocations: 1912)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:49
  Rendered books/_index.html.erb (Duration: 16.3ms | Allocations: 12442)
  Rendered books/index.html.erb within layouts/application (Duration: 30.8ms | Allocations: 21543)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.6ms | Allocations: 623)
  Rendered searches/_search_window.html.erb (Duration: 0.7ms | Allocations: 1849)
  Rendered layout layouts/application.html.erb (Duration: 36.9ms | Allocations: 26875)
Completed 200 OK in 59ms (Views: 38.5ms | ActiveRecord: 2.9ms | Allocations: 33740)


Started GET "/books" for 127.0.0.1 at 2024-05-07 08:32:35 +0900
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/books_controller.rb:37:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?)[0m  [["book_id", 1], ["book_id", 2]]
  ↳ app/controllers/books_controller.rb:37:in `sort'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ?[0m  [["id", 2]]
  ↳ app/controllers/books_controller.rb:37:in `sort'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 2], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:38:in `block in index'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:39:in `block in index'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 1.7ms | Allocations: 2298)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 40)
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 3], ["follower_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.1ms | Allocations: 964)
  Rendered books/_newbook.html.erb (Duration: 1.5ms | Allocations: 1820)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1980)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:49
  Rendered books/_index.html.erb (Duration: 9.6ms | Allocations: 10784)
  Rendered books/index.html.erb within layouts/application (Duration: 14.3ms | Allocations: 16264)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.1ms | Allocations: 155)
  Rendered searches/_search_window.html.erb (Duration: 0.4ms | Allocations: 1645)
  Rendered layout layouts/application.html.erb (Duration: 17.7ms | Allocations: 20390)
Completed 200 OK in 24ms (Views: 17.3ms | ActiveRecord: 1.0ms | Allocations: 27189)


Started POST "/books" for 127.0.0.1 at 2024-05-07 08:32:38 +0900
Processing by BooksController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "book"=>{"title"=>"d", "body"=>"d", "rate"=>"", "star"=>"2"}, "commit"=>"Create Book"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[31mUnpermitted parameter: :star[0m
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:9:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:11:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:11:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/books_controller.rb:11:in `create'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 4.8ms | Allocations: 2296)
  Rendered users/_follow_btn.html.erb (Duration: 0.1ms | Allocations: 40)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 3], ["follower_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 2.0ms | Allocations: 965)
  Rendered books/_newbook.html.erb (Duration: 3.3ms | Allocations: 2306)
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/_index.html.erb:20
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 3.3ms | Allocations: 1984)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 3.3ms | Allocations: 1912)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:49
  Rendered books/_index.html.erb (Duration: 21.6ms | Allocations: 11536)
  Rendered books/index.html.erb within layouts/application (Duration: 33.1ms | Allocations: 18199)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.2ms | Allocations: 155)
  Rendered searches/_search_window.html.erb (Duration: 0.5ms | Allocations: 1627)
  Rendered layout layouts/application.html.erb (Duration: 39.8ms | Allocations: 22223)
Completed 200 OK in 61ms (Views: 38.9ms | ActiveRecord: 2.3ms | Allocations: 28171)


Started POST "/books" for 127.0.0.1 at 2024-05-07 08:33:00 +0900
Processing by BooksController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "book"=>{"title"=>"d", "body"=>"d", "rate"=>"", "star"=>"2"}, "commit"=>"Create Book"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[31mUnpermitted parameter: :star[0m
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:9:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:11:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:11:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/books_controller.rb:11:in `create'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 4.9ms | Allocations: 2763)
  Rendered users/_follow_btn.html.erb (Duration: 0.6ms | Allocations: 212)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 3], ["follower_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 2.2ms | Allocations: 1252)
  Rendered books/_newbook.html.erb (Duration: 3.9ms | Allocations: 2839)
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/_index.html.erb:20
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 3.6ms | Allocations: 2191)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.5ms | Allocations: 1912)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:49
  Rendered books/_index.html.erb (Duration: 18.0ms | Allocations: 12434)
  Rendered books/index.html.erb within layouts/application (Duration: 33.7ms | Allocations: 21536)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.7ms | Allocations: 623)
  Rendered searches/_search_window.html.erb (Duration: 0.8ms | Allocations: 1850)
  Rendered layout layouts/application.html.erb (Duration: 40.6ms | Allocations: 26869)
Completed 200 OK in 61ms (Views: 41.8ms | ActiveRecord: 1.9ms | Allocations: 33746)


Started GET "/books" for 127.0.0.1 at 2024-05-07 08:33:02 +0900
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/books_controller.rb:37:in `sort'
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?)[0m  [["book_id", 1], ["book_id", 2]]
  ↳ app/controllers/books_controller.rb:37:in `sort'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ?[0m  [["id", 2]]
  ↳ app/controllers/books_controller.rb:37:in `sort'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 2], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:38:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:39:in `block in index'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 2.9ms | Allocations: 2298)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 40)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 3], ["follower_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.3ms | Allocations: 964)
  Rendered books/_newbook.html.erb (Duration: 1.7ms | Allocations: 1816)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.0ms | Allocations: 1980)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.3ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:49
  Rendered books/_index.html.erb (Duration: 10.9ms | Allocations: 10784)
  Rendered books/index.html.erb within layouts/application (Duration: 17.2ms | Allocations: 16260)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.1ms | Allocations: 155)
  Rendered searches/_search_window.html.erb (Duration: 0.4ms | Allocations: 1644)
  Rendered layout layouts/application.html.erb (Duration: 20.7ms | Allocations: 20385)
Completed 200 OK in 28ms (Views: 20.1ms | ActiveRecord: 1.3ms | Allocations: 27175)


Started POST "/books" for 127.0.0.1 at 2024-05-07 08:33:06 +0900
Processing by BooksController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "book"=>{"title"=>"f", "body"=>"f", "rate"=>"3"}, "commit"=>"Create Book"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:9:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:11:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:11:in `create'
  [1m[36mBook Create (0.6ms)[0m  [1m[32mINSERT INTO "books" ("title", "body", "user_id", "created_at", "updated_at", "rate", "category_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["title", "f"], ["body", "f"], ["user_id", 3], ["created_at", "2024-05-06 23:33:06.247260"], ["updated_at", "2024-05-06 23:33:06.247260"], ["rate", 3.0], ["category_id", 1]]
  ↳ app/controllers/books_controller.rb:11:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/books_controller.rb:11:in `create'
Redirected to http://127.0.0.1:3000/books/3
Completed 302 Found in 21ms (ActiveRecord: 2.1ms | Allocations: 6206)


Started GET "/books/3" for 127.0.0.1 at 2024-05-07 08:33:06 +0900
Processing by BooksController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:48:in `show'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:49:in `show'
  Rendering layout layouts/application.html.erb
  Rendering books/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 3.5ms | Allocations: 2505)
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/show.html.erb:40
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.5ms | Allocations: 1886)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/book_comments/_count.html.erb:1
  Rendered book_comments/_count.html.erb (Duration: 1.5ms | Allocations: 936)
  [1m[36mBookComment Load (0.2ms)[0m  [1m[34mSELECT "book_comments".* FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/book_comments/_comment.html.erb:1
  Rendered book_comments/_comment.html.erb (Duration: 2.1ms | Allocations: 1067)
  Rendered books/show.html.erb within layouts/application (Duration: 26.8ms | Allocations: 12865)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.2ms | Allocations: 160)
  Rendered searches/_search_window.html.erb (Duration: 0.4ms | Allocations: 1661)
  Rendered layout layouts/application.html.erb (Duration: 30.7ms | Allocations: 17001)
Completed 200 OK in 40ms (Views: 30.4ms | ActiveRecord: 1.0ms | Allocations: 24153)


Started GET "/" for 127.0.0.1 at 2024-05-07 08:33:23 +0900
Processing by HomesController#top as HTML
  Rendering layout layouts/application.html.erb
  Rendering homes/top.html.erb within layouts/application
  Rendered homes/top.html.erb within layouts/application (Duration: 1.0ms | Allocations: 306)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/_header.html.erb:9
  Rendered layouts/_header.html.erb (Duration: 9.3ms | Allocations: 1292)
  Rendered searches/_search_window.html.erb (Duration: 0.9ms | Allocations: 1698)
  Rendered layout layouts/application.html.erb (Duration: 25.9ms | Allocations: 6581)
Completed 200 OK in 32ms (Views: 29.7ms | ActiveRecord: 0.1ms | Allocations: 8003)


Started GET "/books" for 127.0.0.1 at 2024-05-07 08:33:25 +0900
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/books_controller.rb:37:in `sort'
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3]]
  ↳ app/controllers/books_controller.rb:37:in `sort'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ?[0m  [["id", 2]]
  ↳ app/controllers/books_controller.rb:37:in `sort'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 2], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:38:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:39:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 3], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:38:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:39:in `block in index'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 2.8ms | Allocations: 2326)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 40)
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 3], ["follower_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.2ms | Allocations: 964)
  Rendered books/_newbook.html.erb (Duration: 2.6ms | Allocations: 1961)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 3.1ms | Allocations: 1985)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.6ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 3.2ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:49
  Rendered books/_index.html.erb (Duration: 24.3ms | Allocations: 16096)
  Rendered books/index.html.erb within layouts/application (Duration: 31.5ms | Allocations: 21745)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.1ms | Allocations: 155)
  Rendered searches/_search_window.html.erb (Duration: 0.5ms | Allocations: 1645)
  Rendered layout layouts/application.html.erb (Duration: 35.7ms | Allocations: 25871)
Completed 200 OK in 62ms (Views: 34.8ms | ActiveRecord: 2.9ms | Allocations: 34559)


Started POST "/books/2/favorites" for 127.0.0.1 at 2024-05-07 08:33:47 +0900
Processing by FavoritesController#create as JS
  Parameters: {"book_id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:3:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."book_id" = ? AND "favorites"."user_id" = ? LIMIT ?[0m  [["book_id", 2], ["user_id", 3], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mFavorite Create (0.8ms)[0m  [1m[32mINSERT INTO "favorites" ("book_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["book_id", 2], ["user_id", 3], ["created_at", "2024-05-06 23:33:47.809626"], ["updated_at", "2024-05-06 23:33:47.809626"]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3]]
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 2], ["id", 3]]
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:7:in `create'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?)[0m  [["book_id", 1], ["book_id", 2]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 2], ["id", 3]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  Rendering favorites/create.js.erb
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 3.1ms | Allocations: 2049)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.1ms | Allocations: 1810)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.7ms | Allocations: 1907)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.2ms | Allocations: 1906)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:49
  Rendered books/_index.html.erb (Duration: 18.5ms | Allocations: 16659)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 1804)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.5ms | Allocations: 1805)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/users/_userbooks.html.erb:36
  Rendered users/_userbooks.html.erb (Duration: 8.1ms | Allocations: 8998)
  Rendered favorites/create.js.erb (Duration: 31.9ms | Allocations: 29679)
Completed 200 OK in 59ms (Views: 33.2ms | ActiveRecord: 3.7ms | Allocations: 45713)


Started GET "/books" for 127.0.0.1 at 2024-05-07 08:35:59 +0900
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/books_controller.rb:37:in `sort'
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3]]
  ↳ app/controllers/books_controller.rb:37:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 2], ["id", 3]]
  ↳ app/controllers/books_controller.rb:37:in `sort'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 2], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:38:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:39:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 3], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:38:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:39:in `block in index'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 4.1ms | Allocations: 2775)
  Rendered users/_follow_btn.html.erb (Duration: 0.7ms | Allocations: 212)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 3], ["follower_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 2.2ms | Allocations: 1251)
  Rendered books/_newbook.html.erb (Duration: 3.2ms | Allocations: 2387)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 3.8ms | Allocations: 2188)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.8ms | Allocations: 1911)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.2ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:49
  Rendered books/_index.html.erb (Duration: 26.9ms | Allocations: 17004)
  Rendered books/index.html.erb within layouts/application (Duration: 39.9ms | Allocations: 24922)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.8ms | Allocations: 623)
  Rendered searches/_search_window.html.erb (Duration: 1.0ms | Allocations: 1868)
  Rendered layout layouts/application.html.erb (Duration: 53.2ms | Allocations: 30360)
Completed 200 OK in 72ms (Views: 53.5ms | ActiveRecord: 2.6ms | Allocations: 40102)


Started GET "/books" for 127.0.0.1 at 2024-05-07 08:36:02 +0900
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/books_controller.rb:37:in `sort'
  [1m[36mFavorite Load (1.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3]]
  ↳ app/controllers/books_controller.rb:37:in `sort'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 2], ["id", 3]]
  ↳ app/controllers/books_controller.rb:37:in `sort'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 2], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:38:in `block in index'
  [1m[35m (2.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:39:in `block in index'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 3], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:38:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:39:in `block in index'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 3.8ms | Allocations: 2298)
  Rendered users/_follow_btn.html.erb (Duration: 0.1ms | Allocations: 40)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 3], ["follower_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.7ms | Allocations: 964)
  Rendered books/_newbook.html.erb (Duration: 3.1ms | Allocations: 1827)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 3.1ms | Allocations: 1981)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.9ms | Allocations: 1910)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.7ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:49
  Rendered books/_index.html.erb (Duration: 23.6ms | Allocations: 16083)
  Rendered books/index.html.erb within layouts/application (Duration: 33.3ms | Allocations: 21569)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 155)
  Rendered searches/_search_window.html.erb (Duration: 0.4ms | Allocations: 1645)
  Rendered layout layouts/application.html.erb (Duration: 37.3ms | Allocations: 25695)
Completed 200 OK in 66ms (Views: 36.1ms | ActiveRecord: 6.1ms | Allocations: 34442)


Started GET "/books" for 127.0.0.1 at 2024-05-07 08:36:15 +0900
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/books_controller.rb:37:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3]]
  ↳ app/controllers/books_controller.rb:37:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 2], ["id", 3]]
  ↳ app/controllers/books_controller.rb:37:in `sort'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 2], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:38:in `block in index'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:39:in `block in index'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 3], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:38:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:39:in `block in index'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 1.8ms | Allocations: 2298)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 40)
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 3], ["follower_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 0.9ms | Allocations: 964)
  Rendered books/_newbook.html.erb (Duration: 1.4ms | Allocations: 1816)
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.0ms | Allocations: 1981)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.9ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.5ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:49
  Rendered books/_index.html.erb (Duration: 18.5ms | Allocations: 16083)
  Rendered books/index.html.erb within layouts/application (Duration: 23.1ms | Allocations: 21558)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.1ms | Allocations: 155)
  Rendered searches/_search_window.html.erb (Duration: 0.5ms | Allocations: 1644)
  Rendered layout layouts/application.html.erb (Duration: 27.2ms | Allocations: 25683)
Completed 200 OK in 34ms (Views: 26.3ms | ActiveRecord: 1.5ms | Allocations: 34283)


Started GET "/books" for 127.0.0.1 at 2024-05-07 08:36:16 +0900
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/books_controller.rb:37:in `sort'
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3]]
  ↳ app/controllers/books_controller.rb:37:in `sort'
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 2], ["id", 3]]
  ↳ app/controllers/books_controller.rb:37:in `sort'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 2], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:38:in `block in index'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:39:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 3], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:38:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:39:in `block in index'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 3.9ms | Allocations: 2775)
  Rendered users/_follow_btn.html.erb (Duration: 0.3ms | Allocations: 212)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 3], ["follower_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.4ms | Allocations: 1251)
  Rendered books/_newbook.html.erb (Duration: 3.6ms | Allocations: 2379)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 3.3ms | Allocations: 2189)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.4ms | Allocations: 1911)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:49
  Rendered books/_index.html.erb (Duration: 20.8ms | Allocations: 16999)
  Rendered books/index.html.erb within layouts/application (Duration: 32.3ms | Allocations: 24909)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.5ms | Allocations: 623)
  Rendered searches/_search_window.html.erb (Duration: 0.7ms | Allocations: 1867)
  Rendered layout layouts/application.html.erb (Duration: 37.6ms | Allocations: 30341)
Completed 200 OK in 70ms (Views: 37.6ms | ActiveRecord: 5.2ms | Allocations: 39914)


Started GET "/books" for 127.0.0.1 at 2024-05-07 08:36:17 +0900
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/books_controller.rb:37:in `sort'
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3]]
  ↳ app/controllers/books_controller.rb:37:in `sort'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 2], ["id", 3]]
  ↳ app/controllers/books_controller.rb:37:in `sort'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 2], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:38:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:39:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 3], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:38:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:39:in `block in index'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 4.1ms | Allocations: 2298)
  Rendered users/_follow_btn.html.erb (Duration: 0.1ms | Allocations: 40)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 3], ["follower_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.8ms | Allocations: 964)
  Rendered books/_newbook.html.erb (Duration: 2.7ms | Allocations: 1827)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 3.6ms | Allocations: 1985)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.6ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.7ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:49
  Rendered books/_index.html.erb (Duration: 22.5ms | Allocations: 16095)
  Rendered books/index.html.erb within layouts/application (Duration: 31.9ms | Allocations: 21581)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.2ms | Allocations: 155)
  Rendered searches/_search_window.html.erb (Duration: 0.7ms | Allocations: 1645)
  Rendered layout layouts/application.html.erb (Duration: 38.9ms | Allocations: 25707)
Completed 200 OK in 65ms (Views: 37.6ms | ActiveRecord: 2.9ms | Allocations: 34455)


Started GET "/books" for 127.0.0.1 at 2024-05-07 08:36:47 +0900
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/books_controller.rb:37:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3]]
  ↳ app/controllers/books_controller.rb:37:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 2], ["id", 3]]
  ↳ app/controllers/books_controller.rb:37:in `sort'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 2], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:38:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:39:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 3], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:38:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:39:in `block in index'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 2.8ms | Allocations: 2298)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 40)
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 3], ["follower_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.0ms | Allocations: 964)
  Rendered books/_newbook.html.erb (Duration: 2.1ms | Allocations: 1819)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.2ms | Allocations: 1981)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:49
  Rendered books/_index.html.erb (Duration: 15.3ms | Allocations: 16083)
  Rendered books/index.html.erb within layouts/application (Duration: 21.6ms | Allocations: 21561)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.1ms | Allocations: 155)
  Rendered searches/_search_window.html.erb (Duration: 0.4ms | Allocations: 1645)
  Rendered layout layouts/application.html.erb (Duration: 26.2ms | Allocations: 25687)
Completed 200 OK in 35ms (Views: 25.4ms | ActiveRecord: 1.7ms | Allocations: 34287)


Started GET "/books" for 127.0.0.1 at 2024-05-07 08:36:49 +0900
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/books_controller.rb:37:in `sort'
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3]]
  ↳ app/controllers/books_controller.rb:37:in `sort'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 2], ["id", 3]]
  ↳ app/controllers/books_controller.rb:37:in `sort'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 2], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:38:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:39:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 3], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:38:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:39:in `block in index'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 4.7ms | Allocations: 2775)
  Rendered users/_follow_btn.html.erb (Duration: 0.8ms | Allocations: 212)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 3], ["follower_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 2.5ms | Allocations: 1251)
  Rendered books/_newbook.html.erb (Duration: 2.8ms | Allocations: 2376)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 3.1ms | Allocations: 2189)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.3ms | Allocations: 1911)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.2ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:49
  Rendered books/_index.html.erb (Duration: 20.9ms | Allocations: 16991)
  Rendered books/index.html.erb within layouts/application (Duration: 34.3ms | Allocations: 24902)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.7ms | Allocations: 623)
  Rendered searches/_search_window.html.erb (Duration: 0.7ms | Allocations: 1867)
  Rendered layout layouts/application.html.erb (Duration: 40.8ms | Allocations: 30337)
Completed 200 OK in 71ms (Views: 42.0ms | ActiveRecord: 2.7ms | Allocations: 39910)


Started GET "/books" for 127.0.0.1 at 2024-05-07 08:36:50 +0900
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/books_controller.rb:37:in `sort'
  [1m[36mFavorite Load (0.5ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3]]
  ↳ app/controllers/books_controller.rb:37:in `sort'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 2], ["id", 3]]
  ↳ app/controllers/books_controller.rb:37:in `sort'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 2], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:38:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:39:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 3], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:38:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:39:in `block in index'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 3.4ms | Allocations: 2298)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 40)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 3], ["follower_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.3ms | Allocations: 964)
  Rendered books/_newbook.html.erb (Duration: 2.3ms | Allocations: 1827)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.1ms | Allocations: 1981)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 3.5ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.7ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:49
  Rendered books/_index.html.erb (Duration: 22.0ms | Allocations: 16091)
  Rendered books/index.html.erb within layouts/application (Duration: 29.4ms | Allocations: 21577)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.2ms | Allocations: 155)
  Rendered searches/_search_window.html.erb (Duration: 0.6ms | Allocations: 1645)
  Rendered layout layouts/application.html.erb (Duration: 34.2ms | Allocations: 25703)
Completed 200 OK in 54ms (Views: 33.2ms | ActiveRecord: 2.5ms | Allocations: 34451)


Started DELETE "/books/2/favorites" for 127.0.0.1 at 2024-05-07 08:36:56 +0900
Processing by FavoritesController#destroy as JS
  Parameters: {"book_id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:11:in `destroy'
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" = ? AND "favorites"."user_id" = ? LIMIT ?[0m  [["book_id", 2], ["user_id", 3], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:12:in `destroy'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/favorites_controller.rb:13:in `destroy'
  [1m[36mFavorite Destroy (1.5ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = ?[0m  [["id", 3]]
  ↳ app/controllers/favorites_controller.rb:13:in `destroy'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/favorites_controller.rb:13:in `destroy'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/favorites_controller.rb:14:in `sort'
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3]]
  ↳ app/controllers/favorites_controller.rb:14:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ?[0m  [["id", 2]]
  ↳ app/controllers/favorites_controller.rb:14:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:15:in `destroy'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/favorites_controller.rb:15:in `sort'
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?)[0m  [["book_id", 1], ["book_id", 2]]
  ↳ app/controllers/favorites_controller.rb:15:in `sort'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ?[0m  [["id", 2]]
  ↳ app/controllers/favorites_controller.rb:15:in `sort'
  Rendering favorites/destroy.js.erb
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 3.8ms | Allocations: 2119)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.6ms | Allocations: 1804)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.8ms | Allocations: 1906)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.6ms | Allocations: 1906)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:49
  Rendered books/_index.html.erb (Duration: 22.2ms | Allocations: 16660)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.1ms | Allocations: 1804)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1805)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/users/_userbooks.html.erb:36
  Rendered users/_userbooks.html.erb (Duration: 9.1ms | Allocations: 8984)
  Rendered favorites/destroy.js.erb (Duration: 37.5ms | Allocations: 29786)
Completed 200 OK in 72ms (Views: 39.9ms | ActiveRecord: 5.2ms | Allocations: 42972)


Started POST "/books/2/favorites" for 127.0.0.1 at 2024-05-07 08:36:57 +0900
Processing by FavoritesController#create as JS
  Parameters: {"book_id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:3:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."book_id" = ? AND "favorites"."user_id" = ? LIMIT ?[0m  [["book_id", 2], ["user_id", 3], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mFavorite Create (0.6ms)[0m  [1m[32mINSERT INTO "favorites" ("book_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["book_id", 2], ["user_id", 3], ["created_at", "2024-05-06 23:36:57.898958"], ["updated_at", "2024-05-06 23:36:57.898958"]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3]]
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 2], ["id", 3]]
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:7:in `create'
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?)[0m  [["book_id", 1], ["book_id", 2]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 2], ["id", 3]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  Rendering favorites/create.js.erb
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.6ms | Allocations: 1801)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.6ms | Allocations: 1804)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 3.3ms | Allocations: 1906)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.7ms | Allocations: 1906)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:49
  Rendered books/_index.html.erb (Duration: 22.4ms | Allocations: 16494)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.1ms | Allocations: 1804)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 1805)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/users/_userbooks.html.erb:36
  Rendered users/_userbooks.html.erb (Duration: 8.6ms | Allocations: 8546)
  Rendered favorites/create.js.erb (Duration: 34.9ms | Allocations: 28370)
Completed 200 OK in 81ms (Views: 34.1ms | ActiveRecord: 6.0ms | Allocations: 42234)


Started GET "/books" for 127.0.0.1 at 2024-05-07 08:38:08 +0900
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/books_controller.rb:37:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3]]
  ↳ app/controllers/books_controller.rb:37:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 2], ["id", 3]]
  ↳ app/controllers/books_controller.rb:37:in `sort'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 2], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:38:in `block in index'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:39:in `block in index'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 3], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:38:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:39:in `block in index'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 2.1ms | Allocations: 2317)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 40)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 3], ["follower_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.2ms | Allocations: 964)
  Rendered books/_newbook.html.erb (Duration: 1.5ms | Allocations: 1897)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1981)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.4ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:49
  Rendered books/_index.html.erb (Duration: 14.0ms | Allocations: 16083)
  Rendered books/index.html.erb within layouts/application (Duration: 19.1ms | Allocations: 21658)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.1ms | Allocations: 155)
  Rendered searches/_search_window.html.erb (Duration: 0.3ms | Allocations: 1660)
  Rendered layout layouts/application.html.erb (Duration: 22.5ms | Allocations: 25832)
Completed 200 OK in 30ms (Views: 21.9ms | ActiveRecord: 1.3ms | Allocations: 34471)


Started GET "/books" for 127.0.0.1 at 2024-05-07 08:38:57 +0900
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/books_controller.rb:37:in `sort'
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3]]
  ↳ app/controllers/books_controller.rb:37:in `sort'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 2], ["id", 3]]
  ↳ app/controllers/books_controller.rb:37:in `sort'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 2], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:38:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:39:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 3], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:38:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:39:in `block in index'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 4.5ms | Allocations: 2775)
  Rendered users/_follow_btn.html.erb (Duration: 0.7ms | Allocations: 212)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 3], ["follower_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 2.0ms | Allocations: 1251)
  Rendered books/_newbook.html.erb (Duration: 3.4ms | Allocations: 2387)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 2188)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.5ms | Allocations: 1911)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.5ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:49
  Rendered books/_index.html.erb (Duration: 13.7ms | Allocations: 16989)
  Rendered books/index.html.erb within layouts/application (Duration: 27.2ms | Allocations: 24910)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.7ms | Allocations: 623)
  Rendered searches/_search_window.html.erb (Duration: 0.7ms | Allocations: 1867)
  Rendered layout layouts/application.html.erb (Duration: 35.0ms | Allocations: 30344)
Completed 200 OK in 62ms (Views: 35.5ms | ActiveRecord: 2.5ms | Allocations: 39917)


Started POST "/books/1/favorites" for 127.0.0.1 at 2024-05-07 08:38:59 +0900
Processing by FavoritesController#create as JS
  Parameters: {"book_id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:3:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."book_id" = ? AND "favorites"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 3], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mFavorite Create (0.5ms)[0m  [1m[32mINSERT INTO "favorites" ("book_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["book_id", 1], ["user_id", 3], ["created_at", "2024-05-06 23:38:59.538819"], ["updated_at", "2024-05-06 23:38:59.538819"]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3]]
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 3], ["id", 2]]
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:7:in `create'
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?)[0m  [["book_id", 1], ["book_id", 2]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 3], ["id", 2]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  Rendering favorites/create.js.erb
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 3.3ms | Allocations: 2043)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.4ms | Allocations: 1906)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 1804)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 5.0ms | Allocations: 1907)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:49
  Rendered books/_index.html.erb (Duration: 21.3ms | Allocations: 16662)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 1804)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1804)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/users/_userbooks.html.erb:36
  Rendered users/_userbooks.html.erb (Duration: 9.1ms | Allocations: 8985)
  Rendered favorites/create.js.erb (Duration: 36.0ms | Allocations: 29708)
Completed 200 OK in 63ms (Views: 37.2ms | ActiveRecord: 3.5ms | Allocations: 44911)


Started POST "/books/3/favorites" for 127.0.0.1 at 2024-05-07 08:39:02 +0900
Processing by FavoritesController#create as JS
  Parameters: {"book_id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:3:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mFavorite Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."book_id" = ? AND "favorites"."user_id" = ? LIMIT ?[0m  [["book_id", 3], ["user_id", 3], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mFavorite Create (0.5ms)[0m  [1m[32mINSERT INTO "favorites" ("book_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["book_id", 3], ["user_id", 3], ["created_at", "2024-05-06 23:39:02.687810"], ["updated_at", "2024-05-06 23:39:02.687810"]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3]]
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 3], ["id", 2]]
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:7:in `create'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 3]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ?[0m  [["id", 3]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  Rendering favorites/create.js.erb
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.9ms | Allocations: 1800)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.5ms | Allocations: 1906)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.2ms | Allocations: 1906)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.1ms | Allocations: 1804)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:49
  Rendered books/_index.html.erb (Duration: 19.3ms | Allocations: 16506)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.0ms | Allocations: 1804)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/users/_userbooks.html.erb:36
  Rendered users/_userbooks.html.erb (Duration: 4.3ms | Allocations: 4292)
  Rendered favorites/create.js.erb (Duration: 27.0ms | Allocations: 23821)
Completed 200 OK in 54ms (Views: 26.6ms | ActiveRecord: 3.6ms | Allocations: 37448)


Started DELETE "/books/3/favorites" for 127.0.0.1 at 2024-05-07 08:39:03 +0900
Processing by FavoritesController#destroy as JS
  Parameters: {"book_id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:11:in `destroy'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" = ? AND "favorites"."user_id" = ? LIMIT ?[0m  [["book_id", 3], ["user_id", 3], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:12:in `destroy'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/favorites_controller.rb:13:in `destroy'
  [1m[36mFavorite Destroy (0.5ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = ?[0m  [["id", 6]]
  ↳ app/controllers/favorites_controller.rb:13:in `destroy'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/favorites_controller.rb:13:in `destroy'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/favorites_controller.rb:14:in `sort'
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3]]
  ↳ app/controllers/favorites_controller.rb:14:in `sort'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 3], ["id", 2]]
  ↳ app/controllers/favorites_controller.rb:14:in `sort'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:15:in `destroy'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 3]]
  ↳ app/controllers/favorites_controller.rb:15:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/controllers/favorites_controller.rb:15:in `sort'
  Rendering favorites/destroy.js.erb
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 3.7ms | Allocations: 1877)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.9ms | Allocations: 1906)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.8ms | Allocations: 1906)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.4ms | Allocations: 1805)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:49
  Rendered books/_index.html.erb (Duration: 23.6ms | Allocations: 16507)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.2ms | Allocations: 1805)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/users/_userbooks.html.erb:36
  Rendered users/_userbooks.html.erb (Duration: 4.6ms | Allocations: 4293)
  Rendered favorites/destroy.js.erb (Duration: 33.2ms | Allocations: 24036)
Completed 200 OK in 63ms (Views: 32.5ms | ActiveRecord: 4.3ms | Allocations: 34648)


Started GET "/books" for 127.0.0.1 at 2024-05-07 08:39:32 +0900
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/books_controller.rb:37:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3]]
  ↳ app/controllers/books_controller.rb:37:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 3], ["id", 2]]
  ↳ app/controllers/books_controller.rb:37:in `sort'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 2], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:38:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:39:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 3], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:38:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:39:in `block in index'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 2.8ms | Allocations: 2317)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 40)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 3], ["follower_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 0.9ms | Allocations: 964)
  Rendered books/_newbook.html.erb (Duration: 3.9ms | Allocations: 1898)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 3.0ms | Allocations: 1981)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.6ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.2ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:49
  Rendered books/_index.html.erb (Duration: 20.3ms | Allocations: 16084)
  Rendered books/index.html.erb within layouts/application (Duration: 28.4ms | Allocations: 21660)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.1ms | Allocations: 155)
  Rendered searches/_search_window.html.erb (Duration: 0.4ms | Allocations: 1660)
  Rendered layout layouts/application.html.erb (Duration: 32.2ms | Allocations: 25834)
Completed 200 OK in 41ms (Views: 31.1ms | ActiveRecord: 1.9ms | Allocations: 34490)


Started GET "/books/2" for 127.0.0.1 at 2024-05-07 08:40:53 +0900
Processing by BooksController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBook Load (0.9ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:48:in `show'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:49:in `show'
  Rendering layout layouts/application.html.erb
  Rendering books/show.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 3.4ms | Allocations: 2506)
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/show.html.erb:40
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1886)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/book_comments/_count.html.erb:1
  Rendered book_comments/_count.html.erb (Duration: 1.4ms | Allocations: 933)
  [1m[36mBookComment Load (0.1ms)[0m  [1m[34mSELECT "book_comments".* FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/book_comments/_comment.html.erb:1
  Rendered book_comments/_comment.html.erb (Duration: 2.3ms | Allocations: 1009)
  Rendered books/show.html.erb within layouts/application (Duration: 15.5ms | Allocations: 10202)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.2ms | Allocations: 155)
  Rendered searches/_search_window.html.erb (Duration: 0.5ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 22.8ms | Allocations: 14325)
Completed 200 OK in 46ms (Views: 22.5ms | ActiveRecord: 1.9ms | Allocations: 18328)


Started GET "/books/2" for 127.0.0.1 at 2024-05-07 08:42:07 +0900
Processing by BooksController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:48:in `show'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:49:in `show'
  Rendering layout layouts/application.html.erb
  Rendering books/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 2.0ms | Allocations: 2299)
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/show.html.erb:40
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1886)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/book_comments/_count.html.erb:1
  Rendered book_comments/_count.html.erb (Duration: 0.7ms | Allocations: 848)
  [1m[36mBookComment Load (0.2ms)[0m  [1m[34mSELECT "book_comments".* FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/book_comments/_comment.html.erb:1
  Rendered book_comments/_comment.html.erb (Duration: 1.7ms | Allocations: 770)
  Rendered books/show.html.erb within layouts/application (Duration: 10.5ms | Allocations: 8580)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 155)
  Rendered searches/_search_window.html.erb (Duration: 0.8ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 20.8ms | Allocations: 12703)
Completed 200 OK in 25ms (Views: 20.4ms | ActiveRecord: 0.8ms | Allocations: 15954)


Started GET "/books/2" for 127.0.0.1 at 2024-05-07 08:42:10 +0900
Processing by BooksController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:48:in `show'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:49:in `show'
  Rendering layout layouts/application.html.erb
  Rendering books/show.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 6.5ms | Allocations: 2777)
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/show.html.erb:40
  [1m[36mFavorite Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 4.8ms | Allocations: 2103)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/book_comments/_count.html.erb:1
  Rendered book_comments/_count.html.erb (Duration: 1.9ms | Allocations: 933)
  [1m[36mBookComment Load (0.1ms)[0m  [1m[34mSELECT "book_comments".* FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/book_comments/_comment.html.erb:1
  Rendered book_comments/_comment.html.erb (Duration: 1.3ms | Allocations: 1010)
  Rendered books/show.html.erb within layouts/application (Duration: 22.1ms | Allocations: 11098)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.9ms | Allocations: 624)
  Rendered searches/_search_window.html.erb (Duration: 1.2ms | Allocations: 1868)
  Rendered layout layouts/application.html.erb (Duration: 29.7ms | Allocations: 16533)
Completed 200 OK in 46ms (Views: 32.4ms | ActiveRecord: 1.5ms | Allocations: 20753)


Started GET "/books/2" for 127.0.0.1 at 2024-05-07 08:42:11 +0900
Processing by BooksController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBook Load (1.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:48:in `show'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:49:in `show'
  Rendering layout layouts/application.html.erb
  Rendering books/show.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 4.3ms | Allocations: 2299)
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/show.html.erb:40
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 3.7ms | Allocations: 1886)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/book_comments/_count.html.erb:1
  Rendered book_comments/_count.html.erb (Duration: 1.4ms | Allocations: 848)
  [1m[36mBookComment Load (0.1ms)[0m  [1m[34mSELECT "book_comments".* FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/book_comments/_comment.html.erb:1
  Rendered book_comments/_comment.html.erb (Duration: 1.5ms | Allocations: 770)
  Rendered books/show.html.erb within layouts/application (Duration: 15.8ms | Allocations: 8564)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.2ms | Allocations: 155)
  Rendered searches/_search_window.html.erb (Duration: 0.6ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 20.2ms | Allocations: 12687)
Completed 200 OK in 36ms (Views: 19.8ms | ActiveRecord: 2.5ms | Allocations: 16034)


Started GET "/books" for 127.0.0.1 at 2024-05-07 08:42:15 +0900
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/books_controller.rb:37:in `sort'
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3]]
  ↳ app/controllers/books_controller.rb:37:in `sort'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 3], ["id", 2]]
  ↳ app/controllers/books_controller.rb:37:in `sort'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 2], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:38:in `block in index'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:39:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 3], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:38:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:39:in `block in index'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 4.4ms | Allocations: 2504)
  Rendered users/_follow_btn.html.erb (Duration: 0.5ms | Allocations: 209)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 3], ["follower_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.5ms | Allocations: 1236)
  Rendered books/_newbook.html.erb (Duration: 3.1ms | Allocations: 2196)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 3.1ms | Allocations: 1981)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.5ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.5ms | Allocations: 1911)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:49
  Rendered books/_index.html.erb (Duration: 22.0ms | Allocations: 16641)
  Rendered books/index.html.erb within layouts/application (Duration: 34.2ms | Allocations: 24006)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.2ms | Allocations: 155)
  Rendered searches/_search_window.html.erb (Duration: 0.5ms | Allocations: 1645)
  Rendered layout layouts/application.html.erb (Duration: 38.4ms | Allocations: 28132)
Completed 200 OK in 63ms (Views: 37.3ms | ActiveRecord: 2.8ms | Allocations: 37091)


Started GET "/category_search?category_word=%E3%83%86%E3%82%B9%E3%83%88" for 127.0.0.1 at 2024-05-07 08:42:17 +0900
Processing by CategoriesController#search as HTML
  Parameters: {"category_word"=>"テスト"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "テスト"], ["LIMIT", 1]]
  ↳ app/controllers/categories_controller.rb:41:in `search'
  Rendering layout layouts/application.html.erb
  Rendering categories/search.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 4.0ms | Allocations: 2577)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 43)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 3], ["follower_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.5ms | Allocations: 980)
  Rendered books/_newbook.html.erb (Duration: 2.8ms | Allocations: 4689)
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."category_id" = ?[0m  [["category_id", 1]]
  ↳ app/views/books/_index.html.erb:20
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mFavorite Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 3.5ms | Allocations: 1995)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.4ms | Allocations: 1911)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.0ms | Allocations: 1912)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:49
  Rendered books/_index.html.erb (Duration: 17.7ms | Allocations: 14770)
  Rendered categories/search.html.erb within layouts/application (Duration: 27.1ms | Allocations: 23626)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.1ms | Allocations: 169)
  Rendered searches/_search_window.html.erb (Duration: 0.5ms | Allocations: 1667)
  Rendered layout layouts/application.html.erb (Duration: 31.0ms | Allocations: 27784)
Completed 200 OK in 37ms (Views: 31.3ms | ActiveRecord: 1.5ms | Allocations: 31700)


Started GET "/category_search?category_word=%E3%83%86%E3%82%B9%E3%83%88" for 127.0.0.1 at 2024-05-07 08:42:18 +0900
Processing by CategoriesController#search as HTML
  Parameters: {"category_word"=>"テスト"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "テスト"], ["LIMIT", 1]]
  ↳ app/controllers/categories_controller.rb:41:in `search'
  Rendering layout layouts/application.html.erb
  Rendering categories/search.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 8.1ms | Allocations: 2298)
  Rendered users/_follow_btn.html.erb (Duration: 0.1ms | Allocations: 40)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 3], ["follower_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 2.7ms | Allocations: 964)
  Rendered books/_newbook.html.erb (Duration: 4.0ms | Allocations: 3671)
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."category_id" = ?[0m  [["category_id", 1]]
  ↳ app/views/books/_index.html.erb:20
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 3.3ms | Allocations: 1982)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 3.2ms | Allocations: 1911)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 3.1ms | Allocations: 1911)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:49
  Rendered books/_index.html.erb (Duration: 22.3ms | Allocations: 14495)
  Rendered categories/search.html.erb within layouts/application (Duration: 38.1ms | Allocations: 21822)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.2ms | Allocations: 155)
  Rendered searches/_search_window.html.erb (Duration: 0.7ms | Allocations: 1644)
  Rendered layout layouts/application.html.erb (Duration: 43.7ms | Allocations: 25846)
Completed 200 OK in 56ms (Views: 42.8ms | ActiveRecord: 2.3ms | Allocations: 28206)


Started GET "/category_search?category_word=%E3%83%86%E3%82%B9%E3%83%88" for 127.0.0.1 at 2024-05-07 08:42:19 +0900
Processing by CategoriesController#search as HTML
  Parameters: {"category_word"=>"テスト"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "テスト"], ["LIMIT", 1]]
  ↳ app/controllers/categories_controller.rb:41:in `search'
  Rendering layout layouts/application.html.erb
  Rendering categories/search.html.erb within layouts/application
  [1m[35m (1.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 10.6ms | Allocations: 2298)
  Rendered users/_follow_btn.html.erb (Duration: 0.1ms | Allocations: 40)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 3], ["follower_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.4ms | Allocations: 964)
  Rendered books/_newbook.html.erb (Duration: 2.3ms | Allocations: 3661)
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."category_id" = ?[0m  [["category_id", 1]]
  ↳ app/views/books/_index.html.erb:20
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mFavorite Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 3.1ms | Allocations: 1982)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.8ms | Allocations: 1911)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.9ms | Allocations: 1911)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:49
  Rendered books/_index.html.erb (Duration: 23.0ms | Allocations: 14511)
  Rendered categories/search.html.erb within layouts/application (Duration: 38.2ms | Allocations: 21828)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.2ms | Allocations: 155)
  Rendered searches/_search_window.html.erb (Duration: 0.6ms | Allocations: 1645)
  Rendered layout layouts/application.html.erb (Duration: 42.5ms | Allocations: 25853)
Completed 200 OK in 52ms (Views: 40.3ms | ActiveRecord: 3.8ms | Allocations: 28120)


Started GET "/category_search?category_word=%E3%83%86%E3%82%B9%E3%83%88" for 127.0.0.1 at 2024-05-07 08:42:20 +0900
Processing by CategoriesController#search as HTML
  Parameters: {"category_word"=>"テスト"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "テスト"], ["LIMIT", 1]]
  ↳ app/controllers/categories_controller.rb:41:in `search'
  Rendering layout layouts/application.html.erb
  Rendering categories/search.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 7.9ms | Allocations: 2298)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 40)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 3], ["follower_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.3ms | Allocations: 964)
  Rendered books/_newbook.html.erb (Duration: 1.8ms | Allocations: 3663)
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."category_id" = ?[0m  [["category_id", 1]]
  ↳ app/views/books/_index.html.erb:20
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 3.9ms | Allocations: 1982)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.1ms | Allocations: 1911)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mFavorite Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 3.2ms | Allocations: 1911)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:49
  Rendered books/_index.html.erb (Duration: 18.6ms | Allocations: 14495)
  Rendered categories/search.html.erb within layouts/application (Duration: 30.2ms | Allocations: 21814)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.2ms | Allocations: 155)
  Rendered searches/_search_window.html.erb (Duration: 0.6ms | Allocations: 1645)
  Rendered layout layouts/application.html.erb (Duration: 34.6ms | Allocations: 25839)
Completed 200 OK in 47ms (Views: 33.2ms | ActiveRecord: 2.3ms | Allocations: 28107)


Started GET "/category_search?category_word=%E3%83%86%E3%82%B9%E3%83%88" for 127.0.0.1 at 2024-05-07 08:42:21 +0900
Processing by CategoriesController#search as HTML
  Parameters: {"category_word"=>"テスト"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "テスト"], ["LIMIT", 1]]
  ↳ app/controllers/categories_controller.rb:41:in `search'
  Rendering layout layouts/application.html.erb
  Rendering categories/search.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 8.1ms | Allocations: 2298)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 40)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 3], ["follower_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.4ms | Allocations: 964)
  Rendered books/_newbook.html.erb (Duration: 2.0ms | Allocations: 3667)
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."category_id" = ?[0m  [["category_id", 1]]
  ↳ app/views/books/_index.html.erb:20
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mFavorite Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 3.6ms | Allocations: 1982)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.3ms | Allocations: 1911)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 3.2ms | Allocations: 1911)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:49
  Rendered books/_index.html.erb (Duration: 20.1ms | Allocations: 14495)
  Rendered categories/search.html.erb within layouts/application (Duration: 32.1ms | Allocations: 21818)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.2ms | Allocations: 155)
  Rendered searches/_search_window.html.erb (Duration: 0.5ms | Allocations: 1644)
  Rendered layout layouts/application.html.erb (Duration: 36.2ms | Allocations: 25842)
Completed 200 OK in 46ms (Views: 34.9ms | ActiveRecord: 2.2ms | Allocations: 28109)


Started GET "/category_search?category_word=%E3%83%86%E3%82%B9%E3%83%88" for 127.0.0.1 at 2024-05-07 08:42:22 +0900
Processing by CategoriesController#search as HTML
  Parameters: {"category_word"=>"テスト"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "テスト"], ["LIMIT", 1]]
  ↳ app/controllers/categories_controller.rb:41:in `search'
  Rendering layout layouts/application.html.erb
  Rendering categories/search.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 8.5ms | Allocations: 2298)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 40)
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 3], ["follower_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.3ms | Allocations: 964)
  Rendered books/_newbook.html.erb (Duration: 2.6ms | Allocations: 3671)
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."category_id" = ?[0m  [["category_id", 1]]
  ↳ app/views/books/_index.html.erb:20
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.2ms | Allocations: 1982)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.5ms | Allocations: 1911)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.3ms | Allocations: 1911)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:49
  Rendered books/_index.html.erb (Duration: 15.3ms | Allocations: 14495)
  Rendered categories/search.html.erb within layouts/application (Duration: 28.3ms | Allocations: 21822)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.2ms | Allocations: 155)
  Rendered searches/_search_window.html.erb (Duration: 0.5ms | Allocations: 1644)
  Rendered layout layouts/application.html.erb (Duration: 32.7ms | Allocations: 25846)
Completed 200 OK in 43ms (Views: 33.9ms | ActiveRecord: 1.6ms | Allocations: 28112)


Started GET "/category_search?category_word=%E3%83%86%E3%82%B9%E3%83%88" for 127.0.0.1 at 2024-05-07 08:42:23 +0900
Processing by CategoriesController#search as HTML
  Parameters: {"category_word"=>"テスト"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "テスト"], ["LIMIT", 1]]
  ↳ app/controllers/categories_controller.rb:41:in `search'
  Rendering layout layouts/application.html.erb
  Rendering categories/search.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 3.0ms | Allocations: 2298)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 40)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 3], ["follower_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.5ms | Allocations: 964)
  Rendered books/_newbook.html.erb (Duration: 2.0ms | Allocations: 3671)
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."category_id" = ?[0m  [["category_id", 1]]
  ↳ app/views/books/_index.html.erb:20
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.2ms | Allocations: 1982)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.5ms | Allocations: 1911)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.8ms | Allocations: 1911)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:49
  Rendered books/_index.html.erb (Duration: 16.6ms | Allocations: 14503)
  Rendered categories/search.html.erb within layouts/application (Duration: 23.8ms | Allocations: 21830)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.2ms | Allocations: 155)
  Rendered searches/_search_window.html.erb (Duration: 0.6ms | Allocations: 1645)
  Rendered layout layouts/application.html.erb (Duration: 28.5ms | Allocations: 25855)
Completed 200 OK in 42ms (Views: 27.6ms | ActiveRecord: 1.8ms | Allocations: 28123)


Started GET "/books/3" for 127.0.0.1 at 2024-05-07 08:42:25 +0900
Processing by BooksController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:48:in `show'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:49:in `show'
  Rendering layout layouts/application.html.erb
  Rendering books/show.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 7.2ms | Allocations: 2401)
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/show.html.erb:40
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 4.1ms | Allocations: 1886)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/book_comments/_count.html.erb:1
  Rendered book_comments/_count.html.erb (Duration: 1.7ms | Allocations: 848)
  [1m[36mBookComment Load (0.1ms)[0m  [1m[34mSELECT "book_comments".* FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/book_comments/_comment.html.erb:1
  Rendered book_comments/_comment.html.erb (Duration: 1.4ms | Allocations: 770)
  Rendered books/show.html.erb within layouts/application (Duration: 19.6ms | Allocations: 8762)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.2ms | Allocations: 155)
  Rendered searches/_search_window.html.erb (Duration: 0.5ms | Allocations: 1644)
  Rendered layout layouts/application.html.erb (Duration: 24.9ms | Allocations: 12886)
Completed 200 OK in 39ms (Views: 24.6ms | ActiveRecord: 1.6ms | Allocations: 16705)


Started GET "/books/3" for 127.0.0.1 at 2024-05-07 08:42:41 +0900
Processing by BooksController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:48:in `show'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:49:in `show'
  Rendering layout layouts/application.html.erb
  Rendering books/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 2.9ms | Allocations: 2298)
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/show.html.erb:40
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.7ms | Allocations: 1886)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/book_comments/_count.html.erb:1
  Rendered book_comments/_count.html.erb (Duration: 0.9ms | Allocations: 848)
  [1m[36mBookComment Load (0.0ms)[0m  [1m[34mSELECT "book_comments".* FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/book_comments/_comment.html.erb:1
  Rendered book_comments/_comment.html.erb (Duration: 0.7ms | Allocations: 770)
  Rendered books/show.html.erb within layouts/application (Duration: 10.2ms | Allocations: 8646)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.2ms | Allocations: 155)
  Rendered searches/_search_window.html.erb (Duration: 0.5ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 13.9ms | Allocations: 12769)
Completed 200 OK in 19ms (Views: 13.6ms | ActiveRecord: 0.7ms | Allocations: 16018)


Started GET "/books/3" for 127.0.0.1 at 2024-05-07 08:42:42 +0900
Processing by BooksController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:48:in `show'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:49:in `show'
  Rendering layout layouts/application.html.erb
  Rendering books/show.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 3.6ms | Allocations: 2298)
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/show.html.erb:40
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 4.0ms | Allocations: 1886)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/book_comments/_count.html.erb:1
  Rendered book_comments/_count.html.erb (Duration: 1.7ms | Allocations: 848)
  [1m[36mBookComment Load (0.1ms)[0m  [1m[34mSELECT "book_comments".* FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/book_comments/_comment.html.erb:1
  Rendered book_comments/_comment.html.erb (Duration: 1.7ms | Allocations: 770)
  Rendered books/show.html.erb within layouts/application (Duration: 15.9ms | Allocations: 8638)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.2ms | Allocations: 155)
  Rendered searches/_search_window.html.erb (Duration: 0.5ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 22.1ms | Allocations: 12761)
Completed 200 OK in 36ms (Views: 21.9ms | ActiveRecord: 1.3ms | Allocations: 16010)


Started GET "/books/3" for 127.0.0.1 at 2024-05-07 08:43:01 +0900
Processing by BooksController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:48:in `show'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:49:in `show'
  Rendering layout layouts/application.html.erb
  Rendering books/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 2.5ms | Allocations: 2298)
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/show.html.erb:40
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.2ms | Allocations: 1886)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/book_comments/_count.html.erb:1
  Rendered book_comments/_count.html.erb (Duration: 0.7ms | Allocations: 848)
  [1m[36mBookComment Load (0.0ms)[0m  [1m[34mSELECT "book_comments".* FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/book_comments/_comment.html.erb:1
  Rendered book_comments/_comment.html.erb (Duration: 0.8ms | Allocations: 770)
  Rendered books/show.html.erb within layouts/application (Duration: 8.9ms | Allocations: 8649)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 155)
  Rendered searches/_search_window.html.erb (Duration: 0.3ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 12.8ms | Allocations: 12772)
Completed 200 OK in 16ms (Views: 12.7ms | ActiveRecord: 0.8ms | Allocations: 16022)


Started GET "/books/3" for 127.0.0.1 at 2024-05-07 08:43:03 +0900
Processing by BooksController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:48:in `show'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:49:in `show'
  Rendering layout layouts/application.html.erb
  Rendering books/show.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 5.6ms | Allocations: 2776)
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/show.html.erb:40
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 3.8ms | Allocations: 2103)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/book_comments/_count.html.erb:1
  Rendered book_comments/_count.html.erb (Duration: 2.1ms | Allocations: 933)
  [1m[36mBookComment Load (0.1ms)[0m  [1m[34mSELECT "book_comments".* FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/book_comments/_comment.html.erb:1
  Rendered book_comments/_comment.html.erb (Duration: 1.7ms | Allocations: 1010)
  Rendered books/show.html.erb within layouts/application (Duration: 20.8ms | Allocations: 11190)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.8ms | Allocations: 624)
  Rendered searches/_search_window.html.erb (Duration: 0.7ms | Allocations: 1869)
  Rendered layout layouts/application.html.erb (Duration: 27.8ms | Allocations: 16626)
Completed 200 OK in 44ms (Views: 29.0ms | ActiveRecord: 1.3ms | Allocations: 20864)


Started GET "/books/3" for 127.0.0.1 at 2024-05-07 08:43:04 +0900
Processing by BooksController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:48:in `show'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:49:in `show'
  Rendering layout layouts/application.html.erb
  Rendering books/show.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 10.3ms | Allocations: 2298)
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/show.html.erb:40
  [1m[36mFavorite Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 4.2ms | Allocations: 1886)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/book_comments/_count.html.erb:1
  Rendered book_comments/_count.html.erb (Duration: 1.1ms | Allocations: 848)
  [1m[36mBookComment Load (0.1ms)[0m  [1m[34mSELECT "book_comments".* FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/book_comments/_comment.html.erb:1
  Rendered book_comments/_comment.html.erb (Duration: 1.4ms | Allocations: 770)
  Rendered books/show.html.erb within layouts/application (Duration: 23.5ms | Allocations: 8638)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.2ms | Allocations: 155)
  Rendered searches/_search_window.html.erb (Duration: 0.7ms | Allocations: 1644)
  Rendered layout layouts/application.html.erb (Duration: 29.4ms | Allocations: 12762)
Completed 200 OK in 39ms (Views: 28.6ms | ActiveRecord: 2.1ms | Allocations: 16108)


Started GET "/books/3" for 127.0.0.1 at 2024-05-07 08:43:04 +0900
Processing by BooksController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:48:in `show'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:49:in `show'
  Rendering layout layouts/application.html.erb
  Rendering books/show.html.erb within layouts/application
  [1m[35m (1.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 8.9ms | Allocations: 2298)
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/show.html.erb:40
  [1m[36mFavorite Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 4.4ms | Allocations: 1886)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/book_comments/_count.html.erb:1
  Rendered book_comments/_count.html.erb (Duration: 1.5ms | Allocations: 848)
  [1m[36mBookComment Load (0.1ms)[0m  [1m[34mSELECT "book_comments".* FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/book_comments/_comment.html.erb:1
  Rendered book_comments/_comment.html.erb (Duration: 1.4ms | Allocations: 770)
  Rendered books/show.html.erb within layouts/application (Duration: 20.9ms | Allocations: 8642)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.2ms | Allocations: 155)
  Rendered searches/_search_window.html.erb (Duration: 0.6ms | Allocations: 1644)
  Rendered layout layouts/application.html.erb (Duration: 26.7ms | Allocations: 12766)
Completed 200 OK in 37ms (Views: 24.8ms | ActiveRecord: 2.9ms | Allocations: 16016)


Started GET "/books/3" for 127.0.0.1 at 2024-05-07 08:43:05 +0900
Processing by BooksController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:48:in `show'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:49:in `show'
  Rendering layout layouts/application.html.erb
  Rendering books/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 3.1ms | Allocations: 2298)
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/show.html.erb:40
  [1m[36mFavorite Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 5.5ms | Allocations: 1886)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/book_comments/_count.html.erb:1
  Rendered book_comments/_count.html.erb (Duration: 1.6ms | Allocations: 848)
  [1m[36mBookComment Load (0.1ms)[0m  [1m[34mSELECT "book_comments".* FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/book_comments/_comment.html.erb:1
  Rendered book_comments/_comment.html.erb (Duration: 1.5ms | Allocations: 770)
  Rendered books/show.html.erb within layouts/application (Duration: 17.2ms | Allocations: 8645)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.2ms | Allocations: 155)
  Rendered searches/_search_window.html.erb (Duration: 0.8ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 23.2ms | Allocations: 12768)
Completed 200 OK in 30ms (Views: 22.5ms | ActiveRecord: 1.3ms | Allocations: 16017)


Started GET "/books/3" for 127.0.0.1 at 2024-05-07 08:43:06 +0900
Processing by BooksController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:48:in `show'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:49:in `show'
  Rendering layout layouts/application.html.erb
  Rendering books/show.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 3.7ms | Allocations: 2298)
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/show.html.erb:40
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 3.1ms | Allocations: 1886)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/book_comments/_count.html.erb:1
  Rendered book_comments/_count.html.erb (Duration: 1.6ms | Allocations: 848)
  [1m[36mBookComment Load (0.0ms)[0m  [1m[34mSELECT "book_comments".* FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/book_comments/_comment.html.erb:1
  Rendered book_comments/_comment.html.erb (Duration: 1.1ms | Allocations: 770)
  Rendered books/show.html.erb within layouts/application (Duration: 13.1ms | Allocations: 8638)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.2ms | Allocations: 155)
  Rendered searches/_search_window.html.erb (Duration: 0.5ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 17.5ms | Allocations: 12761)
Completed 200 OK in 33ms (Views: 17.1ms | ActiveRecord: 1.2ms | Allocations: 16011)


Started GET "/books/3" for 127.0.0.1 at 2024-05-07 08:43:06 +0900
Processing by BooksController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:48:in `show'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:49:in `show'
  Rendering layout layouts/application.html.erb
  Rendering books/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 5.6ms | Allocations: 2298)
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/show.html.erb:40
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 8.9ms | Allocations: 1886)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/book_comments/_count.html.erb:1
  Rendered book_comments/_count.html.erb (Duration: 1.2ms | Allocations: 848)
  [1m[36mBookComment Load (0.1ms)[0m  [1m[34mSELECT "book_comments".* FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/book_comments/_comment.html.erb:1
  Rendered book_comments/_comment.html.erb (Duration: 1.2ms | Allocations: 770)
  Rendered books/show.html.erb within layouts/application (Duration: 22.6ms | Allocations: 8649)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.2ms | Allocations: 155)
  Rendered searches/_search_window.html.erb (Duration: 0.7ms | Allocations: 1644)
  Rendered layout layouts/application.html.erb (Duration: 27.2ms | Allocations: 12773)
Completed 200 OK in 43ms (Views: 26.7ms | ActiveRecord: 1.3ms | Allocations: 16022)


Started GET "/books/3" for 127.0.0.1 at 2024-05-07 08:43:07 +0900
Processing by BooksController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:48:in `show'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:49:in `show'
  Rendering layout layouts/application.html.erb
  Rendering books/show.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 4.0ms | Allocations: 2298)
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/show.html.erb:40
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 3.7ms | Allocations: 1886)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/book_comments/_count.html.erb:1
  Rendered book_comments/_count.html.erb (Duration: 1.9ms | Allocations: 848)
  [1m[36mBookComment Load (0.1ms)[0m  [1m[34mSELECT "book_comments".* FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/book_comments/_comment.html.erb:1
  Rendered book_comments/_comment.html.erb (Duration: 1.3ms | Allocations: 770)
  Rendered books/show.html.erb within layouts/application (Duration: 16.1ms | Allocations: 8649)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 155)
  Rendered searches/_search_window.html.erb (Duration: 0.6ms | Allocations: 1644)
  Rendered layout layouts/application.html.erb (Duration: 21.8ms | Allocations: 12773)
Completed 200 OK in 39ms (Views: 21.3ms | ActiveRecord: 1.9ms | Allocations: 16024)


Started GET "/books/3" for 127.0.0.1 at 2024-05-07 08:43:07 +0900
Processing by BooksController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:48:in `show'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:49:in `show'
  Rendering layout layouts/application.html.erb
  Rendering books/show.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 7.9ms | Allocations: 2298)
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/show.html.erb:40
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 3.1ms | Allocations: 1886)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/book_comments/_count.html.erb:1
  Rendered book_comments/_count.html.erb (Duration: 1.2ms | Allocations: 848)
  [1m[36mBookComment Load (0.1ms)[0m  [1m[34mSELECT "book_comments".* FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/book_comments/_comment.html.erb:1
  Rendered book_comments/_comment.html.erb (Duration: 1.2ms | Allocations: 770)
  Rendered books/show.html.erb within layouts/application (Duration: 18.1ms | Allocations: 8638)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.2ms | Allocations: 155)
  Rendered searches/_search_window.html.erb (Duration: 0.7ms | Allocations: 1644)
  Rendered layout layouts/application.html.erb (Duration: 24.0ms | Allocations: 12762)
Completed 200 OK in 35ms (Views: 23.6ms | ActiveRecord: 2.0ms | Allocations: 16011)


Started GET "/books/3" for 127.0.0.1 at 2024-05-07 08:43:08 +0900
Processing by BooksController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:48:in `show'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:49:in `show'
  Rendering layout layouts/application.html.erb
  Rendering books/show.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 4.6ms | Allocations: 2298)
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/show.html.erb:40
  [1m[36mFavorite Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.8ms | Allocations: 1886)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/book_comments/_count.html.erb:1
  Rendered book_comments/_count.html.erb (Duration: 1.2ms | Allocations: 848)
  [1m[36mBookComment Load (0.0ms)[0m  [1m[34mSELECT "book_comments".* FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/book_comments/_comment.html.erb:1
  Rendered book_comments/_comment.html.erb (Duration: 1.0ms | Allocations: 770)
  Rendered books/show.html.erb within layouts/application (Duration: 14.6ms | Allocations: 8642)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.2ms | Allocations: 155)
  Rendered searches/_search_window.html.erb (Duration: 0.8ms | Allocations: 1644)
  Rendered layout layouts/application.html.erb (Duration: 19.7ms | Allocations: 12766)
Completed 200 OK in 29ms (Views: 19.3ms | ActiveRecord: 1.4ms | Allocations: 16015)


Started GET "/books/3" for 127.0.0.1 at 2024-05-07 08:43:09 +0900
Processing by BooksController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:48:in `show'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:49:in `show'
  Rendering layout layouts/application.html.erb
  Rendering books/show.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 5.2ms | Allocations: 2298)
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/show.html.erb:40
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 3.4ms | Allocations: 1886)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/book_comments/_count.html.erb:1
  Rendered book_comments/_count.html.erb (Duration: 1.6ms | Allocations: 848)
  [1m[36mBookComment Load (0.1ms)[0m  [1m[34mSELECT "book_comments".* FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/book_comments/_comment.html.erb:1
  Rendered book_comments/_comment.html.erb (Duration: 1.2ms | Allocations: 770)
  Rendered books/show.html.erb within layouts/application (Duration: 16.4ms | Allocations: 8645)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.2ms | Allocations: 155)
  Rendered searches/_search_window.html.erb (Duration: 0.6ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 21.8ms | Allocations: 12768)
Completed 200 OK in 37ms (Views: 21.5ms | ActiveRecord: 1.4ms | Allocations: 16017)


Started GET "/books/3" for 127.0.0.1 at 2024-05-07 08:43:20 +0900
Processing by BooksController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:48:in `show'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:49:in `show'
  Rendering layout layouts/application.html.erb
  Rendering books/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 1.8ms | Allocations: 2298)
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/show.html.erb:40
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.5ms | Allocations: 1886)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/book_comments/_count.html.erb:1
  Rendered book_comments/_count.html.erb (Duration: 0.7ms | Allocations: 848)
  [1m[36mBookComment Load (0.1ms)[0m  [1m[34mSELECT "book_comments".* FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/book_comments/_comment.html.erb:1
  Rendered book_comments/_comment.html.erb (Duration: 1.1ms | Allocations: 770)
  Rendered books/show.html.erb within layouts/application (Duration: 7.7ms | Allocations: 8638)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.1ms | Allocations: 155)
  Rendered searches/_search_window.html.erb (Duration: 0.3ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 10.7ms | Allocations: 12761)
Completed 200 OK in 14ms (Views: 10.5ms | ActiveRecord: 0.6ms | Allocations: 16010)


Started GET "/books/3" for 127.0.0.1 at 2024-05-07 08:43:20 +0900
Processing by BooksController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:48:in `show'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:49:in `show'
  Rendering layout layouts/application.html.erb
  Rendering books/show.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 7.9ms | Allocations: 2776)
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/show.html.erb:40
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 4.7ms | Allocations: 2103)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/book_comments/_count.html.erb:1
  Rendered book_comments/_count.html.erb (Duration: 1.9ms | Allocations: 933)
  [1m[36mBookComment Load (0.1ms)[0m  [1m[34mSELECT "book_comments".* FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/book_comments/_comment.html.erb:1
  Rendered book_comments/_comment.html.erb (Duration: 1.7ms | Allocations: 1010)
  Rendered books/show.html.erb within layouts/application (Duration: 23.3ms | Allocations: 11189)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.7ms | Allocations: 624)
  Rendered searches/_search_window.html.erb (Duration: 0.8ms | Allocations: 1869)
  Rendered layout layouts/application.html.erb (Duration: 30.2ms | Allocations: 16625)
Completed 200 OK in 55ms (Views: 33.6ms | ActiveRecord: 2.2ms | Allocations: 20849)


Started GET "/books/3" for 127.0.0.1 at 2024-05-07 08:43:21 +0900
Processing by BooksController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:48:in `show'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:49:in `show'
  Rendering layout layouts/application.html.erb
  Rendering books/show.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 7.3ms | Allocations: 2298)
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/show.html.erb:40
  [1m[36mFavorite Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 5.0ms | Allocations: 1886)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/book_comments/_count.html.erb:1
  Rendered book_comments/_count.html.erb (Duration: 2.0ms | Allocations: 848)
  [1m[36mBookComment Load (0.1ms)[0m  [1m[34mSELECT "book_comments".* FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/book_comments/_comment.html.erb:1
  Rendered book_comments/_comment.html.erb (Duration: 1.6ms | Allocations: 770)
  Rendered books/show.html.erb within layouts/application (Duration: 22.3ms | Allocations: 8649)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.2ms | Allocations: 155)
  Rendered searches/_search_window.html.erb (Duration: 0.7ms | Allocations: 1644)
  Rendered layout layouts/application.html.erb (Duration: 28.3ms | Allocations: 12773)
Completed 200 OK in 39ms (Views: 27.1ms | ActiveRecord: 2.2ms | Allocations: 16121)


Started GET "/books/3" for 127.0.0.1 at 2024-05-07 08:43:22 +0900
Processing by BooksController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:48:in `show'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:49:in `show'
  Rendering layout layouts/application.html.erb
  Rendering books/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 4.1ms | Allocations: 2298)
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/show.html.erb:40
  [1m[36mFavorite Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 8.7ms | Allocations: 1886)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/book_comments/_count.html.erb:1
  Rendered book_comments/_count.html.erb (Duration: 1.7ms | Allocations: 848)
  [1m[36mBookComment Load (0.1ms)[0m  [1m[34mSELECT "book_comments".* FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/book_comments/_comment.html.erb:1
  Rendered book_comments/_comment.html.erb (Duration: 1.4ms | Allocations: 770)
  Rendered books/show.html.erb within layouts/application (Duration: 20.4ms | Allocations: 8642)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.2ms | Allocations: 155)
  Rendered searches/_search_window.html.erb (Duration: 0.6ms | Allocations: 1644)
  Rendered layout layouts/application.html.erb (Duration: 25.6ms | Allocations: 12766)
Completed 200 OK in 43ms (Views: 25.0ms | ActiveRecord: 1.5ms | Allocations: 16016)


Started GET "/books/3" for 127.0.0.1 at 2024-05-07 08:43:42 +0900
Processing by BooksController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:48:in `show'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:49:in `show'
  Rendering layout layouts/application.html.erb
  Rendering books/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 1.8ms | Allocations: 2298)
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/show.html.erb:40
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.4ms | Allocations: 1886)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/book_comments/_count.html.erb:1
  Rendered book_comments/_count.html.erb (Duration: 0.7ms | Allocations: 848)
  [1m[36mBookComment Load (0.0ms)[0m  [1m[34mSELECT "book_comments".* FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/book_comments/_comment.html.erb:1
  Rendered book_comments/_comment.html.erb (Duration: 0.6ms | Allocations: 770)
  Rendered books/show.html.erb within layouts/application (Duration: 6.7ms | Allocations: 8645)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.1ms | Allocations: 155)
  Rendered searches/_search_window.html.erb (Duration: 0.4ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 10.5ms | Allocations: 12768)
Completed 200 OK in 14ms (Views: 10.4ms | ActiveRecord: 0.5ms | Allocations: 16017)


Started GET "/books/3" for 127.0.0.1 at 2024-05-07 08:43:43 +0900
Processing by BooksController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:48:in `show'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:49:in `show'
  Rendering layout layouts/application.html.erb
  Rendering books/show.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 9.1ms | Allocations: 2776)
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/show.html.erb:40
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.7ms | Allocations: 2103)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/book_comments/_count.html.erb:1
  Rendered book_comments/_count.html.erb (Duration: 1.7ms | Allocations: 933)
  [1m[36mBookComment Load (0.1ms)[0m  [1m[34mSELECT "book_comments".* FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/book_comments/_comment.html.erb:1
  Rendered book_comments/_comment.html.erb (Duration: 2.2ms | Allocations: 1013)
  Rendered books/show.html.erb within layouts/application (Duration: 28.1ms | Allocations: 11182)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.8ms | Allocations: 624)
  Rendered searches/_search_window.html.erb (Duration: 1.1ms | Allocations: 1869)
  Rendered layout layouts/application.html.erb (Duration: 37.9ms | Allocations: 16618)
Completed 200 OK in 53ms (Views: 39.1ms | ActiveRecord: 2.0ms | Allocations: 20835)


Started GET "/books/3" for 127.0.0.1 at 2024-05-07 08:44:05 +0900
Processing by BooksController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:48:in `show'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:49:in `show'
  Rendering layout layouts/application.html.erb
  Rendering books/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 2.3ms | Allocations: 2298)
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/show.html.erb:40
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.1ms | Allocations: 1886)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/book_comments/_count.html.erb:1
  Rendered book_comments/_count.html.erb (Duration: 0.9ms | Allocations: 848)
  [1m[36mBookComment Load (0.0ms)[0m  [1m[34mSELECT "book_comments".* FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/book_comments/_comment.html.erb:1
  Rendered book_comments/_comment.html.erb (Duration: 0.8ms | Allocations: 770)
  Rendered books/show.html.erb within layouts/application (Duration: 8.9ms | Allocations: 8651)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.1ms | Allocations: 155)
  Rendered searches/_search_window.html.erb (Duration: 0.4ms | Allocations: 1644)
  Rendered layout layouts/application.html.erb (Duration: 12.8ms | Allocations: 12775)
Completed 200 OK in 16ms (Views: 12.5ms | ActiveRecord: 0.6ms | Allocations: 16123)


Started GET "/books/3" for 127.0.0.1 at 2024-05-07 08:44:07 +0900
Processing by BooksController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:48:in `show'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:49:in `show'
  Rendering layout layouts/application.html.erb
  Rendering books/show.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 5.0ms | Allocations: 2776)
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/show.html.erb:40
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 3.0ms | Allocations: 2103)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/book_comments/_count.html.erb:1
  Rendered book_comments/_count.html.erb (Duration: 1.7ms | Allocations: 933)
  [1m[36mBookComment Load (0.0ms)[0m  [1m[34mSELECT "book_comments".* FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/book_comments/_comment.html.erb:1
  Rendered book_comments/_comment.html.erb (Duration: 1.0ms | Allocations: 1010)
  Rendered books/show.html.erb within layouts/application (Duration: 17.2ms | Allocations: 11178)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.5ms | Allocations: 624)
  Rendered searches/_search_window.html.erb (Duration: 0.7ms | Allocations: 1869)
  Rendered layout layouts/application.html.erb (Duration: 22.9ms | Allocations: 16614)
Completed 200 OK in 45ms (Views: 25.9ms | ActiveRecord: 1.4ms | Allocations: 20838)


Started POST "/books/3/favorites" for 127.0.0.1 at 2024-05-07 08:44:09 +0900
Processing by FavoritesController#create as JS
  Parameters: {"book_id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:3:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mBook Load (3.7ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mFavorite Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."book_id" = ? AND "favorites"."user_id" = ? LIMIT ?[0m  [["book_id", 3], ["user_id", 3], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mFavorite Create (0.6ms)[0m  [1m[32mINSERT INTO "favorites" ("book_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["book_id", 3], ["user_id", 3], ["created_at", "2024-05-06 23:44:09.786734"], ["updated_at", "2024-05-06 23:44:09.786734"]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3]]
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 3], ["id", 2]]
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:7:in `create'
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 3]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  [1m[36mFavorite Load (0.0ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ?[0m  [["id", 3]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  Rendering favorites/create.js.erb
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 3.2ms | Allocations: 2043)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.9ms | Allocations: 1906)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.4ms | Allocations: 1906)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 1804)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:49
  Rendered books/_index.html.erb (Duration: 21.2ms | Allocations: 17208)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.1ms | Allocations: 1804)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/users/_userbooks.html.erb:36
  Rendered users/_userbooks.html.erb (Duration: 5.3ms | Allocations: 4729)
  Rendered favorites/create.js.erb (Duration: 32.1ms | Allocations: 25852)
Completed 200 OK in 77ms (Views: 33.7ms | ActiveRecord: 7.6ms | Allocations: 40920)


Started DELETE "/books/3/favorites" for 127.0.0.1 at 2024-05-07 08:44:10 +0900
Processing by FavoritesController#destroy as JS
  Parameters: {"book_id"=>"3"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:11:in `destroy'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" = ? AND "favorites"."user_id" = ? LIMIT ?[0m  [["book_id", 3], ["user_id", 3], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:12:in `destroy'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/favorites_controller.rb:13:in `destroy'
  [1m[36mFavorite Destroy (0.6ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = ?[0m  [["id", 7]]
  ↳ app/controllers/favorites_controller.rb:13:in `destroy'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/favorites_controller.rb:13:in `destroy'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/favorites_controller.rb:14:in `sort'
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3]]
  ↳ app/controllers/favorites_controller.rb:14:in `sort'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 3], ["id", 2]]
  ↳ app/controllers/favorites_controller.rb:14:in `sort'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:15:in `destroy'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 3]]
  ↳ app/controllers/favorites_controller.rb:15:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/controllers/favorites_controller.rb:15:in `sort'
  Rendering favorites/destroy.js.erb
  [1m[36mFavorite Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 3.8ms | Allocations: 1878)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 3.1ms | Allocations: 1906)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 3.0ms | Allocations: 1906)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.0ms | Allocations: 1805)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:49
  Rendered books/_index.html.erb (Duration: 22.6ms | Allocations: 16512)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 1805)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/users/_userbooks.html.erb:36
  Rendered users/_userbooks.html.erb (Duration: 4.2ms | Allocations: 4293)
  Rendered favorites/destroy.js.erb (Duration: 32.1ms | Allocations: 24044)
Completed 200 OK in 61ms (Views: 31.4ms | ActiveRecord: 4.3ms | Allocations: 34788)


Started POST "/books/3/favorites" for 127.0.0.1 at 2024-05-07 08:44:11 +0900
Processing by FavoritesController#create as JS
  Parameters: {"book_id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:3:in `create'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."book_id" = ? AND "favorites"."user_id" = ? LIMIT ?[0m  [["book_id", 3], ["user_id", 3], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mFavorite Create (0.3ms)[0m  [1m[32mINSERT INTO "favorites" ("book_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["book_id", 3], ["user_id", 3], ["created_at", "2024-05-06 23:44:11.176456"], ["updated_at", "2024-05-06 23:44:11.176456"]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3]]
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 3], ["id", 2]]
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:7:in `create'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 3]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ?[0m  [["id", 3]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  Rendering favorites/create.js.erb
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.8ms | Allocations: 1800)
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 3.2ms | Allocations: 1906)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.5ms | Allocations: 1906)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.1ms | Allocations: 1804)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:49
  Rendered books/_index.html.erb (Duration: 21.9ms | Allocations: 16506)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.1ms | Allocations: 1804)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/users/_userbooks.html.erb:36
  Rendered users/_userbooks.html.erb (Duration: 4.5ms | Allocations: 4292)
  Rendered favorites/create.js.erb (Duration: 30.1ms | Allocations: 23821)
Completed 200 OK in 54ms (Views: 29.4ms | ActiveRecord: 3.4ms | Allocations: 37295)


Started DELETE "/books/3/favorites" for 127.0.0.1 at 2024-05-07 08:44:11 +0900
Processing by FavoritesController#destroy as JS
  Parameters: {"book_id"=>"3"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBook Load (0.9ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:11:in `destroy'
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" = ? AND "favorites"."user_id" = ? LIMIT ?[0m  [["book_id", 3], ["user_id", 3], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:12:in `destroy'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/favorites_controller.rb:13:in `destroy'
  [1m[36mFavorite Destroy (0.6ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = ?[0m  [["id", 8]]
  ↳ app/controllers/favorites_controller.rb:13:in `destroy'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/favorites_controller.rb:13:in `destroy'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/favorites_controller.rb:14:in `sort'
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3]]
  ↳ app/controllers/favorites_controller.rb:14:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 3], ["id", 2]]
  ↳ app/controllers/favorites_controller.rb:14:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:15:in `destroy'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 3]]
  ↳ app/controllers/favorites_controller.rb:15:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/controllers/favorites_controller.rb:15:in `sort'
  Rendering favorites/destroy.js.erb
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 3.5ms | Allocations: 1877)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 5.7ms | Allocations: 1906)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.3ms | Allocations: 1906)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.0ms | Allocations: 1805)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:49
  Rendered books/_index.html.erb (Duration: 25.0ms | Allocations: 16507)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.1ms | Allocations: 1805)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/users/_userbooks.html.erb:36
  Rendered users/_userbooks.html.erb (Duration: 4.4ms | Allocations: 4293)
  Rendered favorites/destroy.js.erb (Duration: 33.6ms | Allocations: 23900)
Completed 200 OK in 66ms (Views: 32.9ms | ActiveRecord: 5.6ms | Allocations: 34341)


Started GET "/books" for 127.0.0.1 at 2024-05-07 08:44:14 +0900
Processing by BooksController#index as HTML
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/books_controller.rb:37:in `sort'
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3]]
  ↳ app/controllers/books_controller.rb:37:in `sort'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 3], ["id", 2]]
  ↳ app/controllers/books_controller.rb:37:in `sort'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 2], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:38:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:39:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 3], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:38:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:39:in `block in index'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 4.3ms | Allocations: 2523)
  Rendered users/_follow_btn.html.erb (Duration: 0.4ms | Allocations: 209)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 3], ["follower_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 2.0ms | Allocations: 1236)
  Rendered books/_newbook.html.erb (Duration: 2.9ms | Allocations: 2225)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.7ms | Allocations: 1982)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.9ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.2ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:49
  Rendered books/_index.html.erb (Duration: 20.6ms | Allocations: 16090)
  Rendered books/index.html.erb within layouts/application (Duration: 33.0ms | Allocations: 23478)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.2ms | Allocations: 155)
  Rendered searches/_search_window.html.erb (Duration: 0.6ms | Allocations: 1660)
  Rendered layout layouts/application.html.erb (Duration: 37.8ms | Allocations: 27652)
Completed 200 OK in 63ms (Views: 37.0ms | ActiveRecord: 4.3ms | Allocations: 36435)


Started DELETE "/books/2/favorites" for 127.0.0.1 at 2024-05-07 08:44:16 +0900
Processing by FavoritesController#destroy as JS
  Parameters: {"book_id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:11:in `destroy'
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" = ? AND "favorites"."user_id" = ? LIMIT ?[0m  [["book_id", 2], ["user_id", 3], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:12:in `destroy'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/favorites_controller.rb:13:in `destroy'
  [1m[36mFavorite Destroy (3.3ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = ?[0m  [["id", 4]]
  ↳ app/controllers/favorites_controller.rb:13:in `destroy'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/favorites_controller.rb:13:in `destroy'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/favorites_controller.rb:14:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3]]
  ↳ app/controllers/favorites_controller.rb:14:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 3], ["id", 2]]
  ↳ app/controllers/favorites_controller.rb:14:in `sort'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:15:in `destroy'
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/favorites_controller.rb:15:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?)[0m  [["book_id", 1], ["book_id", 2]]
  ↳ app/controllers/favorites_controller.rb:15:in `sort'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 3], ["id", 2]]
  ↳ app/controllers/favorites_controller.rb:15:in `sort'
  Rendering favorites/destroy.js.erb
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 3.3ms | Allocations: 2670)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.5ms | Allocations: 2674)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.1ms | Allocations: 1804)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.3ms | Allocations: 1906)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:49
  Rendered books/_index.html.erb (Duration: 21.6ms | Allocations: 21547)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 4.3ms | Allocations: 1804)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 1804)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/users/_userbooks.html.erb:36
  Rendered users/_userbooks.html.erb (Duration: 11.0ms | Allocations: 8549)
  Rendered favorites/destroy.js.erb (Duration: 36.9ms | Allocations: 34393)
Completed 200 OK in 69ms (Views: 36.1ms | ActiveRecord: 6.5ms | Allocations: 47204)


Started DELETE "/books/1/favorites" for 127.0.0.1 at 2024-05-07 08:44:18 +0900
Processing by FavoritesController#destroy as JS
  Parameters: {"book_id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:11:in `destroy'
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" = ? AND "favorites"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 3], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:12:in `destroy'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/favorites_controller.rb:13:in `destroy'
  [1m[36mFavorite Destroy (1.0ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = ?[0m  [["id", 5]]
  ↳ app/controllers/favorites_controller.rb:13:in `destroy'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/favorites_controller.rb:13:in `destroy'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/favorites_controller.rb:14:in `sort'
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3]]
  ↳ app/controllers/favorites_controller.rb:14:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ?[0m  [["id", 2]]
  ↳ app/controllers/favorites_controller.rb:14:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:15:in `destroy'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/favorites_controller.rb:15:in `sort'
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?)[0m  [["book_id", 1], ["book_id", 2]]
  ↳ app/controllers/favorites_controller.rb:15:in `sort'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ?[0m  [["id", 2]]
  ↳ app/controllers/favorites_controller.rb:15:in `sort'
  Rendering favorites/destroy.js.erb
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.7ms | Allocations: 1877)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.7ms | Allocations: 1905)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.6ms | Allocations: 1805)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.5ms | Allocations: 1906)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:49
  Rendered books/_index.html.erb (Duration: 21.5ms | Allocations: 16497)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1804)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.5ms | Allocations: 1805)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/users/_userbooks.html.erb:36
  Rendered users/_userbooks.html.erb (Duration: 9.0ms | Allocations: 8550)
  Rendered favorites/destroy.js.erb (Duration: 33.9ms | Allocations: 28319)
Completed 200 OK in 69ms (Views: 33.1ms | ActiveRecord: 5.1ms | Allocations: 39766)


Started POST "/books/2/favorites" for 127.0.0.1 at 2024-05-07 08:44:18 +0900
Processing by FavoritesController#create as JS
  Parameters: {"book_id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:3:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."book_id" = ? AND "favorites"."user_id" = ? LIMIT ?[0m  [["book_id", 2], ["user_id", 3], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mFavorite Create (0.3ms)[0m  [1m[32mINSERT INTO "favorites" ("book_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["book_id", 2], ["user_id", 3], ["created_at", "2024-05-06 23:44:18.928684"], ["updated_at", "2024-05-06 23:44:18.928684"]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3]]
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 2], ["id", 3]]
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:7:in `create'
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?)[0m  [["book_id", 1], ["book_id", 2]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 2], ["id", 3]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  Rendering favorites/create.js.erb
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.2ms | Allocations: 1800)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.6ms | Allocations: 2219)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 4.3ms | Allocations: 3300)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.3ms | Allocations: 1906)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:49
  Rendered books/_index.html.erb (Duration: 26.8ms | Allocations: 23784)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.5ms | Allocations: 1804)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.0ms | Allocations: 1805)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/users/_userbooks.html.erb:36
  Rendered users/_userbooks.html.erb (Duration: 10.6ms | Allocations: 8549)
  Rendered favorites/create.js.erb (Duration: 40.5ms | Allocations: 35547)
Completed 200 OK in 64ms (Views: 39.8ms | ActiveRecord: 3.3ms | Allocations: 49060)


Started DELETE "/books/2/favorites" for 127.0.0.1 at 2024-05-07 08:44:19 +0900
Processing by FavoritesController#destroy as JS
  Parameters: {"book_id"=>"2"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:11:in `destroy'
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" = ? AND "favorites"."user_id" = ? LIMIT ?[0m  [["book_id", 2], ["user_id", 3], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:12:in `destroy'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/favorites_controller.rb:13:in `destroy'
  [1m[36mFavorite Destroy (0.7ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = ?[0m  [["id", 9]]
  ↳ app/controllers/favorites_controller.rb:13:in `destroy'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/favorites_controller.rb:13:in `destroy'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/favorites_controller.rb:14:in `sort'
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3]]
  ↳ app/controllers/favorites_controller.rb:14:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ?[0m  [["id", 2]]
  ↳ app/controllers/favorites_controller.rb:14:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:15:in `destroy'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/favorites_controller.rb:15:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?)[0m  [["book_id", 1], ["book_id", 2]]
  ↳ app/controllers/favorites_controller.rb:15:in `sort'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ?[0m  [["id", 2]]
  ↳ app/controllers/favorites_controller.rb:15:in `sort'
  Rendering favorites/destroy.js.erb
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 3.0ms | Allocations: 1876)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.5ms | Allocations: 1804)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.2ms | Allocations: 1906)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.5ms | Allocations: 1906)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:49
  Rendered books/_index.html.erb (Duration: 20.1ms | Allocations: 16502)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1804)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 1805)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/users/_userbooks.html.erb:36
  Rendered users/_userbooks.html.erb (Duration: 8.0ms | Allocations: 8542)
  Rendered favorites/destroy.js.erb (Duration: 31.7ms | Allocations: 28315)
Completed 200 OK in 64ms (Views: 31.2ms | ActiveRecord: 5.0ms | Allocations: 39763)


Started POST "/books/2/favorites" for 127.0.0.1 at 2024-05-07 08:44:20 +0900
Processing by FavoritesController#create as JS
  Parameters: {"book_id"=>"2"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBook Load (0.8ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:3:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mFavorite Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."book_id" = ? AND "favorites"."user_id" = ? LIMIT ?[0m  [["book_id", 2], ["user_id", 3], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mFavorite Create (0.4ms)[0m  [1m[32mINSERT INTO "favorites" ("book_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["book_id", 2], ["user_id", 3], ["created_at", "2024-05-06 23:44:20.819990"], ["updated_at", "2024-05-06 23:44:20.819990"]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3]]
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 2], ["id", 3]]
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:7:in `create'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?)[0m  [["book_id", 1], ["book_id", 2]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 2], ["id", 3]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  Rendering favorites/create.js.erb
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.5ms | Allocations: 1800)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 3.3ms | Allocations: 2495)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.6ms | Allocations: 1906)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 1906)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:49
  Rendered books/_index.html.erb (Duration: 24.0ms | Allocations: 23804)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1804)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1805)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/users/_userbooks.html.erb:36
  Rendered users/_userbooks.html.erb (Duration: 7.0ms | Allocations: 8547)
  Rendered favorites/create.js.erb (Duration: 34.3ms | Allocations: 35546)
Completed 200 OK in 75ms (Views: 33.7ms | ActiveRecord: 5.8ms | Allocations: 49058)


Started GET "/books" for 127.0.0.1 at 2024-05-07 08:45:06 +0900
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/books_controller.rb:37:in `sort'
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3]]
  ↳ app/controllers/books_controller.rb:37:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 2], ["id", 3]]
  ↳ app/controllers/books_controller.rb:37:in `sort'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 2], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:38:in `block in index'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:39:in `block in index'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 3], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:38:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:39:in `block in index'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 1.7ms | Allocations: 2298)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 40)
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 3], ["follower_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 0.7ms | Allocations: 964)
  Rendered books/_newbook.html.erb (Duration: 1.4ms | Allocations: 1827)
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 1981)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1910)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.4ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:49
  Rendered books/_index.html.erb (Duration: 13.9ms | Allocations: 16088)
  Rendered books/index.html.erb within layouts/application (Duration: 17.9ms | Allocations: 21574)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.1ms | Allocations: 155)
  Rendered searches/_search_window.html.erb (Duration: 0.4ms | Allocations: 1645)
  Rendered layout layouts/application.html.erb (Duration: 21.4ms | Allocations: 25700)
Completed 200 OK in 31ms (Views: 20.8ms | ActiveRecord: 1.4ms | Allocations: 34301)


Started POST "/books/1/favorites" for 127.0.0.1 at 2024-05-07 08:45:09 +0900
Processing by FavoritesController#create as JS
  Parameters: {"book_id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:3:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."book_id" = ? AND "favorites"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 3], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mFavorite Create (0.3ms)[0m  [1m[32mINSERT INTO "favorites" ("book_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["book_id", 1], ["user_id", 3], ["created_at", "2024-05-06 23:45:09.507083"], ["updated_at", "2024-05-06 23:45:09.507083"]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3]]
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 3], ["id", 2]]
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:7:in `create'
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?)[0m  [["book_id", 1], ["book_id", 2]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 3], ["id", 2]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  Rendering favorites/create.js.erb
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.2ms | Allocations: 2240)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.8ms | Allocations: 1906)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.3ms | Allocations: 1804)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.0ms | Allocations: 1907)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:49
  Rendered books/_index.html.erb (Duration: 20.9ms | Allocations: 17205)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1804)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1804)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/users/_userbooks.html.erb:36
  Rendered users/_userbooks.html.erb (Duration: 8.2ms | Allocations: 8982)
  Rendered favorites/create.js.erb (Duration: 32.9ms | Allocations: 30502)
Completed 200 OK in 67ms (Views: 34.7ms | ActiveRecord: 3.5ms | Allocations: 45614)


Started POST "/books/3/favorites" for 127.0.0.1 at 2024-05-07 08:45:10 +0900
Processing by FavoritesController#create as JS
  Parameters: {"book_id"=>"3"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:3:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mFavorite Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."book_id" = ? AND "favorites"."user_id" = ? LIMIT ?[0m  [["book_id", 3], ["user_id", 3], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mFavorite Create (0.4ms)[0m  [1m[32mINSERT INTO "favorites" ("book_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["book_id", 3], ["user_id", 3], ["created_at", "2024-05-06 23:45:10.994756"], ["updated_at", "2024-05-06 23:45:10.994756"]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3]]
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 3], ["id", 2]]
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:7:in `create'
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 3]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  [1m[36mFavorite Load (0.0ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ?[0m  [["id", 3]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  Rendering favorites/create.js.erb
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.9ms | Allocations: 2234)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 3.8ms | Allocations: 2395)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.7ms | Allocations: 1906)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.0ms | Allocations: 1804)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:49
  Rendered books/_index.html.erb (Duration: 26.8ms | Allocations: 22351)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1804)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/users/_userbooks.html.erb:36
  Rendered users/_userbooks.html.erb (Duration: 3.9ms | Allocations: 4292)
  Rendered favorites/create.js.erb (Duration: 34.4ms | Allocations: 30136)
Completed 200 OK in 63ms (Views: 33.8ms | ActiveRecord: 3.5ms | Allocations: 44725)


Started DELETE "/books/3/favorites" for 127.0.0.1 at 2024-05-07 08:45:11 +0900
Processing by FavoritesController#destroy as JS
  Parameters: {"book_id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:11:in `destroy'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" = ? AND "favorites"."user_id" = ? LIMIT ?[0m  [["book_id", 3], ["user_id", 3], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:12:in `destroy'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/favorites_controller.rb:13:in `destroy'
  [1m[36mFavorite Destroy (0.6ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = ?[0m  [["id", 12]]
  ↳ app/controllers/favorites_controller.rb:13:in `destroy'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/favorites_controller.rb:13:in `destroy'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/favorites_controller.rb:14:in `sort'
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3]]
  ↳ app/controllers/favorites_controller.rb:14:in `sort'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 3], ["id", 2]]
  ↳ app/controllers/favorites_controller.rb:14:in `sort'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:15:in `destroy'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 3]]
  ↳ app/controllers/favorites_controller.rb:15:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/controllers/favorites_controller.rb:15:in `sort'
  Rendering favorites/destroy.js.erb
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 4.2ms | Allocations: 2379)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 3.6ms | Allocations: 2388)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.9ms | Allocations: 1906)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.1ms | Allocations: 1805)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:49
  Rendered books/_index.html.erb (Duration: 24.3ms | Allocations: 20384)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.1ms | Allocations: 1805)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/users/_userbooks.html.erb:36
  Rendered users/_userbooks.html.erb (Duration: 4.7ms | Allocations: 4294)
  Rendered favorites/destroy.js.erb (Duration: 35.1ms | Allocations: 29075)
Completed 200 OK in 65ms (Views: 34.6ms | ActiveRecord: 4.2ms | Allocations: 41942)


Started POST "/books/3/favorites" for 127.0.0.1 at 2024-05-07 08:45:17 +0900
Processing by FavoritesController#create as JS
  Parameters: {"book_id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:3:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."book_id" = ? AND "favorites"."user_id" = ? LIMIT ?[0m  [["book_id", 3], ["user_id", 3], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mFavorite Create (0.8ms)[0m  [1m[32mINSERT INTO "favorites" ("book_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["book_id", 3], ["user_id", 3], ["created_at", "2024-05-06 23:45:17.099263"], ["updated_at", "2024-05-06 23:45:17.099263"]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3]]
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 3], ["id", 2]]
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:7:in `create'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 3]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ?[0m  [["id", 3]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  Rendering favorites/create.js.erb
  [1m[36mFavorite Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 4.0ms | Allocations: 2249)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 5.5ms | Allocations: 2395)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.4ms | Allocations: 1906)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.0ms | Allocations: 1804)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:49
  Rendered books/_index.html.erb (Duration: 26.4ms | Allocations: 22390)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1804)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/users/_userbooks.html.erb:36
  Rendered users/_userbooks.html.erb (Duration: 3.7ms | Allocations: 4292)
  Rendered favorites/create.js.erb (Duration: 34.9ms | Allocations: 30371)
Completed 200 OK in 73ms (Views: 34.4ms | ActiveRecord: 4.4ms | Allocations: 44539)


Started DELETE "/books/2/favorites" for 127.0.0.1 at 2024-05-07 08:45:54 +0900
Processing by FavoritesController#destroy as JS
  Parameters: {"book_id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:11:in `destroy'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" = ? AND "favorites"."user_id" = ? LIMIT ?[0m  [["book_id", 2], ["user_id", 3], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:12:in `destroy'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/favorites_controller.rb:13:in `destroy'
  [1m[36mFavorite Destroy (0.6ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = ?[0m  [["id", 10]]
  ↳ app/controllers/favorites_controller.rb:13:in `destroy'
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/favorites_controller.rb:13:in `destroy'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/favorites_controller.rb:14:in `sort'
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3]]
  ↳ app/controllers/favorites_controller.rb:14:in `sort'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 3], ["id", 2]]
  ↳ app/controllers/favorites_controller.rb:14:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:15:in `destroy'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/favorites_controller.rb:15:in `sort'
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?)[0m  [["book_id", 1], ["book_id", 2]]
  ↳ app/controllers/favorites_controller.rb:15:in `sort'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 3], ["id", 2]]
  ↳ app/controllers/favorites_controller.rb:15:in `sort'
  Rendering favorites/destroy.js.erb
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 3.6ms | Allocations: 1876)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1906)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.9ms | Allocations: 1804)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.6ms | Allocations: 1906)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:49
  Rendered books/_index.html.erb (Duration: 20.9ms | Allocations: 16502)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.0ms | Allocations: 1804)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 1804)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/users/_userbooks.html.erb:36
  Rendered users/_userbooks.html.erb (Duration: 8.4ms | Allocations: 8541)
  Rendered favorites/destroy.js.erb (Duration: 33.7ms | Allocations: 28314)
Completed 200 OK in 66ms (Views: 33.0ms | ActiveRecord: 5.8ms | Allocations: 39915)


Started DELETE "/books/1/favorites" for 127.0.0.1 at 2024-05-07 08:45:56 +0900
Processing by FavoritesController#destroy as JS
  Parameters: {"book_id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:11:in `destroy'
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" = ? AND "favorites"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 3], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:12:in `destroy'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/favorites_controller.rb:13:in `destroy'
  [1m[36mFavorite Destroy (0.9ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = ?[0m  [["id", 11]]
  ↳ app/controllers/favorites_controller.rb:13:in `destroy'
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/favorites_controller.rb:13:in `destroy'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/favorites_controller.rb:14:in `sort'
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3]]
  ↳ app/controllers/favorites_controller.rb:14:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 2], ["id", 3]]
  ↳ app/controllers/favorites_controller.rb:14:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:15:in `destroy'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/favorites_controller.rb:15:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?)[0m  [["book_id", 1], ["book_id", 2]]
  ↳ app/controllers/favorites_controller.rb:15:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ?[0m  [["id", 2]]
  ↳ app/controllers/favorites_controller.rb:15:in `sort'
  Rendering favorites/destroy.js.erb
  [1m[36mFavorite Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 4.1ms | Allocations: 1877)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.9ms | Allocations: 1905)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 1906)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.1ms | Allocations: 1805)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:49
  Rendered books/_index.html.erb (Duration: 22.4ms | Allocations: 16509)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.1ms | Allocations: 1804)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1805)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/users/_userbooks.html.erb:36
  Rendered users/_userbooks.html.erb (Duration: 8.9ms | Allocations: 8545)
  Rendered favorites/destroy.js.erb (Duration: 36.2ms | Allocations: 28326)
Completed 200 OK in 65ms (Views: 35.4ms | ActiveRecord: 5.4ms | Allocations: 39920)


Started POST "/books/2/favorites" for 127.0.0.1 at 2024-05-07 08:45:56 +0900
Processing by FavoritesController#create as JS
  Parameters: {"book_id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:3:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."book_id" = ? AND "favorites"."user_id" = ? LIMIT ?[0m  [["book_id", 2], ["user_id", 3], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mFavorite Create (1.1ms)[0m  [1m[32mINSERT INTO "favorites" ("book_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["book_id", 2], ["user_id", 3], ["created_at", "2024-05-06 23:45:56.694551"], ["updated_at", "2024-05-06 23:45:56.694551"]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3]]
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 2], ["id", 3]]
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:7:in `create'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  [1m[36mFavorite Load (0.5ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?)[0m  [["book_id", 1], ["book_id", 2]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 2], ["id", 3]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  Rendering favorites/create.js.erb
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 3.0ms | Allocations: 1800)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.9ms | Allocations: 1804)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.8ms | Allocations: 1906)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.7ms | Allocations: 1906)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:49
  Rendered books/_index.html.erb (Duration: 22.1ms | Allocations: 16508)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 1804)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.1ms | Allocations: 1805)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/users/_userbooks.html.erb:36
  Rendered users/_userbooks.html.erb (Duration: 8.7ms | Allocations: 8542)
  Rendered favorites/create.js.erb (Duration: 34.5ms | Allocations: 28245)
Completed 200 OK in 70ms (Views: 34.0ms | ActiveRecord: 5.5ms | Allocations: 41774)


Started DELETE "/books/2/favorites" for 127.0.0.1 at 2024-05-07 08:45:57 +0900
Processing by FavoritesController#destroy as JS
  Parameters: {"book_id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:11:in `destroy'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" = ? AND "favorites"."user_id" = ? LIMIT ?[0m  [["book_id", 2], ["user_id", 3], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:12:in `destroy'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/favorites_controller.rb:13:in `destroy'
  [1m[36mFavorite Destroy (0.6ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = ?[0m  [["id", 14]]
  ↳ app/controllers/favorites_controller.rb:13:in `destroy'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/favorites_controller.rb:13:in `destroy'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/favorites_controller.rb:14:in `sort'
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3]]
  ↳ app/controllers/favorites_controller.rb:14:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 2], ["id", 3]]
  ↳ app/controllers/favorites_controller.rb:14:in `sort'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:15:in `destroy'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/favorites_controller.rb:15:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?)[0m  [["book_id", 1], ["book_id", 2]]
  ↳ app/controllers/favorites_controller.rb:15:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ?[0m  [["id", 2]]
  ↳ app/controllers/favorites_controller.rb:15:in `sort'
  Rendering favorites/destroy.js.erb
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 3.2ms | Allocations: 1876)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 3.7ms | Allocations: 1804)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 3.5ms | Allocations: 1906)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.9ms | Allocations: 1906)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:49
  Rendered books/_index.html.erb (Duration: 28.2ms | Allocations: 16510)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.3ms | Allocations: 1804)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.1ms | Allocations: 1805)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/users/_userbooks.html.erb:36
  Rendered users/_userbooks.html.erb (Duration: 9.4ms | Allocations: 8546)
  Rendered favorites/destroy.js.erb (Duration: 41.5ms | Allocations: 28327)
Completed 200 OK in 65ms (Views: 40.4ms | ActiveRecord: 4.2ms | Allocations: 39921)


Started GET "/books" for 127.0.0.1 at 2024-05-07 08:45:58 +0900
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/books_controller.rb:37:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3]]
  ↳ app/controllers/books_controller.rb:37:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 2], ["id", 3]]
  ↳ app/controllers/books_controller.rb:37:in `sort'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 2], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:38:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:39:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 3], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:38:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:39:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 3], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:38:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 2], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:39:in `block in index'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 4.8ms | Allocations: 2775)
  Rendered users/_follow_btn.html.erb (Duration: 0.8ms | Allocations: 212)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 3], ["follower_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 2.7ms | Allocations: 1251)
  Rendered books/_newbook.html.erb (Duration: 3.4ms | Allocations: 2380)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.8ms | Allocations: 1993)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.9ms | Allocations: 1911)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.7ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:49
  Rendered books/_index.html.erb (Duration: 22.4ms | Allocations: 16228)
  Rendered books/index.html.erb within layouts/application (Duration: 37.1ms | Allocations: 24115)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.8ms | Allocations: 623)
  Rendered searches/_search_window.html.erb (Duration: 0.9ms | Allocations: 1868)
  Rendered layout layouts/application.html.erb (Duration: 46.3ms | Allocations: 29550)
Completed 200 OK in 69ms (Views: 47.3ms | ActiveRecord: 2.2ms | Allocations: 40668)


Started GET "/books" for 127.0.0.1 at 2024-05-07 08:46:18 +0900
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/books_controller.rb:37:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3]]
  ↳ app/controllers/books_controller.rb:37:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 2], ["id", 3]]
  ↳ app/controllers/books_controller.rb:37:in `sort'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 2], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:38:in `block in index'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:39:in `block in index'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 3], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:38:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:39:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 3], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:38:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 2], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:39:in `block in index'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 2.3ms | Allocations: 2298)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 40)
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 3], ["follower_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.0ms | Allocations: 964)
  Rendered books/_newbook.html.erb (Duration: 1.5ms | Allocations: 1819)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1980)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.9ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:49
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:25
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:41
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 5.3ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:49
  Rendered books/_index.html.erb (Duration: 19.3ms | Allocations: 16097)
  Rendered books/index.html.erb within layouts/application (Duration: 24.4ms | Allocations: 21575)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.1ms | Allocations: 155)
  Rendered searches/_search_window.html.erb (Duration: 0.5ms | Allocations: 1645)
  Rendered layout layouts/application.html.erb (Duration: 28.1ms | Allocations: 25701)
Completed 200 OK in 38ms (Views: 27.2ms | ActiveRecord: 1.8ms | Allocations: 36043)


Started POST "/books/2/favorites" for 127.0.0.1 at 2024-05-07 08:46:21 +0900
Processing by FavoritesController#create as JS
  Parameters: {"book_id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBook Load (0.9ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:3:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mFavorite Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."book_id" = ? AND "favorites"."user_id" = ? LIMIT ?[0m  [["book_id", 2], ["user_id", 3], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mFavorite Create (0.5ms)[0m  [1m[32mINSERT INTO "favorites" ("book_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["book_id", 2], ["user_id", 3], ["created_at", "2024-05-06 23:46:21.040928"], ["updated_at", "2024-05-06 23:46:21.040928"]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3]]
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 2], ["id", 3]]
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:7:in `create'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?)[0m  [["book_id", 1], ["book_id", 2]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 2], ["id", 3]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  Rendering favorites/create.js.erb
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 3.6ms | Allocations: 2239)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.4ms | Allocations: 1804)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.6ms | Allocations: 1906)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.1ms | Allocations: 1907)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:52
  Rendered books/_index.html.erb (Duration: 20.1ms | Allocations: 17217)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1804)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1805)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/users/_userbooks.html.erb:36
  Rendered users/_userbooks.html.erb (Duration: 8.1ms | Allocations: 8981)
  Rendered favorites/create.js.erb (Duration: 34.7ms | Allocations: 30523)
Completed 200 OK in 74ms (Views: 36.5ms | ActiveRecord: 4.4ms | Allocations: 45675)


Started DELETE "/books/2/favorites" for 127.0.0.1 at 2024-05-07 08:46:22 +0900
Processing by FavoritesController#destroy as JS
  Parameters: {"book_id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:11:in `destroy'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" = ? AND "favorites"."user_id" = ? LIMIT ?[0m  [["book_id", 2], ["user_id", 3], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:12:in `destroy'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/favorites_controller.rb:13:in `destroy'
  [1m[36mFavorite Destroy (0.7ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = ?[0m  [["id", 15]]
  ↳ app/controllers/favorites_controller.rb:13:in `destroy'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/favorites_controller.rb:13:in `destroy'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/favorites_controller.rb:14:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3]]
  ↳ app/controllers/favorites_controller.rb:14:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 2], ["id", 3]]
  ↳ app/controllers/favorites_controller.rb:14:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:15:in `destroy'
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/favorites_controller.rb:15:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?)[0m  [["book_id", 1], ["book_id", 2]]
  ↳ app/controllers/favorites_controller.rb:15:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ?[0m  [["id", 2]]
  ↳ app/controllers/favorites_controller.rb:15:in `sort'
  Rendering favorites/destroy.js.erb
  [1m[36mFavorite Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 3.9ms | Allocations: 1876)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.8ms | Allocations: 1804)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.9ms | Allocations: 1906)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.6ms | Allocations: 1906)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:52
  Rendered books/_index.html.erb (Duration: 28.0ms | Allocations: 16514)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 1804)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.0ms | Allocations: 1805)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/users/_userbooks.html.erb:36
  Rendered users/_userbooks.html.erb (Duration: 8.4ms | Allocations: 8542)
  Rendered favorites/destroy.js.erb (Duration: 42.1ms | Allocations: 28472)
Completed 200 OK in 68ms (Views: 41.3ms | ActiveRecord: 4.2ms | Allocations: 40365)


Started POST "/books/2/favorites" for 127.0.0.1 at 2024-05-07 08:46:22 +0900
Processing by FavoritesController#create as JS
  Parameters: {"book_id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:3:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mFavorite Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."book_id" = ? AND "favorites"."user_id" = ? LIMIT ?[0m  [["book_id", 2], ["user_id", 3], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mFavorite Create (0.8ms)[0m  [1m[32mINSERT INTO "favorites" ("book_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["book_id", 2], ["user_id", 3], ["created_at", "2024-05-06 23:46:22.979352"], ["updated_at", "2024-05-06 23:46:22.979352"]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3]]
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 2], ["id", 3]]
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:7:in `create'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?)[0m  [["book_id", 1], ["book_id", 2]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 2], ["id", 3]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  Rendering favorites/create.js.erb
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 3.7ms | Allocations: 2626)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 3.3ms | Allocations: 2251)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.4ms | Allocations: 1906)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.1ms | Allocations: 1906)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:52
  Rendered books/_index.html.erb (Duration: 24.7ms | Allocations: 21091)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.1ms | Allocations: 1804)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1805)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/users/_userbooks.html.erb:36
  Rendered users/_userbooks.html.erb (Duration: 8.1ms | Allocations: 8542)
  Rendered favorites/create.js.erb (Duration: 37.4ms | Allocations: 33890)
Completed 200 OK in 71ms (Views: 36.7ms | ActiveRecord: 4.5ms | Allocations: 49143)


Started DELETE "/books/2/favorites" for 127.0.0.1 at 2024-05-07 08:46:23 +0900
Processing by FavoritesController#destroy as JS
  Parameters: {"book_id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:11:in `destroy'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" = ? AND "favorites"."user_id" = ? LIMIT ?[0m  [["book_id", 2], ["user_id", 3], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:12:in `destroy'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/favorites_controller.rb:13:in `destroy'
  [1m[36mFavorite Destroy (0.7ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = ?[0m  [["id", 16]]
  ↳ app/controllers/favorites_controller.rb:13:in `destroy'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/favorites_controller.rb:13:in `destroy'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/favorites_controller.rb:14:in `sort'
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3]]
  ↳ app/controllers/favorites_controller.rb:14:in `sort'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 2], ["id", 3]]
  ↳ app/controllers/favorites_controller.rb:14:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:15:in `destroy'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/favorites_controller.rb:15:in `sort'
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?)[0m  [["book_id", 1], ["book_id", 2]]
  ↳ app/controllers/favorites_controller.rb:15:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ?[0m  [["id", 2]]
  ↳ app/controllers/favorites_controller.rb:15:in `sort'
  Rendering favorites/destroy.js.erb
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 3.8ms | Allocations: 1876)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 3.3ms | Allocations: 1804)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.8ms | Allocations: 1906)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.6ms | Allocations: 1906)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:52
  Rendered books/_index.html.erb (Duration: 25.0ms | Allocations: 16513)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.5ms | Allocations: 1804)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1805)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/users/_userbooks.html.erb:36
  Rendered users/_userbooks.html.erb (Duration: 9.1ms | Allocations: 8542)
  Rendered favorites/destroy.js.erb (Duration: 38.7ms | Allocations: 28338)
Completed 200 OK in 69ms (Views: 37.9ms | ActiveRecord: 5.2ms | Allocations: 39931)


Started GET "/books?sort=created_at+DESC" for 127.0.0.1 at 2024-05-07 08:47:01 +0900
Processing by BooksController#index as HTML
  Parameters: {"sort"=>"created_at DESC"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 4.2ms | Allocations: 2759)
  Rendered users/_follow_btn.html.erb (Duration: 0.3ms | Allocations: 212)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 3], ["follower_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.3ms | Allocations: 1251)
  Rendered books/_newbook.html.erb (Duration: 1.9ms | Allocations: 2373)
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY created_at DESC[0m
  ↳ app/views/books/_index.html.erb:23
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.1ms | Allocations: 1995)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 1911)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.4ms | Allocations: 1911)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:52
  Rendered books/_index.html.erb (Duration: 18.1ms | Allocations: 17008)
  Rendered books/index.html.erb within layouts/application (Duration: 28.1ms | Allocations: 24876)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.7ms | Allocations: 623)
  Rendered searches/_search_window.html.erb (Duration: 0.8ms | Allocations: 1868)
  Rendered layout layouts/application.html.erb (Duration: 34.2ms | Allocations: 30293)
Completed 200 OK in 55ms (Views: 47.1ms | ActiveRecord: 1.7ms | Allocations: 33744)


Started GET "/books?sort=created_at+DESC" for 127.0.0.1 at 2024-05-07 08:47:10 +0900
Processing by BooksController#index as HTML
  Parameters: {"sort"=>"created_at DESC"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 4.0ms | Allocations: 2298)
  Rendered users/_follow_btn.html.erb (Duration: 0.1ms | Allocations: 40)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 3], ["follower_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 2.6ms | Allocations: 964)
  Rendered books/_newbook.html.erb (Duration: 4.2ms | Allocations: 1819)
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY created_at DESC[0m
  ↳ app/views/books/_index.html.erb:23
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 3.3ms | Allocations: 1982)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 3.2ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 6.5ms | Allocations: 1911)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:52
  Rendered books/_index.html.erb (Duration: 32.0ms | Allocations: 16867)
  Rendered books/index.html.erb within layouts/application (Duration: 43.6ms | Allocations: 22345)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.2ms | Allocations: 155)
  Rendered searches/_search_window.html.erb (Duration: 0.4ms | Allocations: 1645)
  Rendered layout layouts/application.html.erb (Duration: 48.6ms | Allocations: 26471)
Completed 200 OK in 58ms (Views: 47.1ms | ActiveRecord: 2.5ms | Allocations: 28247)


  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateTags (20240507002346)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "tags" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20240507002346"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateTagBooks (20240507002424)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "tag_books" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "tag_id" integer NOT NULL, "book_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_5f17198974"
FOREIGN KEY ("tag_id")
  REFERENCES "tags" ("id")
, CONSTRAINT "fk_rails_f02fb55f5e"
FOREIGN KEY ("book_id")
  REFERENCES "books" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_tag_books_on_tag_id" ON "tag_books" ("tag_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_tag_books_on_book_id" ON "tag_books" ("book_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20240507002424"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/books?sort=created_at+DESC" for 127.0.0.1 at 2024-05-07 09:31:29 +0900
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by BooksController#index as HTML
  Parameters: {"sort"=>"created_at DESC"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 7.1ms | Allocations: 5366)
  Rendered users/_follow_btn.html.erb (Duration: 0.4ms | Allocations: 244)
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 3], ["follower_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.3ms | Allocations: 1468)
  Rendered books/_newbook.html.erb (Duration: 2.5ms | Allocations: 2668)
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY created_at DESC[0m
  ↳ app/views/books/_index.html.erb:23
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 3.2ms | Allocations: 4679)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.5ms | Allocations: 1945)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.4ms | Allocations: 1911)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:52
  Rendered books/_index.html.erb (Duration: 17.4ms | Allocations: 25446)
  Rendered books/index.html.erb within layouts/application (Duration: 30.1ms | Allocations: 36533)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.5ms | Allocations: 627)
  Rendered searches/_search_window.html.erb (Duration: 0.6ms | Allocations: 1879)
  Rendered layout layouts/application.html.erb (Duration: 37.0ms | Allocations: 41949)
Completed 200 OK in 49ms (Views: 37.0ms | ActiveRecord: 1.8ms | Allocations: 59790)


Started POST "/books" for 127.0.0.1 at 2024-05-07 09:31:37 +0900
Processing by BooksController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "book"=>{"title"=>"aaa", "body"=>"aaa", "tag_name"=>"tag", "rate"=>"2"}, "commit"=>"Create Book"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[31mUnpermitted parameter: :tag_name[0m
  [1m[36mCategory Load (1.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:9:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:13:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:13:in `create'
  [1m[36mBook Create (0.3ms)[0m  [1m[32mINSERT INTO "books" ("title", "body", "user_id", "created_at", "updated_at", "rate", "category_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["title", "aaa"], ["body", "aaa"], ["user_id", 3], ["created_at", "2024-05-07 00:31:37.999966"], ["updated_at", "2024-05-07 00:31:37.999966"], ["rate", 2.0], ["category_id", 1]]
  ↳ app/controllers/books_controller.rb:13:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/books_controller.rb:13:in `create'
  [1m[36mTag Load (0.3ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ? AND "tags"."name" = ? LIMIT ?[0m  [["book_id", 4], ["name", "tag"], ["LIMIT", 1]]
  ↳ app/models/book.rb:34:in `block in save_tags'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/models/book.rb:34:in `block in save_tags'
  [1m[36mTag Create (0.4ms)[0m  [1m[32mINSERT INTO "tags" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "tag"], ["created_at", "2024-05-07 00:31:38.013212"], ["updated_at", "2024-05-07 00:31:38.013212"]]
  ↳ app/models/book.rb:34:in `block in save_tags'
  [1m[36mTagBook Create (0.1ms)[0m  [1m[32mINSERT INTO "tag_books" ("tag_id", "book_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["tag_id", 1], ["book_id", 4], ["created_at", "2024-05-07 00:31:38.020198"], ["updated_at", "2024-05-07 00:31:38.020198"]]
  ↳ app/models/book.rb:34:in `block in save_tags'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/models/book.rb:34:in `block in save_tags'
Redirected to http://127.0.0.1:3000/books/4
Completed 302 Found in 52ms (ActiveRecord: 5.3ms | Allocations: 20865)


Started GET "/books/4" for 127.0.0.1 at 2024-05-07 09:31:38 +0900
Processing by BooksController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:43:in `show'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:44:in `show'
  Rendering layout layouts/application.html.erb
  Rendering books/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 2.4ms | Allocations: 2549)
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/show.html.erb:40
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1894)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/book_comments/_count.html.erb:1
  Rendered book_comments/_count.html.erb (Duration: 1.3ms | Allocations: 933)
  [1m[36mBookComment Load (0.0ms)[0m  [1m[34mSELECT "book_comments".* FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/book_comments/_comment.html.erb:1
  Rendered book_comments/_comment.html.erb (Duration: 1.2ms | Allocations: 1057)
  Rendered books/show.html.erb within layouts/application (Duration: 11.8ms | Allocations: 10651)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.1ms | Allocations: 155)
  Rendered searches/_search_window.html.erb (Duration: 0.4ms | Allocations: 1660)
  Rendered layout layouts/application.html.erb (Duration: 15.0ms | Allocations: 14758)
Completed 200 OK in 63ms (Views: 17.9ms | ActiveRecord: 0.6ms | Allocations: 21744)


Started GET "/books/4" for 127.0.0.1 at 2024-05-07 09:33:49 +0900
Processing by BooksController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:43:in `show'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:44:in `show'
  Rendering layout layouts/application.html.erb
  Rendering books/show.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 3.7ms | Allocations: 5473)
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/show.html.erb:40
  [1m[36mFavorite Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 4.1ms | Allocations: 4722)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/book_comments/_count.html.erb:1
  Rendered book_comments/_count.html.erb (Duration: 1.0ms | Allocations: 1027)
  [1m[36mBookComment Load (0.0ms)[0m  [1m[34mSELECT "book_comments".* FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/book_comments/_comment.html.erb:1
  Rendered book_comments/_comment.html.erb (Duration: 1.0ms | Allocations: 1066)
  Rendered books/show.html.erb within layouts/application (Duration: 16.3ms | Allocations: 19655)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.7ms | Allocations: 631)
  Rendered searches/_search_window.html.erb (Duration: 0.8ms | Allocations: 1869)
  Rendered layout layouts/application.html.erb (Duration: 32.2ms | Allocations: 32842)
Completed 200 OK in 51ms (Views: 32.0ms | ActiveRecord: 2.6ms | Allocations: 60543)


Started GET "/books" for 127.0.0.1 at 2024-05-07 09:33:50 +0900
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/books_controller.rb:32:in `sort'
  [1m[36mFavorite Load (0.6ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3], ["book_id", 4]]
  ↳ app/controllers/books_controller.rb:32:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 2], ["id", 3]]
  ↳ app/controllers/books_controller.rb:32:in `sort'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 2], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 3], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 3], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 2], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 4], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 2.9ms | Allocations: 2514)
  Rendered users/_follow_btn.html.erb (Duration: 0.5ms | Allocations: 210)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 3], ["follower_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 2.4ms | Allocations: 1446)
  Rendered books/_newbook.html.erb (Duration: 3.6ms | Allocations: 2384)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.2ms | Allocations: 1983)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:52
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "tags"."name" FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.2ms | Allocations: 1949)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:52
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "tags"."name" FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.3ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:52
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "tags"."name" FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.1ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:52
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "tags"."name" FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:79
  Rendered books/_index.html.erb (Duration: 32.4ms | Allocations: 31079)
  Rendered books/index.html.erb within layouts/application (Duration: 44.4ms | Allocations: 38851)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.1ms | Allocations: 155)
  Rendered searches/_search_window.html.erb (Duration: 0.4ms | Allocations: 1671)
  Rendered layout layouts/application.html.erb (Duration: 48.0ms | Allocations: 42969)
Completed 200 OK in 73ms (Views: 46.2ms | ActiveRecord: 3.8ms | Allocations: 58813)


Started POST "/books" for 127.0.0.1 at 2024-05-07 09:34:07 +0900
Processing by BooksController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "book"=>{"title"=>"ddd", "body"=>"ddd", "tag_name"=>"fff, ddd", "rate"=>"5"}, "commit"=>"Create Book"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[31mUnpermitted parameter: :tag_name[0m
  [1m[36mCategory Load (1.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:9:in `create'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:13:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:13:in `create'
  [1m[36mBook Create (0.3ms)[0m  [1m[32mINSERT INTO "books" ("title", "body", "user_id", "created_at", "updated_at", "rate", "category_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["title", "ddd"], ["body", "ddd"], ["user_id", 3], ["created_at", "2024-05-07 00:34:07.649650"], ["updated_at", "2024-05-07 00:34:07.649650"], ["rate", 5.0], ["category_id", 1]]
  ↳ app/controllers/books_controller.rb:13:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/books_controller.rb:13:in `create'
  [1m[36mTag Load (0.2ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ? AND "tags"."name" = ? LIMIT ?[0m  [["book_id", 5], ["name", "fff"], ["LIMIT", 1]]
  ↳ app/models/book.rb:32:in `block in save_tags'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/models/book.rb:32:in `block in save_tags'
  [1m[36mTag Create (0.6ms)[0m  [1m[32mINSERT INTO "tags" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "fff"], ["created_at", "2024-05-07 00:34:07.657312"], ["updated_at", "2024-05-07 00:34:07.657312"]]
  ↳ app/models/book.rb:32:in `block in save_tags'
  [1m[36mTagBook Create (0.5ms)[0m  [1m[32mINSERT INTO "tag_books" ("tag_id", "book_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["tag_id", 2], ["book_id", 5], ["created_at", "2024-05-07 00:34:07.662400"], ["updated_at", "2024-05-07 00:34:07.662400"]]
  ↳ app/models/book.rb:32:in `block in save_tags'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/models/book.rb:32:in `block in save_tags'
  [1m[36mTag Load (0.3ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ? AND "tags"."name" = ? LIMIT ?[0m  [["book_id", 5], ["name", " ddd"], ["LIMIT", 1]]
  ↳ app/models/book.rb:32:in `block in save_tags'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/models/book.rb:32:in `block in save_tags'
  [1m[36mTag Create (0.2ms)[0m  [1m[32mINSERT INTO "tags" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", " ddd"], ["created_at", "2024-05-07 00:34:07.668355"], ["updated_at", "2024-05-07 00:34:07.668355"]]
  ↳ app/models/book.rb:32:in `block in save_tags'
  [1m[36mTagBook Create (0.2ms)[0m  [1m[32mINSERT INTO "tag_books" ("tag_id", "book_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["tag_id", 3], ["book_id", 5], ["created_at", "2024-05-07 00:34:07.670862"], ["updated_at", "2024-05-07 00:34:07.670862"]]
  ↳ app/models/book.rb:32:in `block in save_tags'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/models/book.rb:32:in `block in save_tags'
Redirected to http://127.0.0.1:3000/books/5
Completed 302 Found in 52ms (ActiveRecord: 7.0ms | Allocations: 21089)


Started GET "/books/5" for 127.0.0.1 at 2024-05-07 09:34:07 +0900
Processing by BooksController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:43:in `show'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:44:in `show'
  Rendering layout layouts/application.html.erb
  Rendering books/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 1.8ms | Allocations: 2308)
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/show.html.erb:40
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.4ms | Allocations: 1886)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/book_comments/_count.html.erb:1
  Rendered book_comments/_count.html.erb (Duration: 0.6ms | Allocations: 848)
  [1m[36mBookComment Load (0.1ms)[0m  [1m[34mSELECT "book_comments".* FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/book_comments/_comment.html.erb:1
  Rendered book_comments/_comment.html.erb (Duration: 1.0ms | Allocations: 771)
  Rendered books/show.html.erb within layouts/application (Duration: 7.9ms | Allocations: 8729)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.1ms | Allocations: 155)
  Rendered searches/_search_window.html.erb (Duration: 0.4ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 13.4ms | Allocations: 12856)
Completed 200 OK in 16ms (Views: 13.3ms | ActiveRecord: 0.5ms | Allocations: 16150)


Started GET "/books" for 127.0.0.1 at 2024-05-07 09:34:11 +0900
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/books_controller.rb:32:in `sort'
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3], ["book_id", 4], ["book_id", 5]]
  ↳ app/controllers/books_controller.rb:32:in `sort'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 2], ["id", 3]]
  ↳ app/controllers/books_controller.rb:32:in `sort'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 2], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 3], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 3], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 2], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 4], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 5], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 4], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 4.5ms | Allocations: 2298)
  Rendered users/_follow_btn.html.erb (Duration: 0.2ms | Allocations: 40)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 3], ["follower_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.1ms | Allocations: 965)
  Rendered books/_newbook.html.erb (Duration: 1.7ms | Allocations: 1918)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 3.5ms | Allocations: 1980)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:52
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "tags"."name" FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.7ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:52
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "tags"."name" FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.5ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:52
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "tags"."name" FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.3ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:52
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "tags"."name" FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.0ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:52
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "tags"."name" FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:79
  Rendered books/_index.html.erb (Duration: 38.6ms | Allocations: 31692)
  Rendered books/index.html.erb within layouts/application (Duration: 46.6ms | Allocations: 37270)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.1ms | Allocations: 155)
  Rendered searches/_search_window.html.erb (Duration: 0.3ms | Allocations: 1645)
  Rendered layout layouts/application.html.erb (Duration: 49.9ms | Allocations: 41396)
Completed 200 OK in 86ms (Views: 48.2ms | ActiveRecord: 4.6ms | Allocations: 55354)


Started GET "/" for ::1 at 2024-05-07 13:30:00 +0900
  [1m[35m (1.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
SyntaxError (/Users/maedaryuutarou/RubymineProjects/bookers2_phase2_debug_rails6-main/app/controllers/application_controller.rb:16: syntax error, unexpected end-of-input):
  
app/controllers/application_controller.rb:16: syntax error, unexpected end-of-input
app/controllers/application_controller.rb:16: syntax error, unexpected end-of-input
app/controllers/homes_controller.rb:1:in `<main>'
Started GET "/" for ::1 at 2024-05-07 14:51:42 +0900
  [1m[35m (0.8ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by HomesController#top as HTML
  Rendering layout layouts/application.html.erb
  Rendering homes/top.html.erb within layouts/application
  Rendered homes/top.html.erb within layouts/application (Duration: 1.1ms | Allocations: 1313)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/_header.html.erb:9
  Rendered layouts/_header.html.erb (Duration: 11.6ms | Allocations: 9724)
  Rendered searches/_search_window.html.erb (Duration: 1.9ms | Allocations: 2095)
  Rendered layout layouts/application.html.erb (Duration: 38.8ms | Allocations: 20797)
Completed 200 OK in 50ms (Views: 41.2ms | ActiveRecord: 0.7ms | Allocations: 26074)


Started GET "/books" for ::1 at 2024-05-07 14:51:48 +0900
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/books_controller.rb:32:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3], ["book_id", 4], ["book_id", 5]]
  ↳ app/controllers/books_controller.rb:32:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 2], ["id", 3]]
  ↳ app/controllers/books_controller.rb:32:in `sort'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 2], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 3], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 3], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 2], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 4], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 5], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 4], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 5.5ms | Allocations: 5681)
  Rendered users/_follow_btn.html.erb (Duration: 0.5ms | Allocations: 250)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.9ms | Allocations: 1502)
  Rendered books/_newbook.html.erb (Duration: 354.5ms | Allocations: 34140)
  Rendered books/_index.html.erb (Duration: 1.7ms | Allocations: 1882)
  Rendered books/index.html.erb within layouts/application (Duration: 366.3ms | Allocations: 44895)
  Rendered layout layouts/application.html.erb (Duration: 366.3ms | Allocations: 44979)
Completed 500 Internal Server Error in 403ms (ActiveRecord: 2.8ms | Allocations: 79027)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <h2>Books</h2>

   <%#= link_to "新着順", books_path(sort_word: "new")  %>
   <%= link_to "新着順", books_path(sort: 'created_at DESC') %>
   <span>|</span>
   <%#= link_to "評価の高い順" , books_path(sort_word: "rate") %>
   <%= link_to "評価が高い順", books_path(sort: 'rate DESC') %>

<table class="table table-hover table-inverse">
  <therd>
    <tr>
      <th></th>
      <th>Title</th>
      <th>Opinion</th>
      <th>Category</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </therd>

  <% books.each do |book| %>
  <tbody>
    <tr>

      <td>
      <%= link_to user_path(book.user.id) do %>
      <%#= attachment_image_tag book.user, :profile_image, size: "40x40", format: 'jpeg', fallback: "no_image.jpg"%>
      <% end %>
      </td>

      <td>
        <%= link_to book_path(book.id) do %>
        <%= book.title %>
        <% end %>
      </td>

      <td>
        <%= book.body %>
      </td>

      <td>
        <%= link_to book.category.name, category_search_path(category_word: book.category.name) %>
      </td>

      <td id ="Favorites-buttons<%= book.id%>">
       <%= render partial: "favorites/like", locals: { book: book }%>
     </td>

      <td class ='example'>
        コメント数：<%=book.book_comments.count %>
      </td>
      <td>
<!--        閲覧数: <%#= book.impressionist_count(:filter=>:session_hash) %>-->
      </td>

      <td>

        <div id="star_<%= book.id %>"></div>
        <script>
            $(document).on('turbolinks:load', function() {
                let elem = document.querySelector('#star_<%= book.id %>');
                if (elem == null) return;

                elem.innerHTML = "";
                let opt = {
                    starOn: "<%= asset_path('star-on.png') %>",
                    starOff: "<%= asset_path('star-off.png') %>",
                    starHalf: "<%= asset_path('star-half.png') %>",
                    score: "<%= book.rate %>",
                    readOnly: true,
            };
                raty(elem, opt);
            });
        </script>
      </td>
      <td>
        <% book.tags.each do |tag| %>
          <%=  link_to tag.name
        <% end %>
      </td>
    </tr>
  </tbody>
  <% end %>
</table>
):
1:    <h2>Books</h2>
2:    
3:       <%#= link_to "新着順", books_path(sort_word: "new")  %>
4:       <%= link_to "新着順", books_path(sort: 'created_at DESC') %>
5:       <span>|</span>
6:       <%#= link_to "評価の高い順" , books_path(sort_word: "rate") %>
7:       <%= link_to "評価が高い順", books_path(sort: 'rate DESC') %>
8:    
9:    <table class="table table-hover table-inverse">
10:      <therd>
11:        <tr>
12:          <th></th>
13:          <th>Title</th>
14:          <th>Opinion</th>
15:          <th>Category</th>
16:          <th></th>
17:          <th></th>
18:          <th></th>
19:          <th></th>
20:        </tr>
21:      </therd>
22:    
23:      <% books.each do |book| %>
24:      <tbody>
25:        <tr>
26:    
27:          <td>
28:          <%= link_to user_path(book.user.id) do %>
29:          <%#= attachment_image_tag book.user, :profile_image, size: "40x40", format: 'jpeg', fallback: "no_image.jpg"%>
30:          <% end %>
31:          </td>
32:    
33:          <td>
34:            <%= link_to book_path(book.id) do %>
35:            <%= book.title %>
36:            <% end %>
37:          </td>
38:    
39:          <td>
40:            <%= book.body %>
41:          </td>
42:    
43:          <td>
44:            <%= link_to book.category.name, category_search_path(category_word: book.category.name) %>
45:          </td>
46:    
47:          <td id ="Favorites-buttons<%= book.id%>">
48:           <%= render partial: "favorites/like", locals: { book: book }%>
49:         </td>
50:    
51:          <td class ='example'>
52:            コメント数：<%=book.book_comments.count %>
53:          </td>
54:          <td>
55:    <!--        閲覧数: <%#= book.impressionist_count(:filter=>:session_hash) %>-->
56:          </td>
57:    
58:          <td>
59:    
60:            <div id="star_<%= book.id %>"></div>
61:            <script>
62:                $(document).on('turbolinks:load', function() {
63:                    let elem = document.querySelector('#star_<%= book.id %>');
64:                    if (elem == null) return;
65:    
66:                    elem.innerHTML = "";
67:                    let opt = {
68:                        starOn: "<%= asset_path('star-on.png') %>",
69:                        starOff: "<%= asset_path('star-off.png') %>",
70:                        starHalf: "<%= asset_path('star-half.png') %>",
71:                        score: "<%= book.rate %>",
72:                        readOnly: true,
73:                };
74:                    raty(elem, opt);
75:                });
76:            </script>
77:          </td>
78:          <td>
79:            <% book.tags.each do |tag| %>
80:              <%=  link_to tag.name
81:            <% end %>
82:          </td>
83:        </tr>
84:      </tbody>
85:      <% end %>
86:    </table>
  
app/views/books/_index.html.erb:81: syntax error, unexpected '<', expecting ')'
app/views/books/_index.html.erb:88: syntax error, unexpected end-of-input, expecting `end'
app/views/books/_index.html.erb:81: syntax error, unexpected '<', expecting ')'
app/views/books/_index.html.erb:88: syntax error, unexpected end-of-input, expecting `end'
app/views/books/_index.html.erb:81: syntax error, unexpected '<', expecting ')'
app/views/books/_index.html.erb:88: syntax error, unexpected end-of-input, expecting `end'
app/views/books/_index.html.erb:81: syntax error, unexpected '<', expecting ')'
app/views/books/_index.html.erb:88: syntax error, unexpected end-of-input, expecting `end'
app/views/books/index.html.erb:23
Started GET "/books" for ::1 at 2024-05-07 14:54:08 +0900
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/books_controller.rb:32:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3], ["book_id", 4], ["book_id", 5]]
  ↳ app/controllers/books_controller.rb:32:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 2], ["id", 3]]
  ↳ app/controllers/books_controller.rb:32:in `sort'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 2], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 3], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 3], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 2], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 4], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 5], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 4], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 3.5ms | Allocations: 2778)
  Rendered users/_follow_btn.html.erb (Duration: 0.6ms | Allocations: 212)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.7ms | Allocations: 1251)
  Rendered books/_newbook.html.erb (Duration: 3.0ms | Allocations: 2464)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 3.1ms | Allocations: 2379)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.3ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1957)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:79
  Rendered books/_index.html.erb (Duration: 46.1ms | Allocations: 47464)
  Rendered books/index.html.erb within layouts/application (Duration: 56.9ms | Allocations: 55461)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 1.0ms | Allocations: 1357)
  Rendered searches/_search_window.html.erb (Duration: 1.0ms | Allocations: 1863)
  Rendered layout layouts/application.html.erb (Duration: 65.7ms | Allocations: 61586)
Completed 200 OK in 83ms (Views: 64.7ms | ActiveRecord: 3.7ms | Allocations: 76831)


Started GET "/books" for ::1 at 2024-05-07 14:54:21 +0900
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/books_controller.rb:32:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3], ["book_id", 4], ["book_id", 5]]
  ↳ app/controllers/books_controller.rb:32:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 2], ["id", 3]]
  ↳ app/controllers/books_controller.rb:32:in `sort'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 2], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 3], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 3], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 2], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 4], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 5], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 4], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 2.3ms | Allocations: 2311)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 40)
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 0.9ms | Allocations: 965)
  Rendered books/_newbook.html.erb (Duration: 1.9ms | Allocations: 1926)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1981)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.5ms | Allocations: 1909)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 2026)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.4ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:79
  Rendered books/_index.html.erb (Duration: 25.4ms | Allocations: 31921)
  Rendered books/index.html.erb within layouts/application (Duration: 30.6ms | Allocations: 37521)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.4ms | Allocations: 776)
  Rendered searches/_search_window.html.erb (Duration: 0.3ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 34.5ms | Allocations: 42267)
Completed 200 OK in 46ms (Views: 33.5ms | ActiveRecord: 1.9ms | Allocations: 56345)


Started GET "/books" for ::1 at 2024-05-07 14:54:22 +0900
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/books_controller.rb:32:in `sort'
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3], ["book_id", 4], ["book_id", 5]]
  ↳ app/controllers/books_controller.rb:32:in `sort'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 2], ["id", 3]]
  ↳ app/controllers/books_controller.rb:32:in `sort'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 2], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 3], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 3], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 2], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 4], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 5], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 4], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 2.1ms | Allocations: 2778)
  Rendered users/_follow_btn.html.erb (Duration: 0.3ms | Allocations: 212)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.2ms | Allocations: 1251)
  Rendered books/_newbook.html.erb (Duration: 2.0ms | Allocations: 2458)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 2186)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.0ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.3ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.4ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.0ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:79
  Rendered books/_index.html.erb (Duration: 27.7ms | Allocations: 32764)
  Rendered books/index.html.erb within layouts/application (Duration: 34.6ms | Allocations: 40760)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 2.9ms | Allocations: 1336)
  Rendered searches/_search_window.html.erb (Duration: 0.8ms | Allocations: 1866)
  Rendered layout layouts/application.html.erb (Duration: 42.0ms | Allocations: 46907)
Completed 200 OK in 69ms (Views: 41.8ms | ActiveRecord: 3.6ms | Allocations: 61830)


Started GET "/tags/search" for ::1 at 2024-05-07 14:54:25 +0900
Processing by TagsController#search as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering tags/search.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (tag LIKE '%%')[0m
  ↳ app/views/tags/search.html.erb:2
  Rendered tags/search.html.erb within layouts/application (Duration: 1.7ms | Allocations: 2574)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | Allocations: 2657)
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.6ms | Allocations: 5394)


  
ActionView::Template::Error (SQLite3::SQLException: no such column: tag):
    1: <p>検索ワード: <%= @word %>></p>
    2: <% @books.each do |book| %>
    3:   <%= book.title %>
    4: <% end %>
  
app/views/tags/search.html.erb:2
Started GET "/books" for ::1 at 2024-05-07 14:54:56 +0900
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/books_controller.rb:32:in `sort'
  [1m[36mFavorite Load (0.6ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3], ["book_id", 4], ["book_id", 5]]
  ↳ app/controllers/books_controller.rb:32:in `sort'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 2], ["id", 3]]
  ↳ app/controllers/books_controller.rb:32:in `sort'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 2], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 3], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 3], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 2], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 4], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 5], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 4], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 1.7ms | Allocations: 2344)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 40)
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 0.7ms | Allocations: 964)
  Rendered books/_newbook.html.erb (Duration: 2.0ms | Allocations: 2044)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1987)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.9ms | Allocations: 1909)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.5ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.5ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:79
  Rendered books/_index.html.erb (Duration: 28.4ms | Allocations: 31812)
  Rendered books/index.html.erb within layouts/application (Duration: 33.0ms | Allocations: 37562)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.4ms | Allocations: 780)
  Rendered searches/_search_window.html.erb (Duration: 0.4ms | Allocations: 1656)
  Rendered layout layouts/application.html.erb (Duration: 36.8ms | Allocations: 42358)
Completed 200 OK in 61ms (Views: 35.7ms | ActiveRecord: 3.3ms | Allocations: 56542)


Started GET "/tags/search" for ::1 at 2024-05-07 14:58:43 +0900
Processing by TagsController#search as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering tags/search.html.erb within layouts/application
  [1m[36mBook Load (0.8ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (tag LIKE '%%')[0m
  ↳ app/views/tags/search.html.erb:2
  Rendered tags/search.html.erb within layouts/application (Duration: 7.5ms | Allocations: 2740)
  Rendered layout layouts/application.html.erb (Duration: 7.7ms | Allocations: 2822)
Completed 500 Internal Server Error in 19ms (ActiveRecord: 1.2ms | Allocations: 6279)


  
ActionView::Template::Error (SQLite3::SQLException: no such column: tag):
    1: <p>検索ワード: <%= @word %></p>
    2: <% if @books.present? %>
    3:   <% @books.each do |book| %>
    4:     <%= book.title %>
    5:   <% end %>
  
app/views/tags/search.html.erb:2
Started GET "/tags/search" for ::1 at 2024-05-07 14:59:34 +0900
  [1m[35m (0.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by TagsController#search as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering tags/search.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (tag LIKE '%%')[0m
  ↳ app/views/tags/search.html.erb:2
  Rendered tags/search.html.erb within layouts/application (Duration: 3.4ms | Allocations: 3117)
  Rendered layout layouts/application.html.erb (Duration: 3.6ms | Allocations: 3219)
Completed 500 Internal Server Error in 48ms (ActiveRecord: 1.6ms | Allocations: 25309)


  
ActionView::Template::Error (SQLite3::SQLException: no such column: tag):
    1: <p>検索ワード: <%= @word %></p>
    2: <% if @books.present? %>
    3:   <% @books.each do |book| %>
    4:     <%= book.title %>
    5:   <% end %>
  
app/views/tags/search.html.erb:2
Started GET "/tags/search" for ::1 at 2024-05-07 14:59:37 +0900
Processing by TagsController#search as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering tags/search.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (tag LIKE '%%')[0m
  ↳ app/views/tags/search.html.erb:2
  Rendered tags/search.html.erb within layouts/application (Duration: 1.1ms | Allocations: 2287)
  Rendered layout layouts/application.html.erb (Duration: 1.2ms | Allocations: 2364)
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.7ms | Allocations: 4260)


  
ActionView::Template::Error (SQLite3::SQLException: no such column: tag):
    1: <p>検索ワード: <%= @word %></p>
    2: <% if @books.present? %>
    3:   <% @books.each do |book| %>
    4:     <%= book.title %>
    5:   <% end %>
  
app/views/tags/search.html.erb:2
Started GET "/tags/search" for ::1 at 2024-05-07 14:59:38 +0900
Processing by TagsController#search as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering tags/search.html.erb within layouts/application
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (tag LIKE '%%')[0m
  ↳ app/views/tags/search.html.erb:2
  Rendered tags/search.html.erb within layouts/application (Duration: 1.5ms | Allocations: 2270)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | Allocations: 2347)
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.8ms | Allocations: 3998)


  
ActionView::Template::Error (SQLite3::SQLException: no such column: tag):
    1: <p>検索ワード: <%= @word %></p>
    2: <% if @books.present? %>
    3:   <% @books.each do |book| %>
    4:     <%= book.title %>
    5:   <% end %>
  
app/views/tags/search.html.erb:2
Started GET "/tags/search" for ::1 at 2024-05-07 14:59:49 +0900
Processing by TagsController#search as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering tags/search.html.erb within layouts/application
  Rendered tags/search.html.erb within layouts/application (Duration: 0.3ms | Allocations: 236)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 1.9ms | Allocations: 1765)
  Rendered searches/_search_window.html.erb (Duration: 1.4ms | Allocations: 2095)
  Rendered layout layouts/application.html.erb (Duration: 11.9ms | Allocations: 7449)
Completed 200 OK in 24ms (Views: 17.1ms | ActiveRecord: 0.2ms | Allocations: 10152)


Started POST "/tags/search" for ::1 at 2024-05-07 14:59:53 +0900
  
ActionController::RoutingError (No route matches [POST] "/tags/search"):
  
Started POST "/tags/search" for ::1 at 2024-05-07 15:02:31 +0900
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [POST] "/tags/search"):
  
Started GET "/tags/search" for ::1 at 2024-05-07 15:02:33 +0900
Processing by TagsController#search as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering tags/search.html.erb within layouts/application
  Rendered tags/search.html.erb within layouts/application (Duration: 0.7ms | Allocations: 811)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 1.8ms | Allocations: 1607)
  Rendered searches/_search_window.html.erb (Duration: 1.7ms | Allocations: 2051)
  Rendered layout layouts/application.html.erb (Duration: 19.4ms | Allocations: 12173)
Completed 200 OK in 36ms (Views: 20.8ms | ActiveRecord: 0.6ms | Allocations: 28691)


Started GET "/tags/search" for ::1 at 2024-05-07 15:03:14 +0900
Processing by TagsController#search as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering tags/search.html.erb within layouts/application
  Rendered tags/search.html.erb within layouts/application (Duration: 0.4ms | Allocations: 238)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.9ms | Allocations: 1375)
  Rendered searches/_search_window.html.erb (Duration: 1.1ms | Allocations: 1863)
  Rendered layout layouts/application.html.erb (Duration: 9.4ms | Allocations: 6508)
Completed 200 OK in 13ms (Views: 10.6ms | ActiveRecord: 0.1ms | Allocations: 9422)


Started GET "/tags/search?word=aaa&commit=%E6%A4%9C%E7%B4%A2" for ::1 at 2024-05-07 15:03:16 +0900
Processing by TagsController#search as HTML
  Parameters: {"word"=>"aaa", "commit"=>"検索"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering tags/search.html.erb within layouts/application
  Rendered tags/search.html.erb within layouts/application (Duration: 0.2ms | Allocations: 38)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 1.2ms | Allocations: 743)
  Rendered searches/_search_window.html.erb (Duration: 2.2ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 12.6ms | Allocations: 4772)
Completed 200 OK in 25ms (Views: 13.1ms | ActiveRecord: 0.8ms | Allocations: 6631)


Started GET "/books" for ::1 at 2024-05-07 15:03:18 +0900
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/books_controller.rb:32:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3], ["book_id", 4], ["book_id", 5]]
  ↳ app/controllers/books_controller.rb:32:in `sort'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 2], ["id", 3]]
  ↳ app/controllers/books_controller.rb:32:in `sort'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 2], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 3], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 3], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 2], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 4], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 5], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 4], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 5.2ms | Allocations: 5685)
  Rendered users/_follow_btn.html.erb (Duration: 0.5ms | Allocations: 250)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.6ms | Allocations: 1501)
  Rendered books/_newbook.html.erb (Duration: 17.5ms | Allocations: 11984)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 6.4ms | Allocations: 2403)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.3ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1957)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.4ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:79
  Rendered books/_index.html.erb (Duration: 47.0ms | Allocations: 45380)
  Rendered books/index.html.erb within layouts/application (Duration: 73.9ms | Allocations: 66225)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 759)
  Rendered searches/_search_window.html.erb (Duration: 0.3ms | Allocations: 1666)
  Rendered layout layouts/application.html.erb (Duration: 77.4ms | Allocations: 70981)
Completed 200 OK in 109ms (Views: 74.1ms | ActiveRecord: 6.0ms | Allocations: 100863)


Started GET "/tags/search?word=tag" for ::1 at 2024-05-07 15:03:21 +0900
Processing by TagsController#search as HTML
  Parameters: {"word"=>"tag"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering tags/search.html.erb within layouts/application
  Rendered tags/search.html.erb within layouts/application (Duration: 0.1ms | Allocations: 39)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.4ms | Allocations: 743)
  Rendered searches/_search_window.html.erb (Duration: 0.4ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 10.7ms | Allocations: 4785)
Completed 200 OK in 17ms (Views: 11.4ms | ActiveRecord: 0.2ms | Allocations: 6689)


Started GET "/tags/search?word=tag" for ::1 at 2024-05-07 15:03:43 +0900
Processing by TagsController#search as HTML
  Parameters: {"word"=>"tag"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering tags/search.html.erb within layouts/application
  [1m[36mBook Load (3.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (tag LIKE '%tag%')[0m
  ↳ app/views/tags/search.html.erb:2
  Rendered tags/search.html.erb within layouts/application (Duration: 4.4ms | Allocations: 2631)
  Rendered layout layouts/application.html.erb (Duration: 4.4ms | Allocations: 2713)
Completed 500 Internal Server Error in 8ms (ActiveRecord: 3.4ms | Allocations: 5358)


  
ActionView::Template::Error (SQLite3::SQLException: no such column: tag):
    1: <p>検索ワード: <%= @word %></p>
    2: <% if @books.present? %>
    3:   <% @books.each do |book| %>
    4:     <%= book.title %>
    5:   <% end %>
  
app/views/tags/search.html.erb:2
Started GET "/tags/search?word=tag" for ::1 at 2024-05-07 15:03:59 +0900
Processing by TagsController#search as HTML
  Parameters: {"word"=>"tag"}
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (tag LIKE '%tag%')[0m
  ↳ app/controllers/tags_controller.rb:5:in `search'
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (tag LIKE '%tag%')[0m
  ↳ app/controllers/tags_controller.rb:5:in `search'
Completed 401 Unauthorized in 595799ms (ActiveRecord: 1.9ms | Allocations: 298514)


Started GET "/books" for ::1 at 2024-05-07 15:14:07 +0900
  [1m[35m (0.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/books_controller.rb:32:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3], ["book_id", 4], ["book_id", 5]]
  ↳ app/controllers/books_controller.rb:32:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 2], ["id", 3]]
  ↳ app/controllers/books_controller.rb:32:in `sort'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 2], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 3], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 3], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 2], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 4], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 5], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 4], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 6.9ms | Allocations: 6697)
  Rendered users/_follow_btn.html.erb (Duration: 5.4ms | Allocations: 459)
  [1m[36mRelationship Load (0.2ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 2.7ms | Allocations: 1503)
  Rendered books/_newbook.html.erb (Duration: 22.7ms | Allocations: 12246)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 3.7ms | Allocations: 2404)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.3ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.1ms | Allocations: 1957)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.0ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:79
  Rendered books/_index.html.erb (Duration: 51.3ms | Allocations: 45390)
  Rendered books/index.html.erb within layouts/application (Duration: 92.0ms | Allocations: 68916)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.8ms | Allocations: 1333)
  Rendered searches/_search_window.html.erb (Duration: 1.1ms | Allocations: 2050)
  Rendered layout layouts/application.html.erb (Duration: 101.5ms | Allocations: 75481)
Completed 200 OK in 157ms (Views: 100.9ms | ActiveRecord: 5.8ms | Allocations: 123636)


Started GET "/tags/search?word=+ddd" for ::1 at 2024-05-07 15:14:09 +0900
Processing by TagsController#search as HTML
  Parameters: {"word"=>" ddd"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Started GET "/tags/search?word=+ddd" for ::1 at 2024-05-07 15:15:09 +0900
Processing by TagsController#search as HTML
  Parameters: {"word"=>" ddd"}
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 401 Unauthorized in 14772ms (ActiveRecord: 0.9ms | Allocations: 21859)


Completed 401 Unauthorized in 74765ms (ActiveRecord: 0.3ms | Allocations: 104950)


  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "tag_books" ON "tag_books"."book_id" = "books"."id" INNER JOIN "tags" ON "tags"."id" = "tag_books"."tag_id" WHERE (tags.name LIKE '%%')[0m
Started GET "/tags/search?word=+ddd" for ::1 at 2024-05-07 15:16:31 +0900
  [1m[35m (0.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by TagsController#search as HTML
  Parameters: {"word"=>" ddd"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering tags/search.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "tag_books" ON "tag_books"."book_id" = "books"."id" INNER JOIN "tags" ON "tags"."id" = "tag_books"."tag_id" WHERE (tags.name LIKE '% ddd%')[0m
  ↳ app/views/tags/search.html.erb:2
  Rendered tags/search.html.erb within layouts/application (Duration: 11.5ms | Allocations: 9895)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 2.3ms | Allocations: 1693)
  Rendered searches/_search_window.html.erb (Duration: 1.6ms | Allocations: 2095)
  Rendered layout layouts/application.html.erb (Duration: 28.6ms | Allocations: 17056)
Completed 200 OK in 48ms (Views: 30.5ms | ActiveRecord: 1.3ms | Allocations: 35167)


Started GET "/books" for ::1 at 2024-05-07 15:16:36 +0900
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/books_controller.rb:32:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3], ["book_id", 4], ["book_id", 5]]
  ↳ app/controllers/books_controller.rb:32:in `sort'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 2], ["id", 3]]
  ↳ app/controllers/books_controller.rb:32:in `sort'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 2], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 3], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 3], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 2], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 4], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 5], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 4], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 5.3ms | Allocations: 5515)
  Rendered users/_follow_btn.html.erb (Duration: 0.4ms | Allocations: 250)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.6ms | Allocations: 1501)
  Rendered books/_newbook.html.erb (Duration: 18.9ms | Allocations: 11986)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.9ms | Allocations: 2398)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.3ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1943)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.3ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:79
  Rendered books/_index.html.erb (Duration: 36.8ms | Allocations: 41807)
  Rendered books/index.html.erb within layouts/application (Duration: 65.0ms | Allocations: 62487)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 759)
  Rendered searches/_search_window.html.erb (Duration: 0.3ms | Allocations: 1666)
  Rendered layout layouts/application.html.erb (Duration: 69.0ms | Allocations: 67243)
Completed 200 OK in 143ms (Views: 66.9ms | ActiveRecord: 5.8ms | Allocations: 92448)


Started GET "/tags/search?word=fff" for ::1 at 2024-05-07 15:16:38 +0900
Processing by TagsController#search as HTML
  Parameters: {"word"=>"fff"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering tags/search.html.erb within layouts/application
  [1m[36mBook Load (0.8ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "tag_books" ON "tag_books"."book_id" = "books"."id" INNER JOIN "tags" ON "tags"."id" = "tag_books"."tag_id" WHERE (tags.name LIKE '%fff%')[0m
  ↳ app/views/tags/search.html.erb:2
  Rendered tags/search.html.erb within layouts/application (Duration: 3.6ms | Allocations: 1014)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 1.3ms | Allocations: 743)
  Rendered searches/_search_window.html.erb (Duration: 0.4ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 16.3ms | Allocations: 5866)
Completed 200 OK in 27ms (Views: 16.2ms | ActiveRecord: 1.0ms | Allocations: 8472)


Started GET "/books" for ::1 at 2024-05-07 15:16:40 +0900
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/books_controller.rb:32:in `sort'
  [1m[36mFavorite Load (0.5ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3], ["book_id", 4], ["book_id", 5]]
  ↳ app/controllers/books_controller.rb:32:in `sort'
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 2], ["id", 3]]
  ↳ app/controllers/books_controller.rb:32:in `sort'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 2], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 3], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 3], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 2], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 4], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 5], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 4], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 2.6ms | Allocations: 2304)
  Rendered users/_follow_btn.html.erb (Duration: 0.1ms | Allocations: 40)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.6ms | Allocations: 965)
  Rendered books/_newbook.html.erb (Duration: 1.5ms | Allocations: 1978)
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1981)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.0ms | Allocations: 1909)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:79
  Rendered books/_index.html.erb (Duration: 25.7ms | Allocations: 31865)
  Rendered books/index.html.erb within layouts/application (Duration: 31.8ms | Allocations: 37510)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 725)
  Rendered searches/_search_window.html.erb (Duration: 0.4ms | Allocations: 1644)
  Rendered layout layouts/application.html.erb (Duration: 35.5ms | Allocations: 42205)
Completed 200 OK in 69ms (Views: 34.5ms | ActiveRecord: 4.0ms | Allocations: 56194)


Started GET "/tags/search?word=tag" for ::1 at 2024-05-07 15:16:42 +0900
Processing by TagsController#search as HTML
  Parameters: {"word"=>"tag"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering tags/search.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "tag_books" ON "tag_books"."book_id" = "books"."id" INNER JOIN "tags" ON "tags"."id" = "tag_books"."tag_id" WHERE (tags.name LIKE '%tag%')[0m
  ↳ app/views/tags/search.html.erb:2
  Rendered tags/search.html.erb within layouts/application (Duration: 0.9ms | Allocations: 990)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 743)
  Rendered searches/_search_window.html.erb (Duration: 0.3ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 4.5ms | Allocations: 5724)
Completed 200 OK in 6ms (Views: 4.7ms | ActiveRecord: 0.2ms | Allocations: 7393)


Started GET "/tags/search?word=ta&commit=%E6%A4%9C%E7%B4%A2" for ::1 at 2024-05-07 15:16:45 +0900
Processing by TagsController#search as HTML
  Parameters: {"word"=>"ta", "commit"=>"検索"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering tags/search.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "tag_books" ON "tag_books"."book_id" = "books"."id" INNER JOIN "tags" ON "tags"."id" = "tag_books"."tag_id" WHERE (tags.name LIKE '%ta%')[0m
  ↳ app/views/tags/search.html.erb:2
  Rendered tags/search.html.erb within layouts/application (Duration: 3.5ms | Allocations: 990)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.8ms | Allocations: 744)
  Rendered searches/_search_window.html.erb (Duration: 0.5ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 14.4ms | Allocations: 5726)
Completed 200 OK in 21ms (Views: 14.5ms | ActiveRecord: 0.8ms | Allocations: 7409)


Started GET "/tags/search?word=t&commit=%E6%A4%9C%E7%B4%A2" for ::1 at 2024-05-07 15:16:48 +0900
Processing by TagsController#search as HTML
  Parameters: {"word"=>"t", "commit"=>"検索"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering tags/search.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "tag_books" ON "tag_books"."book_id" = "books"."id" INNER JOIN "tags" ON "tags"."id" = "tag_books"."tag_id" WHERE (tags.name LIKE '%t%')[0m
  ↳ app/views/tags/search.html.erb:2
  Rendered tags/search.html.erb within layouts/application (Duration: 0.8ms | Allocations: 990)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.5ms | Allocations: 743)
  Rendered searches/_search_window.html.erb (Duration: 0.2ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 4.7ms | Allocations: 5724)
Completed 200 OK in 7ms (Views: 4.8ms | ActiveRecord: 0.2ms | Allocations: 7390)


Started GET "/books" for ::1 at 2024-05-07 15:16:50 +0900
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/books_controller.rb:32:in `sort'
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3], ["book_id", 4], ["book_id", 5]]
  ↳ app/controllers/books_controller.rb:32:in `sort'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 2], ["id", 3]]
  ↳ app/controllers/books_controller.rb:32:in `sort'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 2], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 3], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 3], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 2], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 4], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 5], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 4], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 2.5ms | Allocations: 2300)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 40)
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 0.8ms | Allocations: 964)
  Rendered books/_newbook.html.erb (Duration: 1.6ms | Allocations: 1882)
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1981)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1909)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.5ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.1ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:79
  Rendered books/_index.html.erb (Duration: 26.8ms | Allocations: 31865)
  Rendered books/index.html.erb within layouts/application (Duration: 32.1ms | Allocations: 37408)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 725)
  Rendered searches/_search_window.html.erb (Duration: 0.4ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 36.2ms | Allocations: 42103)
Completed 200 OK in 62ms (Views: 35.0ms | ActiveRecord: 3.2ms | Allocations: 56042)


Started GET "/tags/search?word=e&commit=%E6%A4%9C%E7%B4%A2" for ::1 at 2024-05-07 15:16:55 +0900
Processing by TagsController#search as HTML
  Parameters: {"word"=>"e", "commit"=>"検索"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering tags/search.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "tag_books" ON "tag_books"."book_id" = "books"."id" INNER JOIN "tags" ON "tags"."id" = "tag_books"."tag_id" WHERE (tags.name LIKE '%e%')[0m
  ↳ app/views/tags/search.html.erb:2
  Rendered tags/search.html.erb within layouts/application (Duration: 4.1ms | Allocations: 976)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 744)
  Rendered searches/_search_window.html.erb (Duration: 0.4ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 10.5ms | Allocations: 5711)
Completed 200 OK in 15ms (Views: 10.8ms | ActiveRecord: 0.5ms | Allocations: 7378)


Started GET "/" for ::1 at 2024-05-07 15:16:57 +0900
Processing by HomesController#top as HTML
  Rendering layout layouts/application.html.erb
  Rendering homes/top.html.erb within layouts/application
  Rendered homes/top.html.erb within layouts/application (Duration: 2.1ms | Allocations: 463)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/_header.html.erb:9
  Rendered layouts/_header.html.erb (Duration: 1.6ms | Allocations: 1897)
  Rendered searches/_search_window.html.erb (Duration: 0.3ms | Allocations: 1666)
  Rendered layout layouts/application.html.erb (Duration: 12.5ms | Allocations: 6521)
Completed 200 OK in 22ms (Views: 18.3ms | ActiveRecord: 0.1ms | Allocations: 8797)


Started GET "/" for ::1 at 2024-05-07 15:17:47 +0900
Processing by HomesController#top as HTML
  Rendering layout layouts/application.html.erb
  Rendering homes/top.html.erb within layouts/application
  Rendered homes/top.html.erb within layouts/application (Duration: 0.1ms | Allocations: 93)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/_header.html.erb:9
  Rendered layouts/_header.html.erb (Duration: 2.8ms | Allocations: 1666)
  Rendered searches/_search_window.html.erb (Duration: 0.3ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 12.1ms | Allocations: 5749)
Completed 200 OK in 13ms (Views: 12.2ms | ActiveRecord: 0.1ms | Allocations: 6197)


Started GET "/" for ::1 at 2024-05-07 15:17:48 +0900
Processing by HomesController#top as HTML
  Rendering layout layouts/application.html.erb
  Rendering homes/top.html.erb within layouts/application
  Rendered homes/top.html.erb within layouts/application (Duration: 1.0ms | Allocations: 307)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/_header.html.erb:9
  Rendered layouts/_header.html.erb (Duration: 1.9ms | Allocations: 2444)
  Rendered searches/_search_window.html.erb (Duration: 0.8ms | Allocations: 1863)
  Rendered layout layouts/application.html.erb (Duration: 10.1ms | Allocations: 7634)
Completed 200 OK in 19ms (Views: 14.0ms | ActiveRecord: 0.1ms | Allocations: 9021)


Started GET "/books" for ::1 at 2024-05-07 15:17:58 +0900
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/books_controller.rb:32:in `sort'
  [1m[36mFavorite Load (2.6ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3], ["book_id", 4], ["book_id", 5]]
  ↳ app/controllers/books_controller.rb:32:in `sort'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 2], ["id", 3]]
  ↳ app/controllers/books_controller.rb:32:in `sort'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 2], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 3], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 3], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 2], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 4], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 5], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 4], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 3.3ms | Allocations: 2778)
  Rendered users/_follow_btn.html.erb (Duration: 0.6ms | Allocations: 212)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.7ms | Allocations: 1251)
  Rendered books/_newbook.html.erb (Duration: 3.3ms | Allocations: 2465)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.9ms | Allocations: 2186)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.4ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.2ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:79
  Rendered books/_index.html.erb (Duration: 31.5ms | Allocations: 32831)
  Rendered books/index.html.erb within layouts/application (Duration: 43.2ms | Allocations: 40847)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.4ms | Allocations: 747)
  Rendered searches/_search_window.html.erb (Duration: 0.3ms | Allocations: 1666)
  Rendered layout layouts/application.html.erb (Duration: 47.1ms | Allocations: 45680)
Completed 200 OK in 87ms (Views: 46.4ms | ActiveRecord: 5.5ms | Allocations: 60488)


Started GET "/books?sort=rate+DESC" for ::1 at 2024-05-07 15:20:03 +0900
Processing by BooksController#index as HTML
  Parameters: {"sort"=>"rate DESC"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 4.4ms | Allocations: 2390)
  Rendered users/_follow_btn.html.erb (Duration: 0.3ms | Allocations: 40)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.7ms | Allocations: 964)
  Rendered books/_newbook.html.erb (Duration: 10.1ms | Allocations: 1868)
  [1m[36mBook Load (1.0ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY rate DESC[0m
  ↳ app/views/books/_index.html.erb:23
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.5ms | Allocations: 1982)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.1ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.1ms | Allocations: 1911)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.3ms | Allocations: 1911)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.1ms | Allocations: 1911)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:79
  Rendered books/_index.html.erb (Duration: 36.2ms | Allocations: 32664)
  Rendered books/index.html.erb within layouts/application (Duration: 53.3ms | Allocations: 38283)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.4ms | Allocations: 725)
  Rendered searches/_search_window.html.erb (Duration: 0.3ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 63.1ms | Allocations: 42977)
Completed 200 OK in 70ms (Views: 60.2ms | ActiveRecord: 3.9ms | Allocations: 44778)


Started GET "/books?sort=created_at+DESC" for ::1 at 2024-05-07 15:20:05 +0900
Processing by BooksController#index as HTML
  Parameters: {"sort"=>"created_at DESC"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 8.5ms | Allocations: 2377)
  Rendered users/_follow_btn.html.erb (Duration: 0.1ms | Allocations: 40)
  [1m[36mRelationship Load (0.2ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.8ms | Allocations: 964)
  Rendered books/_newbook.html.erb (Duration: 1.9ms | Allocations: 1873)
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY created_at DESC[0m
  ↳ app/views/books/_index.html.erb:23
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 1982)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 1911)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.4ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.3ms | Allocations: 1911)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.5ms | Allocations: 1911)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:79
  Rendered books/_index.html.erb (Duration: 28.7ms | Allocations: 32667)
  Rendered books/index.html.erb within layouts/application (Duration: 41.6ms | Allocations: 38278)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 725)
  Rendered searches/_search_window.html.erb (Duration: 0.3ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 46.2ms | Allocations: 42984)
Completed 200 OK in 54ms (Views: 45.0ms | ActiveRecord: 2.1ms | Allocations: 44719)


Started GET "/books?sort=created_at+DESC" for ::1 at 2024-05-07 15:20:06 +0900
Processing by BooksController#index as HTML
  Parameters: {"sort"=>"created_at DESC"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 7.2ms | Allocations: 2299)
  Rendered users/_follow_btn.html.erb (Duration: 0.1ms | Allocations: 40)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 3.4ms | Allocations: 964)
  Rendered books/_newbook.html.erb (Duration: 4.2ms | Allocations: 1877)
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY created_at DESC[0m
  ↳ app/views/books/_index.html.erb:23
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.1ms | Allocations: 1982)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1911)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.5ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1911)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.3ms | Allocations: 1911)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:79
  Rendered books/_index.html.erb (Duration: 26.7ms | Allocations: 32656)
  Rendered books/index.html.erb within layouts/application (Duration: 42.4ms | Allocations: 38193)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.4ms | Allocations: 725)
  Rendered searches/_search_window.html.erb (Duration: 0.4ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 47.3ms | Allocations: 42887)
Completed 200 OK in 56ms (Views: 46.9ms | ActiveRecord: 2.3ms | Allocations: 44582)


Started GET "/books?sort=created_at+DESC" for ::1 at 2024-05-07 15:20:07 +0900
Processing by BooksController#index as HTML
  Parameters: {"sort"=>"created_at DESC"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 9.1ms | Allocations: 2299)
  Rendered users/_follow_btn.html.erb (Duration: 0.1ms | Allocations: 40)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 3.6ms | Allocations: 964)
  Rendered books/_newbook.html.erb (Duration: 1.7ms | Allocations: 1877)
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY created_at DESC[0m
  ↳ app/views/books/_index.html.erb:23
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1982)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.4ms | Allocations: 1911)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.0ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.8ms | Allocations: 1911)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.5ms | Allocations: 1911)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:79
  Rendered books/_index.html.erb (Duration: 28.2ms | Allocations: 32666)
  Rendered books/index.html.erb within layouts/application (Duration: 43.4ms | Allocations: 38203)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 725)
  Rendered searches/_search_window.html.erb (Duration: 0.3ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 48.2ms | Allocations: 42897)
Completed 200 OK in 60ms (Views: 47.0ms | ActiveRecord: 2.2ms | Allocations: 44593)


Started GET "/books?sort=rate+DESC" for ::1 at 2024-05-07 15:20:09 +0900
Processing by BooksController#index as HTML
  Parameters: {"sort"=>"rate DESC"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 8.8ms | Allocations: 2301)
  Rendered users/_follow_btn.html.erb (Duration: 0.1ms | Allocations: 40)
  [1m[36mRelationship Load (0.2ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 3.9ms | Allocations: 964)
  Rendered books/_newbook.html.erb (Duration: 5.6ms | Allocations: 2024)
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY rate DESC[0m
  ↳ app/views/books/_index.html.erb:23
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1982)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.6ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1911)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.1ms | Allocations: 1911)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.3ms | Allocations: 1911)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:79
  Rendered books/_index.html.erb (Duration: 29.5ms | Allocations: 32675)
  Rendered books/index.html.erb within layouts/application (Duration: 50.7ms | Allocations: 39146)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.4ms | Allocations: 725)
  Rendered searches/_search_window.html.erb (Duration: 0.5ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 55.5ms | Allocations: 43840)
Completed 200 OK in 61ms (Views: 54.1ms | ActiveRecord: 2.5ms | Allocations: 45536)


Started GET "/books?sort=created_at+DESC" for ::1 at 2024-05-07 15:20:11 +0900
Processing by BooksController#index as HTML
  Parameters: {"sort"=>"created_at DESC"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 9.7ms | Allocations: 2301)
  Rendered users/_follow_btn.html.erb (Duration: 0.1ms | Allocations: 40)
  [1m[36mRelationship Load (0.2ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 5.1ms | Allocations: 1756)
  Rendered books/_newbook.html.erb (Duration: 2.7ms | Allocations: 2016)
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY created_at DESC[0m
  ↳ app/views/books/_index.html.erb:23
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1982)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1911)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1911)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.7ms | Allocations: 1911)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:79
  Rendered books/_index.html.erb (Duration: 30.6ms | Allocations: 32665)
  Rendered books/index.html.erb within layouts/application (Duration: 49.2ms | Allocations: 39135)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.4ms | Allocations: 725)
  Rendered searches/_search_window.html.erb (Duration: 0.4ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 53.1ms | Allocations: 43829)
Completed 200 OK in 61ms (Views: 50.8ms | ActiveRecord: 3.0ms | Allocations: 45525)


Started GET "/books?sort=rate+DESC" for ::1 at 2024-05-07 15:20:31 +0900
Processing by BooksController#index as HTML
  Parameters: {"sort"=>"rate DESC"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 5.1ms | Allocations: 2299)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 40)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.0ms | Allocations: 964)
  Rendered books/_newbook.html.erb (Duration: 3.5ms | Allocations: 1877)
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY rate DESC[0m
  ↳ app/views/books/_index.html.erb:23
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 5.1ms | Allocations: 1982)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.7ms | Allocations: 1920)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.4ms | Allocations: 1911)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1911)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1911)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:79
  Rendered books/_index.html.erb (Duration: 39.1ms | Allocations: 33584)
  Rendered books/index.html.erb within layouts/application (Duration: 49.2ms | Allocations: 39121)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.2ms | Allocations: 725)
  Rendered searches/_search_window.html.erb (Duration: 0.3ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 53.2ms | Allocations: 43815)
Completed 200 OK in 55ms (Views: 51.1ms | ActiveRecord: 2.5ms | Allocations: 45510)


Started GET "/books?sort=created_at+DESC" for ::1 at 2024-05-07 15:20:32 +0900
Processing by BooksController#index as HTML
  Parameters: {"sort"=>"created_at DESC"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 5.1ms | Allocations: 2299)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 40)
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 0.8ms | Allocations: 964)
  Rendered books/_newbook.html.erb (Duration: 2.2ms | Allocations: 1877)
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY created_at DESC[0m
  ↳ app/views/books/_index.html.erb:23
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.9ms | Allocations: 1992)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1911)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.2ms | Allocations: 1911)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.1ms | Allocations: 1911)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:79
  Rendered books/_index.html.erb (Duration: 33.3ms | Allocations: 33572)
  Rendered books/index.html.erb within layouts/application (Duration: 42.0ms | Allocations: 39140)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 725)
  Rendered searches/_search_window.html.erb (Duration: 0.4ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 46.0ms | Allocations: 43834)
Completed 200 OK in 53ms (Views: 44.2ms | ActiveRecord: 2.6ms | Allocations: 45530)


Started GET "/books?sort=rate+DESC" for ::1 at 2024-05-07 15:20:33 +0900
Processing by BooksController#index as HTML
  Parameters: {"sort"=>"rate DESC"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 11.7ms | Allocations: 2299)
  Rendered users/_follow_btn.html.erb (Duration: 0.1ms | Allocations: 40)
  [1m[36mRelationship Load (0.2ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 4.2ms | Allocations: 1750)
  Rendered books/_newbook.html.erb (Duration: 3.5ms | Allocations: 2009)
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY rate DESC[0m
  ↳ app/views/books/_index.html.erb:23
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 1982)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.5ms | Allocations: 1911)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.2ms | Allocations: 1911)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 1911)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:79
  Rendered books/_index.html.erb (Duration: 28.8ms | Allocations: 32678)
  Rendered books/index.html.erb within layouts/application (Duration: 49.2ms | Allocations: 39133)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 725)
  Rendered searches/_search_window.html.erb (Duration: 0.3ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 52.9ms | Allocations: 43827)
Completed 200 OK in 58ms (Views: 51.4ms | ActiveRecord: 2.3ms | Allocations: 45523)


Started GET "/users" for ::1 at 2024-05-07 15:20:55 +0900
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 2.8ms | Allocations: 2580)
  Rendered users/_follow_btn.html.erb (Duration: 0.2ms | Allocations: 43)
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 0.9ms | Allocations: 980)
  Rendered books/_newbook.html.erb (Duration: 1.7ms | Allocations: 2129)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:22
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/index.html.erb:28
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/index.html.erb:29
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/index.html.erb:28
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/index.html.erb:29
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/index.html.erb:28
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/index.html.erb:29
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/index.html.erb within layouts/application (Duration: 16.2ms | Allocations: 17618)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 3.5ms | Allocations: 748)
  Rendered searches/_search_window.html.erb (Duration: 9.4ms | Allocations: 1666)
  Rendered layout layouts/application.html.erb (Duration: 43.7ms | Allocations: 22415)
Completed 200 OK in 48ms (Views: 45.1ms | ActiveRecord: 0.9ms | Allocations: 25231)


Started GET "/groups/new" for ::1 at 2024-05-07 15:20:57 +0900
Processing by GroupsController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering groups/new.html.erb within layouts/application
  Rendered groups/new.html.erb within layouts/application (Duration: 1.1ms | Allocations: 866)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 763)
  Rendered searches/_search_window.html.erb (Duration: 0.3ms | Allocations: 1666)
  Rendered layout layouts/application.html.erb (Duration: 6.0ms | Allocations: 5847)
Completed 200 OK in 25ms (Views: 7.1ms | ActiveRecord: 0.9ms | Allocations: 20263)


Started POST "/groups" for ::1 at 2024-05-07 15:21:59 +0900
Processing by GroupsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "group"=>{"name"=>"qq", "introduction"=>"test", "owner_id"=>"2"}, "commit"=>"Create Group"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/groups_controller.rb:8:in `create'
  [1m[36mGroup Create (2.2ms)[0m  [1m[32mINSERT INTO "groups" ("name", "introduction", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "qq"], ["introduction", "test"], ["owner_id", 2], ["created_at", "2024-05-07 06:21:59.135781"], ["updated_at", "2024-05-07 06:21:59.135781"]]
  ↳ app/controllers/groups_controller.rb:8:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/groups_controller.rb:8:in `create'
Redirected to http://localhost:3000/groups
Completed 302 Found in 11ms (ActiveRecord: 3.4ms | Allocations: 4777)


Started GET "/groups" for ::1 at 2024-05-07 15:21:59 +0900
Processing by GroupsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering groups/index.html.erb within layouts/application
  [1m[36mGroup Load (0.2ms)[0m  [1m[34mSELECT "groups".* FROM "groups" ORDER BY "groups"."updated_at" DESC[0m
  ↳ app/views/groups/index.html.erb:12
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "group_users" ON "users"."id" = "group_users"."user_id" WHERE "group_users"."group_id" = ?[0m  [["group_id", 1]]
  ↳ app/views/groups/index.html.erb:18
  Rendered groups/index.html.erb within layouts/application (Duration: 2.7ms | Allocations: 2198)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.6ms | Allocations: 726)
  Rendered searches/_search_window.html.erb (Duration: 0.5ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 9.8ms | Allocations: 6914)
Completed 200 OK in 12ms (Views: 9.8ms | ActiveRecord: 0.4ms | Allocations: 8767)


Started GET "/groups/1/edit" for ::1 at 2024-05-07 15:22:03 +0900
Processing by GroupsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGroup Load (0.4ms)[0m  [1m[34mSELECT "groups".* FROM "groups" WHERE "groups"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:27:in `edit'
  Rendering layout layouts/application.html.erb
  Rendering groups/edit.html.erb within layouts/application
  Rendered groups/edit.html.erb within layouts/application (Duration: 2.1ms | Allocations: 624)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 725)
  Rendered searches/_search_window.html.erb (Duration: 0.3ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 7.7ms | Allocations: 5432)
Completed 200 OK in 18ms (Views: 8.5ms | ActiveRecord: 0.6ms | Allocations: 8742)


Started GET "/groups/1" for ::1 at 2024-05-07 15:22:07 +0900
Processing by GroupsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGroup Load (0.1ms)[0m  [1m[34mSELECT "groups".* FROM "groups" WHERE "groups"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:20:in `show'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:21:in `show'
  Rendering layout layouts/application.html.erb
  Rendering groups/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 3.2ms | Allocations: 2403)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "group_users" ON "users"."id" = "group_users"."user_id" WHERE "group_users"."group_id" = ?[0m  [["group_id", 1]]
  ↳ app/views/groups/show.html.erb:21
  Rendered groups/show.html.erb within layouts/application (Duration: 5.2ms | Allocations: 4270)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.4ms | Allocations: 725)
  Rendered searches/_search_window.html.erb (Duration: 0.3ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 9.3ms | Allocations: 8985)
Completed 200 OK in 16ms (Views: 9.2ms | ActiveRecord: 0.8ms | Allocations: 12839)


Started GET "/groups/1" for ::1 at 2024-05-07 15:22:10 +0900
Processing by GroupsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGroup Load (0.1ms)[0m  [1m[34mSELECT "groups".* FROM "groups" WHERE "groups"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:20:in `show'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:21:in `show'
  Rendering layout layouts/application.html.erb
  Rendering groups/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 2.1ms | Allocations: 2299)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "group_users" ON "users"."id" = "group_users"."user_id" WHERE "group_users"."group_id" = ?[0m  [["group_id", 1]]
  ↳ app/views/groups/show.html.erb:21
  Rendered groups/show.html.erb within layouts/application (Duration: 3.2ms | Allocations: 3401)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.7ms | Allocations: 725)
  Rendered searches/_search_window.html.erb (Duration: 0.4ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 14.8ms | Allocations: 8116)
Completed 200 OK in 25ms (Views: 14.9ms | ActiveRecord: 0.7ms | Allocations: 10929)


Started GET "/users" for ::1 at 2024-05-07 15:22:21 +0900
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 6.6ms | Allocations: 2299)
  Rendered users/_follow_btn.html.erb (Duration: 0.1ms | Allocations: 40)
  [1m[36mRelationship Load (0.3ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 5.8ms | Allocations: 968)
  Rendered books/_newbook.html.erb (Duration: 4.7ms | Allocations: 1993)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:22
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/index.html.erb:28
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/index.html.erb:29
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/index.html.erb:28
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/index.html.erb:29
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/index.html.erb:28
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/index.html.erb:29
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/index.html.erb within layouts/application (Duration: 25.6ms | Allocations: 14409)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 725)
  Rendered searches/_search_window.html.erb (Duration: 0.5ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 30.7ms | Allocations: 19103)
Completed 200 OK in 36ms (Views: 29.3ms | ActiveRecord: 2.1ms | Allocations: 20779)


Started POST "/users/3/relationships" for ::1 at 2024-05-07 15:22:24 +0900
Processing by RelationshipsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user_id"=>"3"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/relationships_controller.rb:4:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/relationships_controller.rb:4:in `create'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/relationships_controller.rb:4:in `create'
  [1m[36mRelationship Create (0.3ms)[0m  [1m[32mINSERT INTO "relationships" ("follower_id", "followed_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["follower_id", 3], ["followed_id", 2], ["created_at", "2024-05-07 06:22:24.213035"], ["updated_at", "2024-05-07 06:22:24.213035"]]
  ↳ app/controllers/relationships_controller.rb:4:in `create'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/relationships_controller.rb:4:in `create'
Redirected to http://localhost:3000/users
Completed 302 Found in 10ms (ActiveRecord: 1.3ms | Allocations: 6860)


Started GET "/users" for ::1 at 2024-05-07 15:22:24 +0900
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 1.9ms | Allocations: 2371)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 40)
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 0.8ms | Allocations: 965)
  Rendered books/_newbook.html.erb (Duration: 1.6ms | Allocations: 2044)
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:22
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/index.html.erb:28
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/index.html.erb:29
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/index.html.erb:28
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/index.html.erb:29
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/index.html.erb:28
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/index.html.erb:29
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/index.html.erb within layouts/application (Duration: 11.7ms | Allocations: 14546)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 729)
  Rendered searches/_search_window.html.erb (Duration: 0.4ms | Allocations: 1656)
  Rendered layout layouts/application.html.erb (Duration: 15.2ms | Allocations: 19290)
Completed 200 OK in 17ms (Views: 14.9ms | ActiveRecord: 0.5ms | Allocations: 21004)


Started GET "/groups" for ::1 at 2024-05-07 15:22:35 +0900
Processing by GroupsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering groups/index.html.erb within layouts/application
  [1m[36mGroup Load (0.2ms)[0m  [1m[34mSELECT "groups".* FROM "groups" ORDER BY "groups"."updated_at" DESC[0m
  ↳ app/views/groups/index.html.erb:12
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "group_users" ON "users"."id" = "group_users"."user_id" WHERE "group_users"."group_id" = ?[0m  [["group_id", 1]]
  ↳ app/views/groups/index.html.erb:18
  Rendered groups/index.html.erb within layouts/application (Duration: 6.5ms | Allocations: 1805)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.4ms | Allocations: 726)
  Rendered searches/_search_window.html.erb (Duration: 0.3ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 11.3ms | Allocations: 6521)
Completed 200 OK in 19ms (Views: 13.1ms | ActiveRecord: 0.8ms | Allocations: 9079)


Started GET "/groups/new" for ::1 at 2024-05-07 15:22:39 +0900
Processing by GroupsController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering groups/new.html.erb within layouts/application
  Rendered groups/new.html.erb within layouts/application (Duration: 1.0ms | Allocations: 329)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.6ms | Allocations: 725)
  Rendered searches/_search_window.html.erb (Duration: 0.4ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 10.2ms | Allocations: 5150)
Completed 200 OK in 21ms (Views: 11.3ms | ActiveRecord: 0.2ms | Allocations: 8090)


Started GET "/users/3" for ::1 at 2024-05-07 15:22:44 +0900
Processing by UsersController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:6:in `show'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 3], ["created_at", "2024-05-07 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:9:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 3], ["created_at", "2024-05-06 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:10:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 3], ["created_at", "2024-05-05 00:00:00"], ["created_at", "2024-05-05 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:11:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 3], ["created_at", "2024-05-04 00:00:00"], ["created_at", "2024-05-04 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:12:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 3], ["created_at", "2024-05-03 00:00:00"], ["created_at", "2024-05-03 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:13:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 3], ["created_at", "2024-05-02 00:00:00"], ["created_at", "2024-05-02 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:14:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 3], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-01 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:15:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 3], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:22:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 3], ["created_at", "2024-04-23 00:00:00"], ["created_at", "2024-04-30 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:23:in `show'
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 3]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?)[0m  [["book_id", 3], ["book_id", 4], ["book_id", 5]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ?[0m  [["id", 3]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  [1m[36mEntry Load (0.0ms)[0m  [1m[34mSELECT "entries".* FROM "entries" WHERE "entries"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/users_controller.rb:38:in `show'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 3.2ms | Allocations: 2706)
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_follow_btn.html.erb (Duration: 1.1ms | Allocations: 1030)
  [1m[36mCACHE Relationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 3], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.7ms | Allocations: 1796)
  Rendered books/_newbook.html.erb (Duration: 1.9ms | Allocations: 2055)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.2ms | Allocations: 1994)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.4ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/users/_userbooks.html.erb:36
  Rendered users/_userbooks.html.erb (Duration: 12.5ms | Allocations: 13869)
  Rendered users/_count_search.html.erb (Duration: 0.4ms | Allocations: 181)
  Rendered users/show.html.erb within layouts/application (Duration: 24.7ms | Allocations: 23618)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 738)
  Rendered searches/_search_window.html.erb (Duration: 0.3ms | Allocations: 1656)
  Rendered layout layouts/application.html.erb (Duration: 28.0ms | Allocations: 28313)
Completed 200 OK in 56ms (Views: 27.4ms | ActiveRecord: 2.5ms | Allocations: 49438)


Started GET "/users" for ::1 at 2024-05-07 15:22:47 +0900
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 8.3ms | Allocations: 2378)
  Rendered users/_follow_btn.html.erb (Duration: 0.1ms | Allocations: 40)
  [1m[36mRelationship Load (0.2ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 3.7ms | Allocations: 966)
  Rendered books/_newbook.html.erb (Duration: 3.8ms | Allocations: 2009)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:22
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/index.html.erb:28
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/index.html.erb:29
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/index.html.erb:28
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/index.html.erb:29
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/index.html.erb:28
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/index.html.erb:29
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/index.html.erb within layouts/application (Duration: 29.8ms | Allocations: 14513)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 725)
  Rendered searches/_search_window.html.erb (Duration: 0.4ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 34.1ms | Allocations: 19208)
Completed 200 OK in 39ms (Views: 33.3ms | ActiveRecord: 1.6ms | Allocations: 21096)


Started GET "/groups" for ::1 at 2024-05-07 15:22:53 +0900
Processing by GroupsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering groups/index.html.erb within layouts/application
  [1m[36mGroup Load (0.2ms)[0m  [1m[34mSELECT "groups".* FROM "groups" ORDER BY "groups"."updated_at" DESC[0m
  ↳ app/views/groups/index.html.erb:12
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "group_users" ON "users"."id" = "group_users"."user_id" WHERE "group_users"."group_id" = ?[0m  [["group_id", 1]]
  ↳ app/views/groups/index.html.erb:18
  Rendered groups/index.html.erb within layouts/application (Duration: 8.2ms | Allocations: 1823)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.5ms | Allocations: 725)
  Rendered searches/_search_window.html.erb (Duration: 0.4ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 15.4ms | Allocations: 6629)
Completed 200 OK in 21ms (Views: 15.7ms | ActiveRecord: 0.7ms | Allocations: 8285)


Started GET "/groups/1" for ::1 at 2024-05-07 15:22:55 +0900
Processing by GroupsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGroup Load (0.2ms)[0m  [1m[34mSELECT "groups".* FROM "groups" WHERE "groups"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:20:in `show'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:21:in `show'
  Rendering layout layouts/application.html.erb
  Rendering groups/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 3.4ms | Allocations: 2301)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "group_users" ON "users"."id" = "group_users"."user_id" WHERE "group_users"."group_id" = ?[0m  [["group_id", 1]]
  ↳ app/views/groups/show.html.erb:21
  Rendered groups/show.html.erb within layouts/application (Duration: 6.2ms | Allocations: 3491)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.2ms | Allocations: 725)
  Rendered searches/_search_window.html.erb (Duration: 0.3ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 9.5ms | Allocations: 8206)
Completed 200 OK in 22ms (Views: 9.7ms | ActiveRecord: 0.7ms | Allocations: 11849)


Started GET "/groups/1/new/mail" for ::1 at 2024-05-07 15:22:58 +0900
Processing by GroupsController#mail_new as HTML
  Parameters: {"group_id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGroup Load (0.2ms)[0m  [1m[34mSELECT "groups".* FROM "groups" WHERE "groups"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:59:in `mail_new'
  Rendering layout layouts/application.html.erb
  Rendering groups/mail_new.html.erb within layouts/application
  Rendered groups/mail_new.html.erb within layouts/application (Duration: 3.3ms | Allocations: 2241)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.5ms | Allocations: 733)
  Rendered searches/_search_window.html.erb (Duration: 0.5ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 11.7ms | Allocations: 6865)
Completed 200 OK in 27ms (Views: 16.3ms | ActiveRecord: 0.4ms | Allocations: 10126)


Started GET "/groups/1/send/mail?mail_title=aa&mail_content=aaa&commit=%E9%80%81%E4%BF%A1" for ::1 at 2024-05-07 15:23:05 +0900
Processing by GroupsController#mail_send as HTML
  Parameters: {"mail_title"=>"aa", "mail_content"=>"aaa", "commit"=>"送信", "group_id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGroup Load (0.0ms)[0m  [1m[34mSELECT "groups".* FROM "groups" WHERE "groups"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:63:in `mail_send'
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.1ms | Allocations: 5163)


  
NameError (uninitialized constant GroupsController::ContactMailer

    ContactMailer.send_mail(@mail_title, @mail_content, group_users).deliver
    ^^^^^^^^^^^^^
Did you mean?  ActionMailer):
  
app/controllers/groups_controller.rb:67:in `mail_send'
Started GET "/groups/1/new/mail" for ::1 at 2024-05-07 15:23:14 +0900
Processing by GroupsController#mail_new as HTML
  Parameters: {"group_id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGroup Load (0.2ms)[0m  [1m[34mSELECT "groups".* FROM "groups" WHERE "groups"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:59:in `mail_new'
  Rendering layout layouts/application.html.erb
  Rendering groups/mail_new.html.erb within layouts/application
  Rendered groups/mail_new.html.erb within layouts/application (Duration: 1.5ms | Allocations: 2090)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 1.2ms | Allocations: 739)
  Rendered searches/_search_window.html.erb (Duration: 0.6ms | Allocations: 1656)
  Rendered layout layouts/application.html.erb (Duration: 10.3ms | Allocations: 6787)
Completed 200 OK in 19ms (Views: 10.9ms | ActiveRecord: 0.4ms | Allocations: 9219)


Started GET "/groups/1" for ::1 at 2024-05-07 15:23:16 +0900
Processing by GroupsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGroup Load (0.0ms)[0m  [1m[34mSELECT "groups".* FROM "groups" WHERE "groups"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:20:in `show'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:21:in `show'
  Rendering layout layouts/application.html.erb
  Rendering groups/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 2.7ms | Allocations: 2368)
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "group_users" ON "users"."id" = "group_users"."user_id" WHERE "group_users"."group_id" = ?[0m  [["group_id", 1]]
  ↳ app/views/groups/show.html.erb:21
  Rendered groups/show.html.erb within layouts/application (Duration: 3.7ms | Allocations: 3472)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.4ms | Allocations: 725)
  Rendered searches/_search_window.html.erb (Duration: 0.2ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 20.1ms | Allocations: 8188)
Completed 200 OK in 24ms (Views: 20.3ms | ActiveRecord: 0.4ms | Allocations: 11110)


Started GET "/groups/1/edit" for ::1 at 2024-05-07 15:23:18 +0900
Processing by GroupsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGroup Load (0.2ms)[0m  [1m[34mSELECT "groups".* FROM "groups" WHERE "groups"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:27:in `edit'
  Rendering layout layouts/application.html.erb
  Rendering groups/edit.html.erb within layouts/application
  Rendered groups/edit.html.erb within layouts/application (Duration: 1.2ms | Allocations: 393)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 1.0ms | Allocations: 724)
  Rendered searches/_search_window.html.erb (Duration: 1.0ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 10.0ms | Allocations: 5205)
Completed 200 OK in 17ms (Views: 10.6ms | ActiveRecord: 0.4ms | Allocations: 7531)


Started DELETE "/users/sign_out" for ::1 at 2024-05-07 15:24:41 +0900
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 7ms (ActiveRecord: 0.1ms | Allocations: 3433)


Started GET "/" for ::1 at 2024-05-07 15:24:41 +0900
Processing by HomesController#top as HTML
  Rendering layout layouts/application.html.erb
  Rendering homes/top.html.erb within layouts/application
  Rendered homes/top.html.erb within layouts/application (Duration: 0.1ms | Allocations: 106)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 1.2ms | Allocations: 328)
  Rendered layout layouts/application.html.erb (Duration: 7.0ms | Allocations: 2811)
Completed 200 OK in 7ms (Views: 7.2ms | ActiveRecord: 0.0ms | Allocations: 3286)


Started GET "/users/sign_in" for ::1 at 2024-05-07 15:24:42 +0900
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 1.4ms | Allocations: 955)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 5.2ms | Allocations: 2949)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.2ms | Allocations: 249)
  Rendered layout layouts/application.html.erb (Duration: 10.1ms | Allocations: 5834)
Completed 200 OK in 17ms (Views: 15.7ms | ActiveRecord: 0.0ms | Allocations: 7685)


Started GET "/users/sign_up" for ::1 at 2024-05-07 15:24:44 +0900
Processing by Devise::RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (Duration: 0.5ms | Allocations: 235)
  Rendered devise/shared/_links.html.erb (Duration: 0.2ms | Allocations: 197)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 4.0ms | Allocations: 2466)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.2ms | Allocations: 246)
  Rendered layout layouts/application.html.erb (Duration: 7.5ms | Allocations: 5272)
Completed 200 OK in 14ms (Views: 12.9ms | ActiveRecord: 0.0ms | Allocations: 6929)


Started POST "/users" for ::1 at 2024-05-07 15:24:56 +0900
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"name"=>"eee", "email"=>"ryutaromaeda83+20240507152451@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ryutaromaeda83+20240507152451@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "eee"], ["LIMIT", 1]]
  [1m[36mUser Create (1.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["email", "ryutaromaeda83+20240507152451@gmail.com"], ["encrypted_password", "$2a$12$/xQQ9bEKPwnkrSPdFdUCKeJ5hcFvzN.1xaQ8uNbpw.gO0jphdoI/S"], ["name", "eee"], ["created_at", "2024-05-07 06:24:56.802968"], ["updated_at", "2024-05-07 06:24:56.802968"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/users/4
Completed 302 Found in 322ms (ActiveRecord: 2.8ms | Allocations: 10246)


Started GET "/users/4" for ::1 at 2024-05-07 15:24:56 +0900
Processing by UsersController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:6:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 4], ["created_at", "2024-05-07 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:9:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 4], ["created_at", "2024-05-06 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:10:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 4], ["created_at", "2024-05-05 00:00:00"], ["created_at", "2024-05-05 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:11:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 4], ["created_at", "2024-05-04 00:00:00"], ["created_at", "2024-05-04 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:12:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 4], ["created_at", "2024-05-03 00:00:00"], ["created_at", "2024-05-03 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:13:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 4], ["created_at", "2024-05-02 00:00:00"], ["created_at", "2024-05-02 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:14:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 4], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-01 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:15:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 4], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:22:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 4], ["created_at", "2024-04-23 00:00:00"], ["created_at", "2024-04-30 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:23:in `show'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 4]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 4]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 4]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 1.8ms | Allocations: 2353)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 40)
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 4], ["follower_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 0.8ms | Allocations: 964)
  Rendered books/_newbook.html.erb (Duration: 2.7ms | Allocations: 2026)
  Rendered users/_userbooks.html.erb (Duration: 0.0ms | Allocations: 38)
  Rendered users/_count_search.html.erb (Duration: 0.0ms | Allocations: 38)
  Rendered users/show.html.erb within layouts/application (Duration: 6.0ms | Allocations: 6517)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 3.5ms | Allocations: 726)
  Rendered searches/_search_window.html.erb (Duration: 8.0ms | Allocations: 1656)
  Rendered layout layouts/application.html.erb (Duration: 29.0ms | Allocations: 11155)
Completed 200 OK in 41ms (Views: 32.1ms | ActiveRecord: 0.7ms | Allocations: 22035)


Started GET "/books" for ::1 at 2024-05-07 15:24:59 +0900
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/books_controller.rb:32:in `sort'
  [1m[36mFavorite Load (1.9ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3], ["book_id", 4], ["book_id", 5]]
  ↳ app/controllers/books_controller.rb:32:in `sort'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 2], ["id", 3]]
  ↳ app/controllers/books_controller.rb:32:in `sort'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 2], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 3], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 3], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 2], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 4], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 5], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 4], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 4]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 4]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 3.2ms | Allocations: 2298)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 40)
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 4], ["follower_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 0.7ms | Allocations: 964)
  Rendered books/_newbook.html.erb (Duration: 2.2ms | Allocations: 1877)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 4], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.1ms | Allocations: 1980)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 4], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.5ms | Allocations: 1909)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 4], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.0ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 4], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.0ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 4], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:79
  Rendered books/_index.html.erb (Duration: 28.2ms | Allocations: 31882)
  Rendered books/index.html.erb within layouts/application (Duration: 34.6ms | Allocations: 37418)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 725)
  Rendered searches/_search_window.html.erb (Duration: 0.3ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 41.2ms | Allocations: 42112)
Completed 200 OK in 67ms (Views: 40.1ms | ActiveRecord: 4.3ms | Allocations: 56064)


Started GET "/users" for ::1 at 2024-05-07 15:25:02 +0900
Processing by UsersController#index as HTML
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 4]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 4]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 2.8ms | Allocations: 2298)
  Rendered users/_follow_btn.html.erb (Duration: 0.1ms | Allocations: 40)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 4], ["follower_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.3ms | Allocations: 964)
  Rendered books/_newbook.html.erb (Duration: 1.8ms | Allocations: 1869)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:22
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/index.html.erb:28
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/index.html.erb:29
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 4], ["follower_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/index.html.erb:28
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/index.html.erb:29
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 4], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/index.html.erb:28
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/index.html.erb:29
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 4], ["follower_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 4]]
  ↳ app/views/users/index.html.erb:28
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 4]]
  ↳ app/views/users/index.html.erb:29
  Rendered users/index.html.erb within layouts/application (Duration: 15.4ms | Allocations: 17291)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.4ms | Allocations: 724)
  Rendered searches/_search_window.html.erb (Duration: 0.4ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 19.4ms | Allocations: 21984)
Completed 200 OK in 30ms (Views: 18.9ms | ActiveRecord: 3.3ms | Allocations: 23656)


Started GET "/groups" for ::1 at 2024-05-07 15:25:03 +0900
Processing by GroupsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering groups/index.html.erb within layouts/application
  [1m[36mGroup Load (0.5ms)[0m  [1m[34mSELECT "groups".* FROM "groups" ORDER BY "groups"."updated_at" DESC[0m
  ↳ app/views/groups/index.html.erb:12
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "group_users" ON "users"."id" = "group_users"."user_id" WHERE "group_users"."group_id" = ?[0m  [["group_id", 1]]
  ↳ app/views/groups/index.html.erb:18
  Rendered groups/index.html.erb within layouts/application (Duration: 13.2ms | Allocations: 1802)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 725)
  Rendered searches/_search_window.html.erb (Duration: 0.3ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 17.6ms | Allocations: 6611)
Completed 200 OK in 26ms (Views: 17.4ms | ActiveRecord: 0.9ms | Allocations: 9042)


Started GET "/groups/1" for ::1 at 2024-05-07 15:25:05 +0900
Processing by GroupsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mGroup Load (0.2ms)[0m  [1m[34mSELECT "groups".* FROM "groups" WHERE "groups"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:20:in `show'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:21:in `show'
  Rendering layout layouts/application.html.erb
  Rendering groups/show.html.erb within layouts/application
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 4]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 4]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 8.1ms | Allocations: 2298)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "group_users" ON "users"."id" = "group_users"."user_id" WHERE "group_users"."group_id" = ?[0m  [["group_id", 1]]
  ↳ app/views/groups/show.html.erb:21
  Rendered groups/show.html.erb within layouts/application (Duration: 9.7ms | Allocations: 3413)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 724)
  Rendered searches/_search_window.html.erb (Duration: 0.3ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 13.0ms | Allocations: 8127)
Completed 200 OK in 29ms (Views: 12.0ms | ActiveRecord: 2.2ms | Allocations: 11049)


Started GET "/groups/1/groupcreate" for ::1 at 2024-05-07 15:25:06 +0900
Processing by GroupsController#groupcreate as HTML
  Parameters: {"group_id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/groups_controller.rb:42:in `groupcreate'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:42:in `groupcreate'
  [1m[36mGroup Load (0.0ms)[0m  [1m[34mSELECT "groups".* FROM "groups" WHERE "groups"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:42:in `groupcreate'
  [1m[36mGroupUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "group_users" WHERE "group_users"."group_id" = ? AND "group_users"."user_id" = ? LIMIT ?[0m  [["group_id", 1], ["user_id", 4], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:42:in `groupcreate'
  [1m[36mGroupUser Create (0.2ms)[0m  [1m[32mINSERT INTO "group_users" ("user_id", "group_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 4], ["group_id", 1], ["created_at", "2024-05-07 06:25:06.639938"], ["updated_at", "2024-05-07 06:25:06.639938"]]
  ↳ app/controllers/groups_controller.rb:42:in `groupcreate'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/groups_controller.rb:42:in `groupcreate'
Redirected to http://localhost:3000/groups/1
Completed 302 Found in 24ms (ActiveRecord: 1.8ms | Allocations: 8248)


Started GET "/groups/1" for ::1 at 2024-05-07 15:25:06 +0900
Processing by GroupsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mGroup Load (0.0ms)[0m  [1m[34mSELECT "groups".* FROM "groups" WHERE "groups"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:20:in `show'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:21:in `show'
  Rendering layout layouts/application.html.erb
  Rendering groups/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 4]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 4]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 2.7ms | Allocations: 3286)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "group_users" ON "users"."id" = "group_users"."user_id" WHERE "group_users"."group_id" = ?[0m  [["group_id", 1]]
  ↳ app/views/groups/show.html.erb:21
  Rendered groups/show.html.erb within layouts/application (Duration: 4.5ms | Allocations: 5089)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.4ms | Allocations: 724)
  Rendered searches/_search_window.html.erb (Duration: 0.3ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 9.7ms | Allocations: 15965)
Completed 200 OK in 12ms (Views: 9.7ms | ActiveRecord: 0.3ms | Allocations: 18782)


Started GET "/groups/1/new/mail" for ::1 at 2024-05-07 15:25:09 +0900
Processing by GroupsController#mail_new as HTML
  Parameters: {"group_id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mGroup Load (0.1ms)[0m  [1m[34mSELECT "groups".* FROM "groups" WHERE "groups"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:59:in `mail_new'
  Rendering layout layouts/application.html.erb
  Rendering groups/mail_new.html.erb within layouts/application
  Rendered groups/mail_new.html.erb within layouts/application (Duration: 0.7ms | Allocations: 2035)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 733)
  Rendered searches/_search_window.html.erb (Duration: 0.3ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 4.5ms | Allocations: 6659)
Completed 200 OK in 12ms (Views: 5.0ms | ActiveRecord: 0.3ms | Allocations: 8951)


Started GET "/groups/1/new/mail" for ::1 at 2024-05-07 15:25:57 +0900
Processing by GroupsController#mail_new as HTML
  Parameters: {"group_id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mGroup Load (0.2ms)[0m  [1m[34mSELECT "groups".* FROM "groups" WHERE "groups"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:59:in `mail_new'
  Rendering layout layouts/application.html.erb
  Rendering groups/mail_new.html.erb within layouts/application
  Rendered groups/mail_new.html.erb within layouts/application (Duration: 3.0ms | Allocations: 2071)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 733)
  Rendered searches/_search_window.html.erb (Duration: 0.3ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 14.3ms | Allocations: 7585)
Completed 200 OK in 31ms (Views: 21.1ms | ActiveRecord: 0.4ms | Allocations: 9782)


Started GET "/groups/1/send/mail?mail_title=ddd&mail_content=ddd&commit=%E9%80%81%E4%BF%A1" for ::1 at 2024-05-07 15:26:01 +0900
Processing by GroupsController#mail_send as HTML
  Parameters: {"mail_title"=>"ddd", "mail_content"=>"ddd", "commit"=>"送信", "group_id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mGroup Load (0.0ms)[0m  [1m[34mSELECT "groups".* FROM "groups" WHERE "groups"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:63:in `mail_send'
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.1ms | Allocations: 5084)


  
NameError (uninitialized constant GroupsController::ContactMailer

    ContactMailer.send_mail(@mail_title, @mail_content, group_users).deliver
    ^^^^^^^^^^^^^
Did you mean?  ActionMailer):
  
app/controllers/groups_controller.rb:67:in `mail_send'
Started GET "/groups/1/new/mail" for ::1 at 2024-05-07 15:31:19 +0900
Processing by GroupsController#mail_new as HTML
  Parameters: {"group_id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mGroup Load (0.1ms)[0m  [1m[34mSELECT "groups".* FROM "groups" WHERE "groups"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:59:in `mail_new'
  Rendering layout layouts/application.html.erb
  Rendering groups/mail_new.html.erb within layouts/application
  Rendered groups/mail_new.html.erb within layouts/application (Duration: 1.4ms | Allocations: 2035)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.5ms | Allocations: 733)
  Rendered searches/_search_window.html.erb (Duration: 0.5ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 11.2ms | Allocations: 6657)
Completed 200 OK in 21ms (Views: 11.7ms | ActiveRecord: 0.4ms | Allocations: 8840)


Started GET "/users" for ::1 at 2024-05-07 15:31:21 +0900
Processing by UsersController#index as HTML
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 4]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 4]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 4.0ms | Allocations: 2298)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 40)
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 4], ["follower_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 2.1ms | Allocations: 964)
  Rendered books/_newbook.html.erb (Duration: 3.7ms | Allocations: 1883)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:22
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/index.html.erb:28
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/index.html.erb:29
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 4], ["follower_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/index.html.erb:28
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/index.html.erb:29
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 4], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/index.html.erb:28
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/index.html.erb:29
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 4], ["follower_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 4]]
  ↳ app/views/users/index.html.erb:28
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 4]]
  ↳ app/views/users/index.html.erb:29
  Rendered users/index.html.erb within layouts/application (Duration: 23.4ms | Allocations: 17305)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.4ms | Allocations: 725)
  Rendered searches/_search_window.html.erb (Duration: 0.6ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 27.6ms | Allocations: 21999)
Completed 200 OK in 36ms (Views: 28.6ms | ActiveRecord: 2.2ms | Allocations: 23670)


Started GET "/users/4/edit" for ::1 at 2024-05-07 15:31:26 +0900
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Load (2.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:104:in `baria_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:75:in `edit'
  Rendering layout layouts/application.html.erb
  Rendering users/edit.html.erb within layouts/application
  Rendered users/edit.html.erb within layouts/application (Duration: 3.1ms | Allocations: 1200)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 725)
  Rendered searches/_search_window.html.erb (Duration: 0.5ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 7.8ms | Allocations: 6843)
Completed 200 OK in 23ms (Views: 8.9ms | ActiveRecord: 2.9ms | Allocations: 9695)


Started GET "/books" for ::1 at 2024-05-07 15:31:28 +0900
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/books_controller.rb:32:in `sort'
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3], ["book_id", 4], ["book_id", 5]]
  ↳ app/controllers/books_controller.rb:32:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 2], ["id", 3]]
  ↳ app/controllers/books_controller.rb:32:in `sort'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 2], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 3], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 3], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 2], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 4], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 5], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 4], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 4]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 4]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 2.0ms | Allocations: 2298)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 40)
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 4], ["follower_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 0.8ms | Allocations: 964)
  Rendered books/_newbook.html.erb (Duration: 1.6ms | Allocations: 1864)
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 4], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1980)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 4], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 1909)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 4], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 4], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.5ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 4], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:79
  Rendered books/_index.html.erb (Duration: 26.6ms | Allocations: 31864)
  Rendered books/index.html.erb within layouts/application (Duration: 31.3ms | Allocations: 37387)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.2ms | Allocations: 724)
  Rendered searches/_search_window.html.erb (Duration: 0.4ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 35.1ms | Allocations: 42080)
Completed 200 OK in 52ms (Views: 34.1ms | ActiveRecord: 2.3ms | Allocations: 56008)


Started GET "/tags/search?word=tag" for ::1 at 2024-05-07 15:31:31 +0900
Processing by TagsController#search as HTML
  Parameters: {"word"=>"tag"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering tags/search.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "tag_books" ON "tag_books"."book_id" = "books"."id" INNER JOIN "tags" ON "tags"."id" = "tag_books"."tag_id" WHERE (tags.name LIKE '%tag%')[0m
  ↳ app/views/tags/search.html.erb:2
  Rendered tags/search.html.erb within layouts/application (Duration: 2.0ms | Allocations: 1354)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.4ms | Allocations: 827)
  Rendered searches/_search_window.html.erb (Duration: 0.4ms | Allocations: 1666)
  Rendered layout layouts/application.html.erb (Duration: 5.6ms | Allocations: 6350)
Completed 200 OK in 19ms (Views: 9.7ms | ActiveRecord: 0.3ms | Allocations: 9744)


Started GET "/" for ::1 at 2024-05-07 15:31:33 +0900
Processing by HomesController#top as HTML
  Rendering layout layouts/application.html.erb
  Rendering homes/top.html.erb within layouts/application
  Rendered homes/top.html.erb within layouts/application (Duration: 1.1ms | Allocations: 99)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/layouts/_header.html.erb:9
  Rendered layouts/_header.html.erb (Duration: 4.4ms | Allocations: 1713)
  Rendered searches/_search_window.html.erb (Duration: 0.9ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 14.2ms | Allocations: 5904)
Completed 200 OK in 16ms (Views: 15.1ms | ActiveRecord: 0.2ms | Allocations: 6392)


Started GET "/" for ::1 at 2024-05-07 19:08:50 +0900
  [1m[35m (0.8ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by HomesController#top as HTML
  Rendering layout layouts/application.html.erb
  Rendering homes/top.html.erb within layouts/application
  Rendered homes/top.html.erb within layouts/application (Duration: 1.1ms | Allocations: 1089)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/layouts/_header.html.erb:9
  Rendered layouts/_header.html.erb (Duration: 9.7ms | Allocations: 9651)
  Rendered searches/_search_window.html.erb (Duration: 1.6ms | Allocations: 2095)
  Rendered layout layouts/application.html.erb (Duration: 38.0ms | Allocations: 21298)
Completed 200 OK in 49ms (Views: 40.2ms | ActiveRecord: 0.6ms | Allocations: 26352)


Started GET "/" for ::1 at 2024-05-07 19:08:52 +0900
Processing by HomesController#top as HTML
  Rendering layout layouts/application.html.erb
  Rendering homes/top.html.erb within layouts/application
  Rendered homes/top.html.erb within layouts/application (Duration: 0.4ms | Allocations: 119)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/layouts/_header.html.erb:9
  Rendered layouts/_header.html.erb (Duration: 1.9ms | Allocations: 1854)
  Rendered searches/_search_window.html.erb (Duration: 0.4ms | Allocations: 1656)
  Rendered layout layouts/application.html.erb (Duration: 15.8ms | Allocations: 6041)
Completed 200 OK in 18ms (Views: 16.4ms | ActiveRecord: 0.1ms | Allocations: 6555)


Started GET "/users" for ::1 at 2024-05-07 19:09:28 +0900
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 4]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 4]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 11.4ms | Allocations: 7830)
  Rendered users/_follow_btn.html.erb (Duration: 0.6ms | Allocations: 246)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 4], ["follower_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 2.1ms | Allocations: 1519)
  Rendered books/_newbook.html.erb (Duration: 37.0ms | Allocations: 12004)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:22
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/index.html.erb:28
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/index.html.erb:29
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 4], ["follower_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/index.html.erb:28
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/index.html.erb:29
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 4], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/index.html.erb:28
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/index.html.erb:29
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 4], ["follower_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 4]]
  ↳ app/views/users/index.html.erb:28
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 4]]
  ↳ app/views/users/index.html.erb:29
  Rendered users/index.html.erb within layouts/application (Duration: 64.4ms | Allocations: 35109)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 753)
  Rendered searches/_search_window.html.erb (Duration: 0.4ms | Allocations: 1666)
  Rendered layout layouts/application.html.erb (Duration: 70.4ms | Allocations: 39859)
Completed 200 OK in 82ms (Views: 69.6ms | ActiveRecord: 2.2ms | Allocations: 52040)


Started GET "/groups" for ::1 at 2024-05-07 19:09:29 +0900
Processing by GroupsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering groups/index.html.erb within layouts/application
  [1m[36mGroup Load (0.5ms)[0m  [1m[34mSELECT "groups".* FROM "groups" ORDER BY "groups"."updated_at" DESC[0m
  ↳ app/views/groups/index.html.erb:12
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "group_users" ON "users"."id" = "group_users"."user_id" WHERE "group_users"."group_id" = ?[0m  [["group_id", 1]]
  ↳ app/views/groups/index.html.erb:18
  Rendered groups/index.html.erb within layouts/application (Duration: 8.0ms | Allocations: 8931)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.4ms | Allocations: 798)
  Rendered searches/_search_window.html.erb (Duration: 0.5ms | Allocations: 1666)
  Rendered layout layouts/application.html.erb (Duration: 12.1ms | Allocations: 13821)
Completed 200 OK in 18ms (Views: 12.3ms | ActiveRecord: 1.2ms | Allocations: 19434)


Started GET "/groups/1" for ::1 at 2024-05-07 19:09:31 +0900
Processing by GroupsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mGroup Load (0.2ms)[0m  [1m[34mSELECT "groups".* FROM "groups" WHERE "groups"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:20:in `show'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:21:in `show'
  Rendering layout layouts/application.html.erb
  Rendering groups/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 4]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 4]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 2.2ms | Allocations: 2323)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "group_users" ON "users"."id" = "group_users"."user_id" WHERE "group_users"."group_id" = ?[0m  [["group_id", 1]]
  ↳ app/views/groups/show.html.erb:21
  Rendered groups/show.html.erb within layouts/application (Duration: 4.0ms | Allocations: 4255)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 724)
  Rendered searches/_search_window.html.erb (Duration: 0.4ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 7.6ms | Allocations: 8970)
Completed 200 OK in 31ms (Views: 7.6ms | ActiveRecord: 0.9ms | Allocations: 13347)


Started GET "/groups/1" for ::1 at 2024-05-07 19:09:37 +0900
Processing by GroupsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mGroup Load (0.1ms)[0m  [1m[34mSELECT "groups".* FROM "groups" WHERE "groups"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:20:in `show'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:21:in `show'
  Rendering layout layouts/application.html.erb
  Rendering groups/show.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 4]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 4]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 2.6ms | Allocations: 2298)
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "group_users" ON "users"."id" = "group_users"."user_id" WHERE "group_users"."group_id" = ?[0m  [["group_id", 1]]
  ↳ app/views/groups/show.html.erb:21
  Rendered groups/show.html.erb within layouts/application (Duration: 3.6ms | Allocations: 3421)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.2ms | Allocations: 724)
  Rendered searches/_search_window.html.erb (Duration: 4.0ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 10.6ms | Allocations: 8135)
Completed 200 OK in 18ms (Views: 10.5ms | ActiveRecord: 0.5ms | Allocations: 10947)


Started GET "/users" for ::1 at 2024-05-07 19:09:56 +0900
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 4]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 4]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 2.7ms | Allocations: 2300)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 40)
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 4], ["follower_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.0ms | Allocations: 967)
  Rendered books/_newbook.html.erb (Duration: 1.8ms | Allocations: 2018)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:22
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/index.html.erb:28
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/index.html.erb:29
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 4], ["follower_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/index.html.erb:28
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/index.html.erb:29
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 4], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/index.html.erb:28
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/index.html.erb:29
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 4], ["follower_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 4]]
  ↳ app/views/users/index.html.erb:28
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 4]]
  ↳ app/views/users/index.html.erb:29
  Rendered users/index.html.erb within layouts/application (Duration: 15.5ms | Allocations: 17447)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 725)
  Rendered searches/_search_window.html.erb (Duration: 0.4ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 19.1ms | Allocations: 22141)
Completed 200 OK in 34ms (Views: 18.3ms | ActiveRecord: 1.2ms | Allocations: 23820)


Started GET "/groups" for ::1 at 2024-05-07 19:09:57 +0900
Processing by GroupsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering groups/index.html.erb within layouts/application
  [1m[36mGroup Load (0.4ms)[0m  [1m[34mSELECT "groups".* FROM "groups" ORDER BY "groups"."updated_at" DESC[0m
  ↳ app/views/groups/index.html.erb:12
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "group_users" ON "users"."id" = "group_users"."user_id" WHERE "group_users"."group_id" = ?[0m  [["group_id", 1]]
  ↳ app/views/groups/index.html.erb:18
  Rendered groups/index.html.erb within layouts/application (Duration: 11.0ms | Allocations: 1782)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.6ms | Allocations: 725)
  Rendered searches/_search_window.html.erb (Duration: 0.8ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 16.6ms | Allocations: 6497)
Completed 200 OK in 22ms (Views: 16.1ms | ActiveRecord: 1.2ms | Allocations: 8149)


Started DELETE "/users/sign_out" for ::1 at 2024-05-07 19:10:09 +0900
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 5ms (ActiveRecord: 0.1ms | Allocations: 3765)


Started GET "/" for ::1 at 2024-05-07 19:10:09 +0900
Processing by HomesController#top as HTML
  Rendering layout layouts/application.html.erb
  Rendering homes/top.html.erb within layouts/application
  Rendered homes/top.html.erb within layouts/application (Duration: 0.1ms | Allocations: 106)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 1.1ms | Allocations: 328)
  Rendered layout layouts/application.html.erb (Duration: 4.3ms | Allocations: 2813)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.0ms | Allocations: 3289)


Started GET "/users/sign_in" for ::1 at 2024-05-07 19:10:10 +0900
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 1.9ms | Allocations: 959)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 10.1ms | Allocations: 3090)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.2ms | Allocations: 249)
  Rendered layout layouts/application.html.erb (Duration: 13.7ms | Allocations: 5838)
Completed 200 OK in 25ms (Views: 22.2ms | ActiveRecord: 0.0ms | Allocations: 8627)


Started POST "/users/sign_in" for ::1 at 2024-05-07 19:10:12 +0900
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"name"=>"test@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["name", "test@example.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 12ms (ActiveRecord: 0.9ms | Allocations: 2044)


Processing by Devise::SessionsController#new as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"name"=>"test@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.2ms | Allocations: 173)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1.2ms | Allocations: 1085)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.1ms | Allocations: 187)
  Rendered layout layouts/application.html.erb (Duration: 4.1ms | Allocations: 3761)
Completed 200 OK in 296ms (Views: 4.4ms | ActiveRecord: 0.0ms | Allocations: 5006)


Started GET "/users/sign_up" for ::1 at 2024-05-07 19:10:14 +0900
Processing by Devise::RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (Duration: 0.5ms | Allocations: 240)
  Rendered devise/shared/_links.html.erb (Duration: 0.3ms | Allocations: 197)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 3.1ms | Allocations: 2476)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.2ms | Allocations: 246)
  Rendered layout layouts/application.html.erb (Duration: 6.5ms | Allocations: 5160)
Completed 200 OK in 18ms (Views: 7.8ms | ActiveRecord: 0.0ms | Allocations: 7849)


Started POST "/users" for ::1 at 2024-05-07 19:10:22 +0900
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"name"=>"aaaaddd", "email"=>"ryutaromaeda83+20240507191016@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ryutaromaeda83+20240507191016@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "aaaaddd"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (Duration: 0.4ms | Allocations: 598)
  Rendered devise/shared/_links.html.erb (Duration: 0.2ms | Allocations: 114)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 1.9ms | Allocations: 2333)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.2ms | Allocations: 226)
  Rendered layout layouts/application.html.erb (Duration: 4.9ms | Allocations: 4932)
Completed 200 OK in 269ms (Views: 5.2ms | ActiveRecord: 1.2ms | Allocations: 13800)


Started POST "/users" for ::1 at 2024-05-07 19:10:29 +0900
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"name"=>"aaaadddfdsa", "email"=>"ryutaromaeda83+20240507191016@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ryutaromaeda83+20240507191016@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "aaaadddfdsa"], ["LIMIT", 1]]
  [1m[36mUser Create (1.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["email", "ryutaromaeda83+20240507191016@gmail.com"], ["encrypted_password", "$2a$12$MOYOs1pF6SH7MtXLHoaFOuY0ki8HAmn2Is/MsCBd4IxO139YAM.Nm"], ["name", "aaaadddfdsa"], ["created_at", "2024-05-07 10:10:29.386082"], ["updated_at", "2024-05-07 10:10:29.386082"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/users/5
Completed 302 Found in 267ms (ActiveRecord: 2.5ms | Allocations: 8261)


Started GET "/users/5" for ::1 at 2024-05-07 19:10:29 +0900
Processing by UsersController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:6:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 5], ["created_at", "2024-05-07 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:9:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 5], ["created_at", "2024-05-06 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:10:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 5], ["created_at", "2024-05-05 00:00:00"], ["created_at", "2024-05-05 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:11:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 5], ["created_at", "2024-05-04 00:00:00"], ["created_at", "2024-05-04 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:12:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 5], ["created_at", "2024-05-03 00:00:00"], ["created_at", "2024-05-03 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:13:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 5], ["created_at", "2024-05-02 00:00:00"], ["created_at", "2024-05-02 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:14:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 5], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-01 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:15:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 5], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:22:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 5], ["created_at", "2024-04-23 00:00:00"], ["created_at", "2024-04-30 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:23:in `show'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 5]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 5]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 2.2ms | Allocations: 2679)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 40)
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 5], ["follower_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 0.7ms | Allocations: 980)
  Rendered books/_newbook.html.erb (Duration: 5.4ms | Allocations: 2056)
  Rendered users/_userbooks.html.erb (Duration: 0.7ms | Allocations: 492)
  Rendered users/_count_search.html.erb (Duration: 0.4ms | Allocations: 181)
  Rendered users/show.html.erb within layouts/application (Duration: 12.6ms | Allocations: 8404)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 737)
  Rendered searches/_search_window.html.erb (Duration: 0.4ms | Allocations: 1656)
  Rendered layout layouts/application.html.erb (Duration: 16.3ms | Allocations: 13101)
Completed 200 OK in 29ms (Views: 16.4ms | ActiveRecord: 1.0ms | Allocations: 26343)


Started GET "/users" for ::1 at 2024-05-07 19:10:32 +0900
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 5]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 5]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 10.6ms | Allocations: 2377)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 40)
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 5], ["follower_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 0.8ms | Allocations: 966)
  Rendered books/_newbook.html.erb (Duration: 1.5ms | Allocations: 2014)
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:22
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/index.html.erb:28
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/index.html.erb:29
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 5], ["follower_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/index.html.erb:28
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/index.html.erb:29
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 5], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/index.html.erb:28
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/index.html.erb:29
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 5], ["follower_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 4]]
  ↳ app/views/users/index.html.erb:28
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 4]]
  ↳ app/views/users/index.html.erb:29
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 5], ["follower_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 5]]
  ↳ app/views/users/index.html.erb:28
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 5]]
  ↳ app/views/users/index.html.erb:29
  Rendered users/index.html.erb within layouts/application (Duration: 24.3ms | Allocations: 20540)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.4ms | Allocations: 724)
  Rendered searches/_search_window.html.erb (Duration: 0.3ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 28.5ms | Allocations: 25234)
Completed 200 OK in 35ms (Views: 28.1ms | ActiveRecord: 1.1ms | Allocations: 27122)


Started GET "/groups" for ::1 at 2024-05-07 19:10:34 +0900
Processing by GroupsController#index as HTML
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering groups/index.html.erb within layouts/application
  [1m[36mGroup Load (0.1ms)[0m  [1m[34mSELECT "groups".* FROM "groups" ORDER BY "groups"."updated_at" DESC[0m
  ↳ app/views/groups/index.html.erb:12
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "group_users" ON "users"."id" = "group_users"."user_id" WHERE "group_users"."group_id" = ?[0m  [["group_id", 1]]
  ↳ app/views/groups/index.html.erb:18
  Rendered groups/index.html.erb within layouts/application (Duration: 3.2ms | Allocations: 1877)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 725)
  Rendered searches/_search_window.html.erb (Duration: 0.3ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 9.4ms | Allocations: 6594)
Completed 200 OK in 25ms (Views: 9.5ms | ActiveRecord: 1.4ms | Allocations: 9052)


Started GET "/groups/1" for ::1 at 2024-05-07 19:10:35 +0900
Processing by GroupsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mGroup Load (0.1ms)[0m  [1m[34mSELECT "groups".* FROM "groups" WHERE "groups"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:20:in `show'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:21:in `show'
  Rendering layout layouts/application.html.erb
  Rendering groups/show.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 5]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 5]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 2.6ms | Allocations: 2298)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "group_users" ON "users"."id" = "group_users"."user_id" WHERE "group_users"."group_id" = ?[0m  [["group_id", 1]]
  ↳ app/views/groups/show.html.erb:21
  Rendered groups/show.html.erb within layouts/application (Duration: 3.7ms | Allocations: 3426)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.5ms | Allocations: 725)
  Rendered searches/_search_window.html.erb (Duration: 0.5ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 8.6ms | Allocations: 8141)
Completed 200 OK in 18ms (Views: 8.5ms | ActiveRecord: 1.5ms | Allocations: 10970)


Started GET "/groups/1/groupcreate" for ::1 at 2024-05-07 19:10:37 +0900
Processing by GroupsController#groupcreate as HTML
  Parameters: {"group_id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/groups_controller.rb:42:in `groupcreate'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:42:in `groupcreate'
  [1m[36mGroup Load (0.0ms)[0m  [1m[34mSELECT "groups".* FROM "groups" WHERE "groups"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:42:in `groupcreate'
  [1m[36mGroupUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "group_users" WHERE "group_users"."group_id" = ? AND "group_users"."user_id" = ? LIMIT ?[0m  [["group_id", 1], ["user_id", 5], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:42:in `groupcreate'
  [1m[36mGroupUser Create (0.3ms)[0m  [1m[32mINSERT INTO "group_users" ("user_id", "group_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 5], ["group_id", 1], ["created_at", "2024-05-07 10:10:37.223186"], ["updated_at", "2024-05-07 10:10:37.223186"]]
  ↳ app/controllers/groups_controller.rb:42:in `groupcreate'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/groups_controller.rb:42:in `groupcreate'
Redirected to http://localhost:3000/groups/1
Completed 302 Found in 24ms (ActiveRecord: 1.4ms | Allocations: 11729)


Started GET "/groups/1" for ::1 at 2024-05-07 19:10:37 +0900
Processing by GroupsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mGroup Load (0.0ms)[0m  [1m[34mSELECT "groups".* FROM "groups" WHERE "groups"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:20:in `show'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:21:in `show'
  Rendering layout layouts/application.html.erb
  Rendering groups/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 5]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 5]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 1.9ms | Allocations: 2367)
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "group_users" ON "users"."id" = "group_users"."user_id" WHERE "group_users"."group_id" = ?[0m  [["group_id", 1]]
  ↳ app/views/groups/show.html.erb:21
  Rendered groups/show.html.erb within layouts/application (Duration: 2.8ms | Allocations: 3511)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 740)
  Rendered searches/_search_window.html.erb (Duration: 0.4ms | Allocations: 1656)
  Rendered layout layouts/application.html.erb (Duration: 8.0ms | Allocations: 8311)
Completed 200 OK in 11ms (Views: 8.0ms | ActiveRecord: 0.3ms | Allocations: 11247)


  [1m[35m (0.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mGroup Load (0.2ms)[0m  [1m[34mSELECT "groups".* FROM "groups"[0m
  [1m[36mGroup Load (0.2ms)[0m  [1m[34mSELECT "groups".* FROM "groups" ORDER BY "groups"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mGroup Load (0.1ms)[0m  [1m[34mSELECT "groups".* FROM "groups" ORDER BY "groups"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Started GET "/groups/1" for ::1 at 2024-05-07 19:12:16 +0900
Processing by GroupsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mGroup Load (0.0ms)[0m  [1m[34mSELECT "groups".* FROM "groups" WHERE "groups"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:20:in `show'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:21:in `show'
  Rendering layout layouts/application.html.erb
  Rendering groups/show.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 5]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 5]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 2.5ms | Allocations: 2298)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "group_users" ON "users"."id" = "group_users"."user_id" WHERE "group_users"."group_id" = ?[0m  [["group_id", 1]]
  ↳ app/views/groups/show.html.erb:21
  Rendered groups/show.html.erb within layouts/application (Duration: 3.7ms | Allocations: 3435)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.5ms | Allocations: 724)
  Rendered searches/_search_window.html.erb (Duration: 0.2ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 20.2ms | Allocations: 8149)
Completed 200 OK in 23ms (Views: 20.1ms | ActiveRecord: 0.6ms | Allocations: 10957)


Started GET "/groups/1" for ::1 at 2024-05-07 19:12:18 +0900
Processing by GroupsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mGroup Load (0.1ms)[0m  [1m[34mSELECT "groups".* FROM "groups" WHERE "groups"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:20:in `show'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:21:in `show'
  Rendering layout layouts/application.html.erb
  Rendering groups/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 5]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 5]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 3.0ms | Allocations: 2776)
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "group_users" ON "users"."id" = "group_users"."user_id" WHERE "group_users"."group_id" = ?[0m  [["group_id", 1]]
  ↳ app/views/groups/show.html.erb:21
  Rendered groups/show.html.erb within layouts/application (Duration: 4.8ms | Allocations: 4483)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 1.0ms | Allocations: 1325)
  Rendered searches/_search_window.html.erb (Duration: 0.7ms | Allocations: 1863)
  Rendered layout layouts/application.html.erb (Duration: 11.8ms | Allocations: 10681)
Completed 200 OK in 17ms (Views: 12.8ms | ActiveRecord: 0.4ms | Allocations: 14496)


Started GET "/groups/1" for ::1 at 2024-05-07 19:12:19 +0900
Processing by GroupsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mGroup Load (0.2ms)[0m  [1m[34mSELECT "groups".* FROM "groups" WHERE "groups"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:20:in `show'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:21:in `show'
  Rendering layout layouts/application.html.erb
  Rendering groups/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 5]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 5]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 2.4ms | Allocations: 2298)
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "group_users" ON "users"."id" = "group_users"."user_id" WHERE "group_users"."group_id" = ?[0m  [["group_id", 1]]
  ↳ app/views/groups/show.html.erb:21
  Rendered groups/show.html.erb within layouts/application (Duration: 3.4ms | Allocations: 3435)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 724)
  Rendered searches/_search_window.html.erb (Duration: 0.3ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 7.6ms | Allocations: 8149)
Completed 200 OK in 21ms (Views: 7.8ms | ActiveRecord: 0.7ms | Allocations: 11049)


Started GET "/groups/1" for ::1 at 2024-05-07 19:12:19 +0900
Processing by GroupsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mGroup Load (0.1ms)[0m  [1m[34mSELECT "groups".* FROM "groups" WHERE "groups"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:20:in `show'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:21:in `show'
  Rendering layout layouts/application.html.erb
  Rendering groups/show.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 5]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 5]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 12.9ms | Allocations: 2298)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "group_users" ON "users"."id" = "group_users"."user_id" WHERE "group_users"."group_id" = ?[0m  [["group_id", 1]]
  ↳ app/views/groups/show.html.erb:21
  Rendered groups/show.html.erb within layouts/application (Duration: 16.5ms | Allocations: 3435)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.4ms | Allocations: 724)
  Rendered searches/_search_window.html.erb (Duration: 0.3ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 21.2ms | Allocations: 8149)
Completed 200 OK in 29ms (Views: 20.7ms | ActiveRecord: 1.6ms | Allocations: 10956)


Started GET "/groups/1" for ::1 at 2024-05-07 19:12:20 +0900
Processing by GroupsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mGroup Load (0.2ms)[0m  [1m[34mSELECT "groups".* FROM "groups" WHERE "groups"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:20:in `show'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:21:in `show'
  Rendering layout layouts/application.html.erb
  Rendering groups/show.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 5]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 5]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 10.2ms | Allocations: 2298)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "group_users" ON "users"."id" = "group_users"."user_id" WHERE "group_users"."group_id" = ?[0m  [["group_id", 1]]
  ↳ app/views/groups/show.html.erb:21
  Rendered groups/show.html.erb within layouts/application (Duration: 11.9ms | Allocations: 3435)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 725)
  Rendered searches/_search_window.html.erb (Duration: 0.4ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 15.8ms | Allocations: 8150)
Completed 200 OK in 27ms (Views: 15.7ms | ActiveRecord: 1.3ms | Allocations: 10958)


Started GET "/groups/1" for ::1 at 2024-05-07 19:12:21 +0900
Processing by GroupsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mGroup Load (0.7ms)[0m  [1m[34mSELECT "groups".* FROM "groups" WHERE "groups"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:20:in `show'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:21:in `show'
  Rendering layout layouts/application.html.erb
  Rendering groups/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 5]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 5]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 3.0ms | Allocations: 2298)
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "group_users" ON "users"."id" = "group_users"."user_id" WHERE "group_users"."group_id" = ?[0m  [["group_id", 1]]
  ↳ app/views/groups/show.html.erb:21
  Rendered groups/show.html.erb within layouts/application (Duration: 3.9ms | Allocations: 3435)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.4ms | Allocations: 725)
  Rendered searches/_search_window.html.erb (Duration: 0.2ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 7.3ms | Allocations: 8150)
Completed 200 OK in 19ms (Views: 7.5ms | ActiveRecord: 1.4ms | Allocations: 10960)


Started GET "/groups/1" for ::1 at 2024-05-07 19:12:22 +0900
Processing by GroupsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mGroup Load (0.2ms)[0m  [1m[34mSELECT "groups".* FROM "groups" WHERE "groups"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:20:in `show'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:21:in `show'
  Rendering layout layouts/application.html.erb
  Rendering groups/show.html.erb within layouts/application
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 5]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 5]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 11.1ms | Allocations: 2298)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "group_users" ON "users"."id" = "group_users"."user_id" WHERE "group_users"."group_id" = ?[0m  [["group_id", 1]]
  ↳ app/views/groups/show.html.erb:21
  Rendered groups/show.html.erb within layouts/application (Duration: 14.6ms | Allocations: 3435)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.5ms | Allocations: 724)
  Rendered searches/_search_window.html.erb (Duration: 0.3ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 19.3ms | Allocations: 8149)
Completed 200 OK in 28ms (Views: 18.6ms | ActiveRecord: 2.2ms | Allocations: 10956)


Started GET "/groups/1" for ::1 at 2024-05-07 19:12:23 +0900
Processing by GroupsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mGroup Load (0.1ms)[0m  [1m[34mSELECT "groups".* FROM "groups" WHERE "groups"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:20:in `show'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:21:in `show'
  Rendering layout layouts/application.html.erb
  Rendering groups/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 5]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 5]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 2.0ms | Allocations: 2298)
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "group_users" ON "users"."id" = "group_users"."user_id" WHERE "group_users"."group_id" = ?[0m  [["group_id", 1]]
  ↳ app/views/groups/show.html.erb:21
  Rendered groups/show.html.erb within layouts/application (Duration: 2.9ms | Allocations: 3435)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.5ms | Allocations: 724)
  Rendered searches/_search_window.html.erb (Duration: 0.8ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 9.9ms | Allocations: 8149)
Completed 200 OK in 20ms (Views: 10.0ms | ActiveRecord: 0.7ms | Allocations: 10956)


Started GET "/groups/1" for ::1 at 2024-05-07 19:12:24 +0900
Processing by GroupsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mGroup Load (0.0ms)[0m  [1m[34mSELECT "groups".* FROM "groups" WHERE "groups"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:20:in `show'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:21:in `show'
  Rendering layout layouts/application.html.erb
  Rendering groups/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 5]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 5]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 2.3ms | Allocations: 2298)
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "group_users" ON "users"."id" = "group_users"."user_id" WHERE "group_users"."group_id" = ?[0m  [["group_id", 1]]
  ↳ app/views/groups/show.html.erb:21
  Rendered groups/show.html.erb within layouts/application (Duration: 3.1ms | Allocations: 3435)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.4ms | Allocations: 725)
  Rendered searches/_search_window.html.erb (Duration: 0.3ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 6.9ms | Allocations: 8150)
Completed 200 OK in 18ms (Views: 6.9ms | ActiveRecord: 0.4ms | Allocations: 10961)


Started GET "/groups/1" for ::1 at 2024-05-07 19:12:25 +0900
Processing by GroupsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mGroup Load (0.2ms)[0m  [1m[34mSELECT "groups".* FROM "groups" WHERE "groups"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:20:in `show'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:21:in `show'
  Rendering layout layouts/application.html.erb
  Rendering groups/show.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 5]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 5]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 5.0ms | Allocations: 2298)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "group_users" ON "users"."id" = "group_users"."user_id" WHERE "group_users"."group_id" = ?[0m  [["group_id", 1]]
  ↳ app/views/groups/show.html.erb:21
  Rendered groups/show.html.erb within layouts/application (Duration: 6.1ms | Allocations: 3435)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 725)
  Rendered searches/_search_window.html.erb (Duration: 0.4ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 9.7ms | Allocations: 8150)
Completed 200 OK in 22ms (Views: 11.1ms | ActiveRecord: 1.2ms | Allocations: 10961)


Started GET "/groups/1" for ::1 at 2024-05-07 19:12:26 +0900
Processing by GroupsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mGroup Load (0.0ms)[0m  [1m[34mSELECT "groups".* FROM "groups" WHERE "groups"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:20:in `show'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:21:in `show'
  Rendering layout layouts/application.html.erb
  Rendering groups/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 5]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 5]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 2.0ms | Allocations: 2298)
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "group_users" ON "users"."id" = "group_users"."user_id" WHERE "group_users"."group_id" = ?[0m  [["group_id", 1]]
  ↳ app/views/groups/show.html.erb:21
  Rendered groups/show.html.erb within layouts/application (Duration: 2.9ms | Allocations: 3435)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 724)
  Rendered searches/_search_window.html.erb (Duration: 0.3ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 6.8ms | Allocations: 8149)
Completed 200 OK in 9ms (Views: 6.8ms | ActiveRecord: 0.3ms | Allocations: 10957)


Started GET "/groups/1" for ::1 at 2024-05-07 19:12:26 +0900
Processing by GroupsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mGroup Load (0.2ms)[0m  [1m[34mSELECT "groups".* FROM "groups" WHERE "groups"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:20:in `show'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:21:in `show'
  Rendering layout layouts/application.html.erb
  Rendering groups/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 5]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 5]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 1.8ms | Allocations: 2298)
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "group_users" ON "users"."id" = "group_users"."user_id" WHERE "group_users"."group_id" = ?[0m  [["group_id", 1]]
  ↳ app/views/groups/show.html.erb:21
  Rendered groups/show.html.erb within layouts/application (Duration: 2.7ms | Allocations: 3435)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 724)
  Rendered searches/_search_window.html.erb (Duration: 0.4ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 12.1ms | Allocations: 8149)
Completed 200 OK in 26ms (Views: 12.3ms | ActiveRecord: 0.6ms | Allocations: 10956)


Started GET "/groups/1" for ::1 at 2024-05-07 19:12:26 +0900
Processing by GroupsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mGroup Load (0.1ms)[0m  [1m[34mSELECT "groups".* FROM "groups" WHERE "groups"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:20:in `show'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:21:in `show'
  Rendering layout layouts/application.html.erb
  Rendering groups/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 5]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 5]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 3.2ms | Allocations: 2298)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "group_users" ON "users"."id" = "group_users"."user_id" WHERE "group_users"."group_id" = ?[0m  [["group_id", 1]]
  ↳ app/views/groups/show.html.erb:21
  Rendered groups/show.html.erb within layouts/application (Duration: 4.7ms | Allocations: 3435)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 725)
  Rendered searches/_search_window.html.erb (Duration: 0.3ms | Allocations: 1644)
  Rendered layout layouts/application.html.erb (Duration: 8.6ms | Allocations: 8151)
Completed 200 OK in 13ms (Views: 8.6ms | ActiveRecord: 0.5ms | Allocations: 10962)


Started GET "/groups/1" for ::1 at 2024-05-07 19:12:26 +0900
Processing by GroupsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mGroup Load (0.0ms)[0m  [1m[34mSELECT "groups".* FROM "groups" WHERE "groups"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:20:in `show'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:21:in `show'
  Rendering layout layouts/application.html.erb
  Rendering groups/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 5]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 5]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 2.1ms | Allocations: 2298)
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "group_users" ON "users"."id" = "group_users"."user_id" WHERE "group_users"."group_id" = ?[0m  [["group_id", 1]]
  ↳ app/views/groups/show.html.erb:21
  Rendered groups/show.html.erb within layouts/application (Duration: 3.1ms | Allocations: 3435)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 724)
  Rendered searches/_search_window.html.erb (Duration: 0.3ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 6.8ms | Allocations: 8149)
Completed 200 OK in 11ms (Views: 6.9ms | ActiveRecord: 0.4ms | Allocations: 10960)


Started GET "/groups/1" for ::1 at 2024-05-07 19:12:26 +0900
Processing by GroupsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mGroup Load (0.0ms)[0m  [1m[34mSELECT "groups".* FROM "groups" WHERE "groups"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:20:in `show'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:21:in `show'
  Rendering layout layouts/application.html.erb
  Rendering groups/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 5]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 5]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 2.6ms | Allocations: 2298)
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "group_users" ON "users"."id" = "group_users"."user_id" WHERE "group_users"."group_id" = ?[0m  [["group_id", 1]]
  ↳ app/views/groups/show.html.erb:21
  Rendered groups/show.html.erb within layouts/application (Duration: 3.6ms | Allocations: 3435)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 725)
  Rendered searches/_search_window.html.erb (Duration: 0.4ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 7.2ms | Allocations: 8150)
Completed 200 OK in 10ms (Views: 7.1ms | ActiveRecord: 0.4ms | Allocations: 10961)


Started GET "/groups/1" for ::1 at 2024-05-07 19:12:26 +0900
Processing by GroupsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mGroup Load (0.1ms)[0m  [1m[34mSELECT "groups".* FROM "groups" WHERE "groups"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:20:in `show'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:21:in `show'
  Rendering layout layouts/application.html.erb
  Rendering groups/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 5]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 5]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 2.0ms | Allocations: 2298)
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "group_users" ON "users"."id" = "group_users"."user_id" WHERE "group_users"."group_id" = ?[0m  [["group_id", 1]]
  ↳ app/views/groups/show.html.erb:21
  Rendered groups/show.html.erb within layouts/application (Duration: 2.8ms | Allocations: 3435)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.5ms | Allocations: 724)
  Rendered searches/_search_window.html.erb (Duration: 0.4ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 7.4ms | Allocations: 8149)
Completed 200 OK in 13ms (Views: 7.6ms | ActiveRecord: 0.7ms | Allocations: 10957)


Started GET "/groups/1" for ::1 at 2024-05-07 19:12:27 +0900
Processing by GroupsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mGroup Load (0.1ms)[0m  [1m[34mSELECT "groups".* FROM "groups" WHERE "groups"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:20:in `show'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:21:in `show'
  Rendering layout layouts/application.html.erb
  Rendering groups/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 5]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 5]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 2.4ms | Allocations: 2298)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "group_users" ON "users"."id" = "group_users"."user_id" WHERE "group_users"."group_id" = ?[0m  [["group_id", 1]]
  ↳ app/views/groups/show.html.erb:21
  Rendered groups/show.html.erb within layouts/application (Duration: 3.6ms | Allocations: 3435)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 6.3ms | Allocations: 724)
  Rendered searches/_search_window.html.erb (Duration: 9.1ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 29.4ms | Allocations: 8149)
Completed 200 OK in 34ms (Views: 29.4ms | ActiveRecord: 0.5ms | Allocations: 10956)


Started GET "/groups/1" for ::1 at 2024-05-07 19:12:27 +0900
Processing by GroupsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mGroup Load (0.0ms)[0m  [1m[34mSELECT "groups".* FROM "groups" WHERE "groups"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:20:in `show'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:21:in `show'
  Rendering layout layouts/application.html.erb
  Rendering groups/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 5]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 5]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 2.3ms | Allocations: 2298)
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "group_users" ON "users"."id" = "group_users"."user_id" WHERE "group_users"."group_id" = ?[0m  [["group_id", 1]]
  ↳ app/views/groups/show.html.erb:21
  Rendered groups/show.html.erb within layouts/application (Duration: 3.3ms | Allocations: 3435)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 725)
  Rendered searches/_search_window.html.erb (Duration: 0.4ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 7.0ms | Allocations: 8150)
Completed 200 OK in 10ms (Views: 7.1ms | ActiveRecord: 0.3ms | Allocations: 10961)


Started GET "/groups/1" for ::1 at 2024-05-07 19:12:27 +0900
Processing by GroupsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mGroup Load (0.0ms)[0m  [1m[34mSELECT "groups".* FROM "groups" WHERE "groups"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:20:in `show'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:21:in `show'
  Rendering layout layouts/application.html.erb
  Rendering groups/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 5]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 5]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 1.9ms | Allocations: 2298)
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "group_users" ON "users"."id" = "group_users"."user_id" WHERE "group_users"."group_id" = ?[0m  [["group_id", 1]]
  ↳ app/views/groups/show.html.erb:21
  Rendered groups/show.html.erb within layouts/application (Duration: 2.8ms | Allocations: 3435)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.5ms | Allocations: 725)
  Rendered searches/_search_window.html.erb (Duration: 0.3ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 7.0ms | Allocations: 8150)
Completed 200 OK in 10ms (Views: 7.1ms | ActiveRecord: 0.3ms | Allocations: 10957)


Started GET "/groups/1" for ::1 at 2024-05-07 19:12:27 +0900
Processing by GroupsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mGroup Load (0.0ms)[0m  [1m[34mSELECT "groups".* FROM "groups" WHERE "groups"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:20:in `show'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:21:in `show'
  Rendering layout layouts/application.html.erb
  Rendering groups/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 5]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 5]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 1.8ms | Allocations: 2298)
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "group_users" ON "users"."id" = "group_users"."user_id" WHERE "group_users"."group_id" = ?[0m  [["group_id", 1]]
  ↳ app/views/groups/show.html.erb:21
  Rendered groups/show.html.erb within layouts/application (Duration: 2.6ms | Allocations: 3435)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.2ms | Allocations: 724)
  Rendered searches/_search_window.html.erb (Duration: 0.3ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 6.1ms | Allocations: 8149)
Completed 200 OK in 9ms (Views: 6.1ms | ActiveRecord: 0.3ms | Allocations: 10960)


Started GET "/groups/1" for ::1 at 2024-05-07 19:12:27 +0900
Processing by GroupsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mGroup Load (0.1ms)[0m  [1m[34mSELECT "groups".* FROM "groups" WHERE "groups"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:20:in `show'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:21:in `show'
  Rendering layout layouts/application.html.erb
  Rendering groups/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 5]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 5]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 2.3ms | Allocations: 2298)
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "group_users" ON "users"."id" = "group_users"."user_id" WHERE "group_users"."group_id" = ?[0m  [["group_id", 1]]
  ↳ app/views/groups/show.html.erb:21
  Rendered groups/show.html.erb within layouts/application (Duration: 3.3ms | Allocations: 3435)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.4ms | Allocations: 725)
  Rendered searches/_search_window.html.erb (Duration: 0.3ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 7.1ms | Allocations: 8150)
Completed 200 OK in 10ms (Views: 7.1ms | ActiveRecord: 0.4ms | Allocations: 10959)


Started GET "/groups/1" for ::1 at 2024-05-07 19:12:38 +0900
Processing by GroupsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mGroup Load (0.2ms)[0m  [1m[34mSELECT "groups".* FROM "groups" WHERE "groups"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:20:in `show'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:21:in `show'
  Rendering layout layouts/application.html.erb
  Rendering groups/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 5]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 5]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 2.3ms | Allocations: 2298)
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "group_users" ON "users"."id" = "group_users"."user_id" WHERE "group_users"."group_id" = ?[0m  [["group_id", 1]]
  ↳ app/views/groups/show.html.erb:21
  Rendered groups/show.html.erb within layouts/application (Duration: 3.2ms | Allocations: 3435)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.4ms | Allocations: 724)
  Rendered searches/_search_window.html.erb (Duration: 1.4ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 8.7ms | Allocations: 8149)
Completed 200 OK in 24ms (Views: 9.0ms | ActiveRecord: 0.9ms | Allocations: 10957)


Started GET "/groups/1" for ::1 at 2024-05-07 19:12:39 +0900
Processing by GroupsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mGroup Load (0.1ms)[0m  [1m[34mSELECT "groups".* FROM "groups" WHERE "groups"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:20:in `show'
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:21:in `show'
  Rendering layout layouts/application.html.erb
  Rendering groups/show.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 5]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 5]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 8.2ms | Allocations: 2298)
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "group_users" ON "users"."id" = "group_users"."user_id" WHERE "group_users"."group_id" = ?[0m  [["group_id", 1]]
  ↳ app/views/groups/show.html.erb:21
  Rendered groups/show.html.erb within layouts/application (Duration: 9.6ms | Allocations: 3435)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.4ms | Allocations: 725)
  Rendered searches/_search_window.html.erb (Duration: 0.2ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 23.7ms | Allocations: 8150)
Completed 200 OK in 39ms (Views: 23.7ms | ActiveRecord: 2.2ms | Allocations: 10961)


Started GET "/groups/1/new/mail" for ::1 at 2024-05-07 19:12:41 +0900
Processing by GroupsController#mail_new as HTML
  Parameters: {"group_id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mGroup Load (0.1ms)[0m  [1m[34mSELECT "groups".* FROM "groups" WHERE "groups"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:59:in `mail_new'
  Rendering layout layouts/application.html.erb
  Rendering groups/mail_new.html.erb within layouts/application
  Rendered groups/mail_new.html.erb within layouts/application (Duration: 4.2ms | Allocations: 2321)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.4ms | Allocations: 733)
  Rendered searches/_search_window.html.erb (Duration: 0.3ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 9.7ms | Allocations: 7050)
Completed 200 OK in 17ms (Views: 11.0ms | ActiveRecord: 0.2ms | Allocations: 10132)


Started GET "/groups/1" for ::1 at 2024-05-07 19:13:06 +0900
Processing by GroupsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mGroup Load (0.1ms)[0m  [1m[34mSELECT "groups".* FROM "groups" WHERE "groups"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:20:in `show'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:21:in `show'
  Rendering layout layouts/application.html.erb
  Rendering groups/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 5]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 5]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 2.2ms | Allocations: 2298)
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "group_users" ON "users"."id" = "group_users"."user_id" WHERE "group_users"."group_id" = ?[0m  [["group_id", 1]]
  ↳ app/views/groups/show.html.erb:21
  Rendered groups/show.html.erb within layouts/application (Duration: 3.4ms | Allocations: 3435)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.4ms | Allocations: 724)
  Rendered searches/_search_window.html.erb (Duration: 0.4ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 10.7ms | Allocations: 8149)
Completed 200 OK in 14ms (Views: 10.7ms | ActiveRecord: 0.5ms | Allocations: 10960)


Started GET "/groups/1" for ::1 at 2024-05-07 19:13:07 +0900
Processing by GroupsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mGroup Load (0.1ms)[0m  [1m[34mSELECT "groups".* FROM "groups" WHERE "groups"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:20:in `show'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:21:in `show'
  Rendering layout layouts/application.html.erb
  Rendering groups/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 5]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 5]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 11.0ms | Allocations: 2776)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "group_users" ON "users"."id" = "group_users"."user_id" WHERE "group_users"."group_id" = ?[0m  [["group_id", 1]]
  ↳ app/views/groups/show.html.erb:20
  Rendered groups/show.html.erb within layouts/application (Duration: 13.0ms | Allocations: 4478)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 1.3ms | Allocations: 1324)
  Rendered searches/_search_window.html.erb (Duration: 0.9ms | Allocations: 1863)
  Rendered layout layouts/application.html.erb (Duration: 19.3ms | Allocations: 10675)
Completed 200 OK in 35ms (Views: 22.9ms | ActiveRecord: 0.6ms | Allocations: 14458)


Started DELETE "/users/sign_out" for ::1 at 2024-05-07 19:13:30 +0900
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.1ms | Allocations: 2108)


Started GET "/" for ::1 at 2024-05-07 19:13:30 +0900
Processing by HomesController#top as HTML
  Rendering layout layouts/application.html.erb
  Rendering homes/top.html.erb within layouts/application
  Rendered homes/top.html.erb within layouts/application (Duration: 0.6ms | Allocations: 308)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.2ms | Allocations: 283)
  Rendered layout layouts/application.html.erb (Duration: 6.4ms | Allocations: 3053)
Completed 200 OK in 9ms (Views: 7.9ms | ActiveRecord: 0.0ms | Allocations: 4185)


Started GET "/users/sign_in" for ::1 at 2024-05-07 19:13:31 +0900
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 1.6ms | Allocations: 569)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 7.7ms | Allocations: 2124)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 243)
  Rendered layout layouts/application.html.erb (Duration: 12.7ms | Allocations: 4840)
Completed 200 OK in 22ms (Views: 20.5ms | ActiveRecord: 0.0ms | Allocations: 6627)


Started POST "/users/sign_in" for ::1 at 2024-05-07 19:13:36 +0900
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"name"=>"aaa", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["name", "aaa"], ["LIMIT", 1]]
Redirected to http://localhost:3000/users/2
Completed 302 Found in 270ms (ActiveRecord: 0.2ms | Allocations: 3662)


Started GET "/users/2" for ::1 at 2024-05-07 19:13:36 +0900
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:6:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-07 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:9:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-06 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:10:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-05 00:00:00"], ["created_at", "2024-05-05 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:11:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-04 00:00:00"], ["created_at", "2024-05-04 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:12:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-03 00:00:00"], ["created_at", "2024-05-03 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:13:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-02 00:00:00"], ["created_at", "2024-05-02 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:14:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-01 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:15:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:22:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-04-23 00:00:00"], ["created_at", "2024-04-30 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:23:in `show'
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?)[0m  [["book_id", 1], ["book_id", 2]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ?[0m  [["id", 2]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 2.7ms | Allocations: 2780)
  Rendered users/_follow_btn.html.erb (Duration: 0.6ms | Allocations: 211)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.6ms | Allocations: 1252)
  Rendered books/_newbook.html.erb (Duration: 2.9ms | Allocations: 2476)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 3.2ms | Allocations: 3073)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1944)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/users/_userbooks.html.erb:36
  Rendered users/_userbooks.html.erb (Duration: 15.6ms | Allocations: 12954)
  Rendered users/_count_search.html.erb (Duration: 0.4ms | Allocations: 163)
  Rendered users/show.html.erb within layouts/application (Duration: 26.6ms | Allocations: 21958)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 743)
  Rendered searches/_search_window.html.erb (Duration: 0.3ms | Allocations: 1666)
  Rendered layout layouts/application.html.erb (Duration: 33.8ms | Allocations: 26696)
Completed 200 OK in 58ms (Views: 33.4ms | ActiveRecord: 2.4ms | Allocations: 48464)


Started GET "/users" for ::1 at 2024-05-07 19:13:40 +0900
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 4.1ms | Allocations: 2326)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 40)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.3ms | Allocations: 965)
  Rendered books/_newbook.html.erb (Duration: 2.1ms | Allocations: 1982)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:22
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/index.html.erb:28
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/index.html.erb:29
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/index.html.erb:28
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/index.html.erb:29
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/index.html.erb:28
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/index.html.erb:29
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 4]]
  ↳ app/views/users/index.html.erb:28
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 4]]
  ↳ app/views/users/index.html.erb:29
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 5]]
  ↳ app/views/users/index.html.erb:28
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 5]]
  ↳ app/views/users/index.html.erb:29
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/index.html.erb within layouts/application (Duration: 25.1ms | Allocations: 23087)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.4ms | Allocations: 724)
  Rendered searches/_search_window.html.erb (Duration: 0.4ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 29.0ms | Allocations: 27781)
Completed 200 OK in 31ms (Views: 27.7ms | ActiveRecord: 1.6ms | Allocations: 29674)


Started GET "/groups" for ::1 at 2024-05-07 19:13:40 +0900
Processing by GroupsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering groups/index.html.erb within layouts/application
  [1m[36mGroup Load (1.3ms)[0m  [1m[34mSELECT "groups".* FROM "groups" ORDER BY "groups"."updated_at" DESC[0m
  ↳ app/views/groups/index.html.erb:11
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "group_users" ON "users"."id" = "group_users"."user_id" WHERE "group_users"."group_id" = ?[0m  [["group_id", 1]]
  ↳ app/views/groups/index.html.erb:17
  Rendered groups/index.html.erb within layouts/application (Duration: 9.2ms | Allocations: 2042)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.4ms | Allocations: 725)
  Rendered searches/_search_window.html.erb (Duration: 0.2ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 13.5ms | Allocations: 6757)
Completed 200 OK in 21ms (Views: 12.7ms | ActiveRecord: 2.0ms | Allocations: 8668)


Started GET "/groups/1" for ::1 at 2024-05-07 19:13:45 +0900
Processing by GroupsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGroup Load (0.1ms)[0m  [1m[34mSELECT "groups".* FROM "groups" WHERE "groups"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:20:in `show'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:21:in `show'
  Rendering layout layouts/application.html.erb
  Rendering groups/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 2.1ms | Allocations: 2299)
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "group_users" ON "users"."id" = "group_users"."user_id" WHERE "group_users"."group_id" = ?[0m  [["group_id", 1]]
  ↳ app/views/groups/show.html.erb:20
  Rendered groups/show.html.erb within layouts/application (Duration: 3.1ms | Allocations: 3429)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 725)
  Rendered searches/_search_window.html.erb (Duration: 0.4ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 8.0ms | Allocations: 8144)
Completed 200 OK in 14ms (Views: 8.1ms | ActiveRecord: 0.8ms | Allocations: 10974)


Started GET "/groups/1/edit" for ::1 at 2024-05-07 19:13:50 +0900
Processing by GroupsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGroup Load (0.1ms)[0m  [1m[34mSELECT "groups".* FROM "groups" WHERE "groups"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:27:in `edit'
  Rendering layout layouts/application.html.erb
  Rendering groups/edit.html.erb within layouts/application
  Rendered groups/edit.html.erb within layouts/application (Duration: 1.1ms | Allocations: 719)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.2ms | Allocations: 724)
  Rendered searches/_search_window.html.erb (Duration: 0.4ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 4.8ms | Allocations: 5432)
Completed 200 OK in 23ms (Views: 5.3ms | ActiveRecord: 0.4ms | Allocations: 7855)


Started PATCH "/groups/1" for ::1 at 2024-05-07 19:13:53 +0900
Processing by GroupsController#update as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "group"=>{"name"=>"qqdddd", "introduction"=>"test", "owner_id"=>"2"}, "commit"=>"Update Group", "id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGroup Load (0.2ms)[0m  [1m[34mSELECT "groups".* FROM "groups" WHERE "groups"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:31:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/groups_controller.rb:33:in `update'
  [1m[36mGroup Update (0.7ms)[0m  [1m[33mUPDATE "groups" SET "name" = ?, "updated_at" = ? WHERE "groups"."id" = ?[0m  [["name", "qqdddd"], ["updated_at", "2024-05-07 10:13:53.405388"], ["id", 1]]
  ↳ app/controllers/groups_controller.rb:33:in `update'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/groups_controller.rb:33:in `update'
Redirected to http://localhost:3000/groups
Completed 302 Found in 19ms (ActiveRecord: 2.4ms | Allocations: 4899)


Started GET "/groups" for ::1 at 2024-05-07 19:13:53 +0900
Processing by GroupsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering groups/index.html.erb within layouts/application
  [1m[36mGroup Load (0.0ms)[0m  [1m[34mSELECT "groups".* FROM "groups" ORDER BY "groups"."updated_at" DESC[0m
  ↳ app/views/groups/index.html.erb:11
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "group_users" ON "users"."id" = "group_users"."user_id" WHERE "group_users"."group_id" = ?[0m  [["group_id", 1]]
  ↳ app/views/groups/index.html.erb:17
  Rendered groups/index.html.erb within layouts/application (Duration: 1.6ms | Allocations: 1803)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 725)
  Rendered searches/_search_window.html.erb (Duration: 0.3ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 5.2ms | Allocations: 6518)
Completed 200 OK in 7ms (Views: 5.3ms | ActiveRecord: 0.2ms | Allocations: 8164)


Started GET "/groups/1" for ::1 at 2024-05-07 19:14:15 +0900
Processing by GroupsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGroup Load (0.1ms)[0m  [1m[34mSELECT "groups".* FROM "groups" WHERE "groups"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:20:in `show'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:21:in `show'
  Rendering layout layouts/application.html.erb
  Rendering groups/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 2.6ms | Allocations: 2299)
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "group_users" ON "users"."id" = "group_users"."user_id" WHERE "group_users"."group_id" = ?[0m  [["group_id", 1]]
  ↳ app/views/groups/show.html.erb:20
  Rendered groups/show.html.erb within layouts/application (Duration: 3.5ms | Allocations: 3429)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 725)
  Rendered searches/_search_window.html.erb (Duration: 0.4ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 21.9ms | Allocations: 8144)
Completed 200 OK in 33ms (Views: 22.1ms | ActiveRecord: 1.1ms | Allocations: 11096)


Started GET "/groups/1/new/mail" for ::1 at 2024-05-07 19:14:59 +0900
Processing by GroupsController#mail_new as HTML
  Parameters: {"group_id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGroup Load (0.3ms)[0m  [1m[34mSELECT "groups".* FROM "groups" WHERE "groups"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:59:in `mail_new'
  Rendering layout layouts/application.html.erb
  Rendering groups/mail_new.html.erb within layouts/application
  Rendered groups/mail_new.html.erb within layouts/application (Duration: 2.0ms | Allocations: 2361)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 1.2ms | Allocations: 1315)
  Rendered searches/_search_window.html.erb (Duration: 0.8ms | Allocations: 1863)
  Rendered layout layouts/application.html.erb (Duration: 14.0ms | Allocations: 8457)
Completed 200 OK in 51ms (Views: 15.5ms | ActiveRecord: 0.7ms | Allocations: 11782)


Started GET "/groups/1" for ::1 at 2024-05-07 19:15:01 +0900
Processing by GroupsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGroup Load (0.2ms)[0m  [1m[34mSELECT "groups".* FROM "groups" WHERE "groups"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:20:in `show'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:21:in `show'
  Rendering layout layouts/application.html.erb
  Rendering groups/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 4.0ms | Allocations: 2581)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "group_users" ON "users"."id" = "group_users"."user_id" WHERE "group_users"."group_id" = ?[0m  [["group_id", 1]]
  ↳ app/views/groups/show.html.erb:20
  Rendered groups/show.html.erb within layouts/application (Duration: 5.6ms | Allocations: 4260)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.4ms | Allocations: 724)
  Rendered searches/_search_window.html.erb (Duration: 0.5ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 9.6ms | Allocations: 8974)
Completed 200 OK in 25ms (Views: 9.5ms | ActiveRecord: 1.0ms | Allocations: 12121)


Started GET "/groups/1/new/mail" for ::1 at 2024-05-07 19:15:03 +0900
Processing by GroupsController#mail_new as HTML
  Parameters: {"group_id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGroup Load (0.2ms)[0m  [1m[34mSELECT "groups".* FROM "groups" WHERE "groups"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:59:in `mail_new'
  Rendering layout layouts/application.html.erb
  Rendering groups/mail_new.html.erb within layouts/application
  Rendered groups/mail_new.html.erb within layouts/application (Duration: 2.0ms | Allocations: 2034)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 733)
  Rendered searches/_search_window.html.erb (Duration: 0.3ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 8.2ms | Allocations: 6656)
Completed 200 OK in 25ms (Views: 9.1ms | ActiveRecord: 0.4ms | Allocations: 9550)


Started GET "/groups/1/send/mail?mail_title=aaa&mail_content=aaa&commit=%E9%80%81%E4%BF%A1" for ::1 at 2024-05-07 19:15:34 +0900
Processing by GroupsController#mail_send as HTML
  Parameters: {"mail_title"=>"aaa", "mail_content"=>"aaa", "commit"=>"送信", "group_id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGroup Load (0.2ms)[0m  [1m[34mSELECT "groups".* FROM "groups" WHERE "groups"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:63:in `mail_send'
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.4ms | Allocations: 5170)


  
NameError (uninitialized constant GroupsController::ContactMailer

    ContactMailer.send_mail(@mail_title, @mail_content, group_users).deliver
    ^^^^^^^^^^^^^
Did you mean?  ActionMailer):
  
app/controllers/groups_controller.rb:67:in `mail_send'
Started GET "/groups/1/new/mail" for ::1 at 2024-05-07 19:17:41 +0900
Processing by GroupsController#mail_new as HTML
  Parameters: {"group_id"=>"1"}
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGroup Load (0.0ms)[0m  [1m[34mSELECT "groups".* FROM "groups" WHERE "groups"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:59:in `mail_new'
  Rendering layout layouts/application.html.erb
  Rendering groups/mail_new.html.erb within layouts/application
  Rendered groups/mail_new.html.erb within layouts/application (Duration: 0.6ms | Allocations: 2131)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.4ms | Allocations: 775)
  Rendered searches/_search_window.html.erb (Duration: 0.4ms | Allocations: 1666)
  Rendered layout layouts/application.html.erb (Duration: 7.7ms | Allocations: 6978)
Completed 200 OK in 25ms (Views: 8.2ms | ActiveRecord: 1.4ms | Allocations: 22706)


Started GET "/groups/1/send/mail?mail_title=aaaddd&mail_content=aaaddd&commit=%E9%80%81%E4%BF%A1" for ::1 at 2024-05-07 19:17:44 +0900
Processing by GroupsController#mail_send as HTML
  Parameters: {"mail_title"=>"aaaddd", "mail_content"=>"aaaddd", "commit"=>"送信", "group_id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGroup Load (0.2ms)[0m  [1m[34mSELECT "groups".* FROM "groups" WHERE "groups"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:63:in `mail_send'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "users"."email" FROM "users" INNER JOIN "group_users" ON "users"."id" = "group_users"."user_id" WHERE "group_users"."group_id" = ?[0m  [["group_id", 1]]
  ↳ app/mailers/contact_mailer.rb:15:in `send_mail'
  Rendering layout layouts/mailer.text.erb
  Rendering contact_mailer/send_mail.text.erb within layouts/mailer
  Rendered contact_mailer/send_mail.text.erb within layouts/mailer (Duration: 0.5ms | Allocations: 197)
  Rendered layout layouts/mailer.text.erb (Duration: 1.0ms | Allocations: 372)
ContactMailer#send_mail: processed outbound mail in 15.5ms
Delivered mail 6639ffc852d31_1313a39bc90370@ryutaro.local.mail (17.3ms)
Date: Tue, 07 May 2024 19:17:44 +0900
From: test@gmail.com
To: sample@example.com
Message-ID: <6639ffc852d31_1313a39bc90370@ryutaro.local.mail>
Subject: aaaddd
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: base64

PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KICBhYWFkZGQNCiAg
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KICDnmobmp5gNCg0K
ICDjgrDjg6vjg7zjg5fjgqrjg7zjg4rjg7zjgYvjgonjgqTjg5njg7Pjg4jj
ga7pgJrnn6XjgafjgZnjgIINCg0KICBhYWFkZGQNCg0KICDku4rlvozjgajj
goIg44KI44KN44GX44GP44GK6aGY44GE44GE44Gf44GX44G+44GZ44CCDQoN
Cg==

  Rendering layout layouts/application.html.erb
  Rendering groups/mail_send.html.erb within layouts/application
  Rendered groups/mail_send.html.erb within layouts/application (Duration: 0.3ms | Allocations: 187)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 779)
  Rendered searches/_search_window.html.erb (Duration: 0.3ms | Allocations: 1656)
  Rendered layout layouts/application.html.erb (Duration: 3.7ms | Allocations: 5006)
Completed 200 OK in 76ms (Views: 3.9ms | ActiveRecord: 0.7ms | Allocations: 36515)


Started GET "/groups/1/new/mail" for ::1 at 2024-05-07 19:17:53 +0900
Processing by GroupsController#mail_new as HTML
  Parameters: {"group_id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGroup Load (0.2ms)[0m  [1m[34mSELECT "groups".* FROM "groups" WHERE "groups"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:59:in `mail_new'
  Rendering layout layouts/application.html.erb
  Rendering groups/mail_new.html.erb within layouts/application
  Rendered groups/mail_new.html.erb within layouts/application (Duration: 0.7ms | Allocations: 2063)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.4ms | Allocations: 733)
  Rendered searches/_search_window.html.erb (Duration: 0.3ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 7.5ms | Allocations: 6685)
Completed 200 OK in 23ms (Views: 7.9ms | ActiveRecord: 0.4ms | Allocations: 9064)


Started GET "/groups/1/send/mail?mail_title=aaadddfdafdsa&mail_content=aaaddd&commit=%E9%80%81%E4%BF%A1" for ::1 at 2024-05-07 19:17:55 +0900
Processing by GroupsController#mail_send as HTML
  Parameters: {"mail_title"=>"aaadddfdafdsa", "mail_content"=>"aaaddd", "commit"=>"送信", "group_id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGroup Load (0.3ms)[0m  [1m[34mSELECT "groups".* FROM "groups" WHERE "groups"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:63:in `mail_send'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "users"."email" FROM "users" INNER JOIN "group_users" ON "users"."id" = "group_users"."user_id" WHERE "group_users"."group_id" = ?[0m  [["group_id", 1]]
  ↳ app/mailers/contact_mailer.rb:15:in `send_mail'
  Rendering layout layouts/mailer.text.erb
  Rendering contact_mailer/send_mail.text.erb within layouts/mailer
  Rendered contact_mailer/send_mail.text.erb within layouts/mailer (Duration: 0.1ms | Allocations: 37)
  Rendered layout layouts/mailer.text.erb (Duration: 0.1ms | Allocations: 121)
ContactMailer#send_mail: processed outbound mail in 5.1ms
Delivered mail 6639ffd383dbe_1313a39bc904a9@ryutaro.local.mail (1.6ms)
Date: Tue, 07 May 2024 19:17:55 +0900
From: test@gmail.com
To: sample@example.com
Message-ID: <6639ffd383dbe_1313a39bc904a9@ryutaro.local.mail>
Subject: aaadddfdafdsa
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: base64

PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KICBhYWFkZGRmZGFm
ZHNhDQogID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NCiAg55qG
5qeYDQoNCiAg44Kw44Or44O844OX44Kq44O844OK44O844GL44KJ44Kk44OZ
44Oz44OI44Gu6YCa55+l44Gn44GZ44CCDQoNCiAgYWFhZGRkDQoNCiAg5LuK
5b6M44Go44KCIOOCiOOCjeOBl+OBj+OBiumhmOOBhOOBhOOBn+OBl+OBvuOB
meOAgg0KDQo=

  Rendering layout layouts/application.html.erb
  Rendering groups/mail_send.html.erb within layouts/application
  Rendered groups/mail_send.html.erb within layouts/application (Duration: 0.1ms | Allocations: 39)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.4ms | Allocations: 743)
  Rendered searches/_search_window.html.erb (Duration: 0.3ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 4.4ms | Allocations: 4709)
Completed 200 OK in 23ms (Views: 4.7ms | ActiveRecord: 0.8ms | Allocations: 10971)


Started GET "/groups/1/new/mail" for ::1 at 2024-05-07 19:21:43 +0900
Processing by GroupsController#mail_new as HTML
  Parameters: {"group_id"=>"1"}
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGroup Load (0.1ms)[0m  [1m[34mSELECT "groups".* FROM "groups" WHERE "groups"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:59:in `mail_new'
  Rendering layout layouts/application.html.erb
  Rendering groups/mail_new.html.erb within layouts/application
  Rendered groups/mail_new.html.erb within layouts/application (Duration: 1.2ms | Allocations: 2130)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.4ms | Allocations: 775)
  Rendered searches/_search_window.html.erb (Duration: 0.3ms | Allocations: 1666)
  Rendered layout layouts/application.html.erb (Duration: 8.4ms | Allocations: 6977)
Completed 200 OK in 26ms (Views: 9.1ms | ActiveRecord: 2.1ms | Allocations: 22628)


Started GET "/groups/1/send/mail?mail_title=aaadddfdafdsad&mail_content=aaaddd&commit=%E9%80%81%E4%BF%A1" for ::1 at 2024-05-07 19:21:44 +0900
Processing by GroupsController#mail_send as HTML
  Parameters: {"mail_title"=>"aaadddfdafdsad", "mail_content"=>"aaaddd", "commit"=>"送信", "group_id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGroup Load (0.1ms)[0m  [1m[34mSELECT "groups".* FROM "groups" WHERE "groups"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:63:in `mail_send'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "users"."email" FROM "users" INNER JOIN "group_users" ON "users"."id" = "group_users"."user_id" WHERE "group_users"."group_id" = ?[0m  [["group_id", 1]]
  ↳ app/mailers/contact_mailer.rb:1:in `send_mail'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT "users"."email" FROM "users" INNER JOIN "group_users" ON "users"."id" = "group_users"."user_id" WHERE "group_users"."group_id" = ?[0m  [["group_id", 1]]
  ↳ app/mailers/contact_mailer.rb:16:in `send_mail'
  Rendering layout layouts/mailer.text.erb
  Rendering contact_mailer/send_mail.text.erb within layouts/mailer
  Rendered contact_mailer/send_mail.text.erb within layouts/mailer (Duration: 0.1ms | Allocations: 56)
  Rendered layout layouts/mailer.text.erb (Duration: 0.1ms | Allocations: 153)
ContactMailer#send_mail: processed outbound mail in 12299.1ms
Delivered mail 663a00c54b02e_1313a39bc9055f@ryutaro.local.mail (7.9ms)
Date: Tue, 07 May 2024 19:21:57 +0900
From: test@gmail.com
To: sample@example.com
Message-ID: <663a00c54b02e_1313a39bc9055f@ryutaro.local.mail>
Subject: aaadddfdafdsad
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: base64

PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KICBhYWFkZGRmZGFm
ZHNhZA0KICA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQogIOea
huanmA0KDQogIOOCsOODq+ODvOODl+OCquODvOODiuODvOOBi+OCieOCpOOD
meODs+ODiOOBrumAmuefpeOBp+OBmeOAgg0KDQogIGFhYWRkZA0KDQogIOS7
iuW+jOOBqOOCgiDjgojjgo3jgZfjgY/jgYrpoZjjgYTjgYTjgZ/jgZfjgb7j
gZnjgIINCg0K

  Rendering layout layouts/application.html.erb
  Rendering groups/mail_send.html.erb within layouts/application
  Rendered groups/mail_send.html.erb within layouts/application (Duration: 0.1ms | Allocations: 41)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.4ms | Allocations: 779)
  Rendered searches/_search_window.html.erb (Duration: 0.3ms | Allocations: 1656)
  Rendered layout layouts/application.html.erb (Duration: 5.7ms | Allocations: 4861)
Completed 200 OK in 12320ms (Views: 5.9ms | ActiveRecord: 0.8ms | Allocations: 365192)


Started GET "/" for ::1 at 2024-05-07 19:24:14 +0900
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by HomesController#top as HTML
  Rendering layout layouts/application.html.erb
  Rendering homes/top.html.erb within layouts/application
  Rendered homes/top.html.erb within layouts/application (Duration: 1.1ms | Allocations: 1131)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/_header.html.erb:9
  Rendered layouts/_header.html.erb (Duration: 11.3ms | Allocations: 9655)
  Rendered searches/_search_window.html.erb (Duration: 1.7ms | Allocations: 2095)
  Rendered layout layouts/application.html.erb (Duration: 33.9ms | Allocations: 21183)
Completed 200 OK in 45ms (Views: 35.7ms | ActiveRecord: 0.8ms | Allocations: 26489)


Started GET "/letter_opener" for ::1 at 2024-05-07 19:24:26 +0900
Processing by LetterOpenerWeb::LettersController#index as HTML
  Rendering layout /Users/maedaryuutarou/.rbenv/versions/3.1.2/lib/ruby/gems/3.1.0/gems/letter_opener_web-2.0.0/app/views/layouts/letter_opener_web/letters.html.erb
  Rendering /Users/maedaryuutarou/.rbenv/versions/3.1.2/lib/ruby/gems/3.1.0/gems/letter_opener_web-2.0.0/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/letters
  Rendered collection of /Users/maedaryuutarou/.rbenv/versions/3.1.2/lib/ruby/gems/3.1.0/gems/letter_opener_web-2.0.0/app/views/letter_opener_web/letters/_item.html.erb [0 times] (Duration: 0.0ms | Allocations: 28)
  Rendered /Users/maedaryuutarou/.rbenv/versions/3.1.2/lib/ruby/gems/3.1.0/gems/letter_opener_web-2.0.0/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/letters (Duration: 1.9ms | Allocations: 996)
  Rendered /Users/maedaryuutarou/.rbenv/versions/3.1.2/lib/ruby/gems/3.1.0/gems/letter_opener_web-2.0.0/app/views/layouts/letter_opener_web/styles/_icon.html.erb (Duration: 0.2ms | Allocations: 121)
  Rendered /Users/maedaryuutarou/.rbenv/versions/3.1.2/lib/ruby/gems/3.1.0/gems/letter_opener_web-2.0.0/app/views/layouts/letter_opener_web/styles/_bootstrap.html.erb (Duration: 2.6ms | Allocations: 656)
  Rendered /Users/maedaryuutarou/.rbenv/versions/3.1.2/lib/ruby/gems/3.1.0/gems/letter_opener_web-2.0.0/app/views/layouts/letter_opener_web/styles/_letters.html.erb (Duration: 0.3ms | Allocations: 186)
  Rendered /Users/maedaryuutarou/.rbenv/versions/3.1.2/lib/ruby/gems/3.1.0/gems/letter_opener_web-2.0.0/app/views/layouts/letter_opener_web/_styles.html.erb (Duration: 5.1ms | Allocations: 1940)
  Rendered /Users/maedaryuutarou/.rbenv/versions/3.1.2/lib/ruby/gems/3.1.0/gems/letter_opener_web-2.0.0/app/views/layouts/letter_opener_web/js/_jquery.html.erb (Duration: 7.4ms | Allocations: 1943)
  Rendered /Users/maedaryuutarou/.rbenv/versions/3.1.2/lib/ruby/gems/3.1.0/gems/letter_opener_web-2.0.0/app/views/layouts/letter_opener_web/js/_favcount.html.erb (Duration: 0.6ms | Allocations: 344)
  Rendered /Users/maedaryuutarou/.rbenv/versions/3.1.2/lib/ruby/gems/3.1.0/gems/letter_opener_web-2.0.0/app/views/layouts/letter_opener_web/_javascripts.html.erb (Duration: 9.3ms | Allocations: 3173)
  Rendered layout /Users/maedaryuutarou/.rbenv/versions/3.1.2/lib/ruby/gems/3.1.0/gems/letter_opener_web-2.0.0/app/views/layouts/letter_opener_web/letters.html.erb (Duration: 18.1ms | Allocations: 7017)
Completed 200 OK in 27ms (Views: 19.0ms | ActiveRecord: 0.0ms | Allocations: 8997)


Started GET "/groups/1/new/mail" for ::1 at 2024-05-07 19:24:29 +0900
Processing by GroupsController#mail_new as HTML
  Parameters: {"group_id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGroup Load (0.2ms)[0m  [1m[34mSELECT "groups".* FROM "groups" WHERE "groups"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:59:in `mail_new'
  Rendering layout layouts/application.html.erb
  Rendering groups/mail_new.html.erb within layouts/application
  Rendered groups/mail_new.html.erb within layouts/application (Duration: 9.7ms | Allocations: 6002)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.4ms | Allocations: 778)
  Rendered searches/_search_window.html.erb (Duration: 0.4ms | Allocations: 1667)
  Rendered layout layouts/application.html.erb (Duration: 15.6ms | Allocations: 10872)
Completed 200 OK in 37ms (Views: 16.6ms | ActiveRecord: 1.2ms | Allocations: 19463)


Started GET "/groups/1/send/mail?mail_title=aaadddfdafdsad&mail_content=aaaddd&commit=%E9%80%81%E4%BF%A1" for ::1 at 2024-05-07 19:24:30 +0900
Processing by GroupsController#mail_send as HTML
  Parameters: {"mail_title"=>"aaadddfdafdsad", "mail_content"=>"aaaddd", "commit"=>"送信", "group_id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGroup Load (0.0ms)[0m  [1m[34mSELECT "groups".* FROM "groups" WHERE "groups"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/groups_controller.rb:63:in `mail_send'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "users"."email" FROM "users" INNER JOIN "group_users" ON "users"."id" = "group_users"."user_id" WHERE "group_users"."group_id" = ?[0m  [["group_id", 1]]
  ↳ app/mailers/contact_mailer.rb:16:in `send_mail'
  Rendering layout layouts/mailer.text.erb
  Rendering contact_mailer/send_mail.text.erb within layouts/mailer
  Rendered contact_mailer/send_mail.text.erb within layouts/mailer (Duration: 0.4ms | Allocations: 196)
  Rendered layout layouts/mailer.text.erb (Duration: 0.7ms | Allocations: 373)
ContactMailer#send_mail: processed outbound mail in 2099.0ms
Delivered mail 663a0160f053f_14ca43d1844095@ryutaro.local.mail (16.6ms)
Date: Tue, 07 May 2024 19:24:32 +0900
From: test@gmail.com
To: sample@example.com
Message-ID: <663a0160f053f_14ca43d1844095@ryutaro.local.mail>
Subject: aaadddfdafdsad
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: base64

PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KICBhYWFkZGRmZGFm
ZHNhZA0KICA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQogIOea
huanmA0KDQogIOOCsOODq+ODvOODl+OCquODvOODiuODvOOBi+OCieOCpOOD
meODs+ODiOOBrumAmuefpeOBp+OBmeOAgg0KDQogIGFhYWRkZA0KDQogIOS7
iuW+jOOBqOOCgiDjgojjgo3jgZfjgY/jgYrpoZjjgYTjgYTjgZ/jgZfjgb7j
gZnjgIINCg0K

  Rendering layout layouts/application.html.erb
  Rendering groups/mail_send.html.erb within layouts/application
  Rendered groups/mail_send.html.erb within layouts/application (Duration: 0.6ms | Allocations: 182)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.6ms | Allocations: 780)
  Rendered searches/_search_window.html.erb (Duration: 0.6ms | Allocations: 1656)
  Rendered layout layouts/application.html.erb (Duration: 5.7ms | Allocations: 5007)
Completed 200 OK in 2140ms (Views: 6.1ms | ActiveRecord: 0.4ms | Allocations: 87880)


Started GET "/letter_opener" for ::1 at 2024-05-07 19:24:48 +0900
Processing by LetterOpenerWeb::LettersController#index as HTML
  Rendering layout /Users/maedaryuutarou/.rbenv/versions/3.1.2/lib/ruby/gems/3.1.0/gems/letter_opener_web-2.0.0/app/views/layouts/letter_opener_web/letters.html.erb
  Rendering /Users/maedaryuutarou/.rbenv/versions/3.1.2/lib/ruby/gems/3.1.0/gems/letter_opener_web-2.0.0/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/letters
  Rendered /Users/maedaryuutarou/.rbenv/versions/3.1.2/lib/ruby/gems/3.1.0/gems/letter_opener_web-2.0.0/app/views/letter_opener_web/letters/_item.html.erb (Duration: 3.0ms | Allocations: 4419)
  Rendered collection of /Users/maedaryuutarou/.rbenv/versions/3.1.2/lib/ruby/gems/3.1.0/gems/letter_opener_web-2.0.0/app/views/letter_opener_web/letters/_item.html.erb [0 times] (Duration: 0.0ms | Allocations: 13)
  Rendered /Users/maedaryuutarou/.rbenv/versions/3.1.2/lib/ruby/gems/3.1.0/gems/letter_opener_web-2.0.0/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/letters (Duration: 4.0ms | Allocations: 5151)
  Rendered /Users/maedaryuutarou/.rbenv/versions/3.1.2/lib/ruby/gems/3.1.0/gems/letter_opener_web-2.0.0/app/views/layouts/letter_opener_web/styles/_icon.html.erb (Duration: 0.0ms | Allocations: 48)
  Rendered /Users/maedaryuutarou/.rbenv/versions/3.1.2/lib/ruby/gems/3.1.0/gems/letter_opener_web-2.0.0/app/views/layouts/letter_opener_web/styles/_bootstrap.html.erb (Duration: 0.1ms | Allocations: 48)
  Rendered /Users/maedaryuutarou/.rbenv/versions/3.1.2/lib/ruby/gems/3.1.0/gems/letter_opener_web-2.0.0/app/views/layouts/letter_opener_web/styles/_letters.html.erb (Duration: 0.0ms | Allocations: 48)
  Rendered /Users/maedaryuutarou/.rbenv/versions/3.1.2/lib/ruby/gems/3.1.0/gems/letter_opener_web-2.0.0/app/views/layouts/letter_opener_web/_styles.html.erb (Duration: 0.2ms | Allocations: 377)
  Rendered /Users/maedaryuutarou/.rbenv/versions/3.1.2/lib/ruby/gems/3.1.0/gems/letter_opener_web-2.0.0/app/views/layouts/letter_opener_web/js/_jquery.html.erb (Duration: 0.0ms | Allocations: 53)
  Rendered /Users/maedaryuutarou/.rbenv/versions/3.1.2/lib/ruby/gems/3.1.0/gems/letter_opener_web-2.0.0/app/views/layouts/letter_opener_web/js/_favcount.html.erb (Duration: 0.0ms | Allocations: 50)
  Rendered /Users/maedaryuutarou/.rbenv/versions/3.1.2/lib/ruby/gems/3.1.0/gems/letter_opener_web-2.0.0/app/views/layouts/letter_opener_web/_javascripts.html.erb (Duration: 0.1ms | Allocations: 276)
  Rendered layout /Users/maedaryuutarou/.rbenv/versions/3.1.2/lib/ruby/gems/3.1.0/gems/letter_opener_web-2.0.0/app/views/layouts/letter_opener_web/letters.html.erb (Duration: 4.8ms | Allocations: 6095)
Completed 200 OK in 6ms (Views: 5.3ms | Allocations: 7077)


Started GET "/letter_opener/1715077472_986134_dd3d6fd/plain" for ::1 at 2024-05-07 19:24:48 +0900
Processing by LetterOpenerWeb::LettersController#show as HTML
  Parameters: {"id"=>"1715077472_986134_dd3d6fd", "style"=>"plain"}
  Rendering html template
  Rendered html template (Duration: 0.0ms | Allocations: 48)
Completed 200 OK in 2ms (Views: 1.6ms | Allocations: 1028)


Started GET "/users" for ::1 at 2024-05-07 19:26:22 +0900
Processing by UsersController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 6.0ms | Allocations: 5852)
  Rendered users/_follow_btn.html.erb (Duration: 0.5ms | Allocations: 245)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.9ms | Allocations: 1520)
  Rendered books/_newbook.html.erb (Duration: 13.2ms | Allocations: 8318)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:22
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/index.html.erb:28
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/index.html.erb:29
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/index.html.erb:28
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/index.html.erb:29
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/index.html.erb:28
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/index.html.erb:29
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 4]]
  ↳ app/views/users/index.html.erb:28
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 4]]
  ↳ app/views/users/index.html.erb:29
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 5]]
  ↳ app/views/users/index.html.erb:28
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 5]]
  ↳ app/views/users/index.html.erb:29
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/index.html.erb within layouts/application (Duration: 38.5ms | Allocations: 34685)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.4ms | Allocations: 757)
  Rendered searches/_search_window.html.erb (Duration: 0.3ms | Allocations: 1666)
  Rendered layout layouts/application.html.erb (Duration: 46.5ms | Allocations: 39443)
Completed 200 OK in 80ms (Views: 46.6ms | ActiveRecord: 3.8ms | Allocations: 59296)


Started GET "/users/2/edit" for ::1 at 2024-05-07 19:26:43 +0900
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:104:in `baria_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:75:in `edit'
  Rendering layout layouts/application.html.erb
  Rendering users/edit.html.erb within layouts/application
  Rendered users/edit.html.erb within layouts/application (Duration: 1.8ms | Allocations: 1395)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.4ms | Allocations: 725)
  Rendered searches/_search_window.html.erb (Duration: 0.4ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 9.3ms | Allocations: 6115)
Completed 200 OK in 27ms (Views: 10.8ms | ActiveRecord: 0.6ms | Allocations: 9378)


Started GET "/users/2" for ::1 at 2024-05-07 19:26:45 +0900
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:6:in `show'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-07 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:9:in `show'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-06 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:10:in `show'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-05 00:00:00"], ["created_at", "2024-05-05 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:11:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-04 00:00:00"], ["created_at", "2024-05-04 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:12:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-03 00:00:00"], ["created_at", "2024-05-03 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:13:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-02 00:00:00"], ["created_at", "2024-05-02 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:14:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-01 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:15:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:22:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-04-23 00:00:00"], ["created_at", "2024-04-30 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:23:in `show'
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?)[0m  [["book_id", 1], ["book_id", 2]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ?[0m  [["id", 2]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 2.8ms | Allocations: 2684)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 40)
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 0.8ms | Allocations: 982)
  Rendered books/_newbook.html.erb (Duration: 2.4ms | Allocations: 2051)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 3.2ms | Allocations: 3087)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.2ms | Allocations: 1948)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/users/_userbooks.html.erb:36
  Rendered users/_userbooks.html.erb (Duration: 13.1ms | Allocations: 13029)
  Rendered users/_count_search.html.erb (Duration: 0.5ms | Allocations: 181)
  Rendered users/show.html.erb within layouts/application (Duration: 23.1ms | Allocations: 20896)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.4ms | Allocations: 737)
  Rendered searches/_search_window.html.erb (Duration: 0.3ms | Allocations: 1656)
  Rendered layout layouts/application.html.erb (Duration: 27.1ms | Allocations: 25595)
Completed 200 OK in 76ms (Views: 26.2ms | ActiveRecord: 3.7ms | Allocations: 47427)


Started GET "/users/2" for ::1 at 2024-05-07 19:27:54 +0900
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:6:in `show'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-07 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:9:in `show'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-06 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:10:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-05 00:00:00"], ["created_at", "2024-05-05 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:11:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-04 00:00:00"], ["created_at", "2024-05-04 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:12:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-03 00:00:00"], ["created_at", "2024-05-03 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:13:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-02 00:00:00"], ["created_at", "2024-05-02 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:14:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-01 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:15:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:22:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-04-23 00:00:00"], ["created_at", "2024-04-30 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:23:in `show'
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?)[0m  [["book_id", 1], ["book_id", 2]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ?[0m  [["id", 2]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 3.0ms | Allocations: 2785)
  Rendered users/_follow_btn.html.erb (Duration: 0.5ms | Allocations: 211)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.7ms | Allocations: 1254)
  Rendered books/_newbook.html.erb (Duration: 2.9ms | Allocations: 2463)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.7ms | Allocations: 2190)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1915)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/users/_userbooks.html.erb:36
  Rendered users/_userbooks.html.erb (Duration: 9.9ms | Allocations: 9787)
  Rendered users/_book_counts.html.erb (Duration: 0.5ms | Allocations: 346)
  Rendered users/_week_book_counts.html.erb (Duration: 0.2ms | Allocations: 243)
  Rendered users/_graph.html.erb (Duration: 0.3ms | Allocations: 315)
  Rendered users/_count_search.html.erb (Duration: 0.2ms | Allocations: 138)
  Rendered users/show.html.erb within layouts/application (Duration: 22.9ms | Allocations: 20333)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 1.1ms | Allocations: 1288)
  Rendered searches/_search_window.html.erb (Duration: 0.7ms | Allocations: 1864)
  Rendered layout layouts/application.html.erb (Duration: 38.7ms | Allocations: 26332)
Completed 200 OK in 69ms (Views: 39.0ms | ActiveRecord: 2.5ms | Allocations: 40818)


Started POST "/books" for ::1 at 2024-05-07 19:28:07 +0900
Processing by BooksController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "book"=>{"title"=>"aaa", "body"=>"aaa", "tag_name"=>"dfasdfa", "rate"=>"3"}, "commit"=>"Create Book"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[31mUnpermitted parameter: :tag_name[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:9:in `create'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:13:in `create'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:13:in `create'
  [1m[36mBook Create (0.2ms)[0m  [1m[32mINSERT INTO "books" ("title", "body", "user_id", "created_at", "updated_at", "rate", "category_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["title", "aaa"], ["body", "aaa"], ["user_id", 2], ["created_at", "2024-05-07 10:28:07.631940"], ["updated_at", "2024-05-07 10:28:07.631940"], ["rate", 3.0], ["category_id", 1]]
  ↳ app/controllers/books_controller.rb:13:in `create'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/books_controller.rb:13:in `create'
  [1m[36mTag Load (0.3ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ? AND "tags"."name" = ? LIMIT ?[0m  [["book_id", 6], ["name", "dfasdfa"], ["LIMIT", 1]]
  ↳ app/models/book.rb:32:in `block in save_tags'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/models/book.rb:32:in `block in save_tags'
  [1m[36mTag Create (0.6ms)[0m  [1m[32mINSERT INTO "tags" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "dfasdfa"], ["created_at", "2024-05-07 10:28:07.640675"], ["updated_at", "2024-05-07 10:28:07.640675"]]
  ↳ app/models/book.rb:32:in `block in save_tags'
  [1m[36mTagBook Create (0.1ms)[0m  [1m[32mINSERT INTO "tag_books" ("tag_id", "book_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["tag_id", 4], ["book_id", 6], ["created_at", "2024-05-07 10:28:07.644851"], ["updated_at", "2024-05-07 10:28:07.644851"]]
  ↳ app/models/book.rb:32:in `block in save_tags'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/models/book.rb:32:in `block in save_tags'
Redirected to http://localhost:3000/books/6
Completed 302 Found in 21ms (ActiveRecord: 3.2ms | Allocations: 23946)


Started GET "/books/6" for ::1 at 2024-05-07 19:28:07 +0900
Processing by BooksController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:43:in `show'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:44:in `show'
  Rendering layout layouts/application.html.erb
  Rendering books/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 2.7ms | Allocations: 2581)
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/show.html.erb:40
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1911)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/book_comments/_count.html.erb:1
  Rendered book_comments/_count.html.erb (Duration: 1.6ms | Allocations: 938)
  [1m[36mBookComment Load (0.1ms)[0m  [1m[34mSELECT "book_comments".* FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/book_comments/_comment.html.erb:1
  Rendered book_comments/_comment.html.erb (Duration: 1.2ms | Allocations: 1070)
  Rendered books/show.html.erb within layouts/application (Duration: 13.3ms | Allocations: 11338)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 756)
  Rendered searches/_search_window.html.erb (Duration: 0.3ms | Allocations: 1666)
  Rendered layout layouts/application.html.erb (Duration: 19.2ms | Allocations: 16154)
Completed 200 OK in 26ms (Views: 19.6ms | ActiveRecord: 1.0ms | Allocations: 24046)


Started GET "/users/2" for ::1 at 2024-05-07 19:28:09 +0900
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:6:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-07 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:9:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-06 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:10:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-05 00:00:00"], ["created_at", "2024-05-05 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:11:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-04 00:00:00"], ["created_at", "2024-05-04 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:12:in `show'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-03 00:00:00"], ["created_at", "2024-05-03 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:13:in `show'
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-02 00:00:00"], ["created_at", "2024-05-02 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:14:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-01 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:15:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:22:in `show'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-04-23 00:00:00"], ["created_at", "2024-04-30 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:23:in `show'
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 6]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ?[0m  [["id", 2]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 2.5ms | Allocations: 2342)
  Rendered users/_follow_btn.html.erb (Duration: 0.1ms | Allocations: 40)
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 0.8ms | Allocations: 967)
  Rendered books/_newbook.html.erb (Duration: 1.6ms | Allocations: 2010)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.2ms | Allocations: 1990)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 1914)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.0ms | Allocations: 1914)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/users/_userbooks.html.erb:36
  Rendered users/_userbooks.html.erb (Duration: 13.3ms | Allocations: 13432)
  Rendered users/_book_counts.html.erb (Duration: 0.0ms | Allocations: 48)
  Rendered users/_week_book_counts.html.erb (Duration: 0.0ms | Allocations: 57)
  Rendered users/_graph.html.erb (Duration: 0.0ms | Allocations: 57)
  Rendered users/_count_search.html.erb (Duration: 0.0ms | Allocations: 38)
  Rendered users/show.html.erb within layouts/application (Duration: 19.1ms | Allocations: 20236)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.2ms | Allocations: 724)
  Rendered searches/_search_window.html.erb (Duration: 0.3ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 22.8ms | Allocations: 24835)
Completed 200 OK in 49ms (Views: 22.1ms | ActiveRecord: 3.1ms | Allocations: 38375)


Started GET "/users/2" for ::1 at 2024-05-07 20:02:01 +0900
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:6:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-07 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:9:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-06 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:10:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-05 00:00:00"], ["created_at", "2024-05-05 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:11:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-04 00:00:00"], ["created_at", "2024-05-04 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:12:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-03 00:00:00"], ["created_at", "2024-05-03 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:13:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-02 00:00:00"], ["created_at", "2024-05-02 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:14:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-01 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:15:in `show'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:22:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-04-23 00:00:00"], ["created_at", "2024-04-30 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:23:in `show'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 6]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ?[0m  [["id", 2]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 4.7ms | Allocations: 5096)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 49)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 0.9ms | Allocations: 1199)
  Rendered books/_newbook.html.erb (Duration: 3.3ms | Allocations: 2321)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.7ms | Allocations: 2820)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1948)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 6.7ms | Allocations: 1914)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/users/_userbooks.html.erb:36
  Rendered users/_userbooks.html.erb (Duration: 20.1ms | Allocations: 16312)
  Rendered users/_book_counts.html.erb (Duration: 0.0ms | Allocations: 49)
  Rendered users/_week_book_counts.html.erb (Duration: 0.0ms | Allocations: 58)
  Rendered users/_graph.html.erb (Duration: 0.0ms | Allocations: 58)
  Rendered users/_count_search.html.erb (Duration: 0.0ms | Allocations: 39)
  Rendered users/show.html.erb within layouts/application (Duration: 29.9ms | Allocations: 26355)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.5ms | Allocations: 747)
  Rendered searches/_search_window.html.erb (Duration: 0.4ms | Allocations: 1666)
  Rendered layout layouts/application.html.erb (Duration: 38.4ms | Allocations: 31102)
Completed 200 OK in 73ms (Views: 37.4ms | ActiveRecord: 3.6ms | Allocations: 67828)


Started POST "/books" for ::1 at 2024-05-07 20:02:08 +0900
Processing by BooksController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "book"=>{"title"=>"fだsdfさ", "body"=>"fだfだs", "tag_name"=>"aaaad", "rate"=>"3"}, "commit"=>"Create Book"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[31mUnpermitted parameter: :tag_name[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:9:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:13:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:13:in `create'
  [1m[36mBook Create (0.2ms)[0m  [1m[32mINSERT INTO "books" ("title", "body", "user_id", "created_at", "updated_at", "rate", "category_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["title", "fだsdfさ"], ["body", "fだfだs"], ["user_id", 2], ["created_at", "2024-05-07 11:02:08.380739"], ["updated_at", "2024-05-07 11:02:08.380739"], ["rate", 3.0], ["category_id", 1]]
  ↳ app/controllers/books_controller.rb:13:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/books_controller.rb:13:in `create'
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ? AND "tags"."name" = ? LIMIT ?[0m  [["book_id", 7], ["name", "aaaad"], ["LIMIT", 1]]
  ↳ app/models/book.rb:32:in `block in save_tags'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/models/book.rb:32:in `block in save_tags'
  [1m[36mTag Create (0.2ms)[0m  [1m[32mINSERT INTO "tags" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "aaaad"], ["created_at", "2024-05-07 11:02:08.388027"], ["updated_at", "2024-05-07 11:02:08.388027"]]
  ↳ app/models/book.rb:32:in `block in save_tags'
  [1m[36mTagBook Create (0.1ms)[0m  [1m[32mINSERT INTO "tag_books" ("tag_id", "book_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["tag_id", 5], ["book_id", 7], ["created_at", "2024-05-07 11:02:08.391554"], ["updated_at", "2024-05-07 11:02:08.391554"]]
  ↳ app/models/book.rb:32:in `block in save_tags'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/models/book.rb:32:in `block in save_tags'
Redirected to http://localhost:3000/books/7
Completed 302 Found in 40ms (ActiveRecord: 2.3ms | Allocations: 22372)


Started GET "/books/7" for ::1 at 2024-05-07 20:02:08 +0900
Processing by BooksController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:43:in `show'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:44:in `show'
  Rendering layout layouts/application.html.erb
  Rendering books/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 2.1ms | Allocations: 2581)
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/show.html.erb:40
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 1911)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/book_comments/_count.html.erb:1
  Rendered book_comments/_count.html.erb (Duration: 0.6ms | Allocations: 851)
  [1m[36mBookComment Load (0.1ms)[0m  [1m[34mSELECT "book_comments".* FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/book_comments/_comment.html.erb:1
  Rendered book_comments/_comment.html.erb (Duration: 1.1ms | Allocations: 821)
  Rendered books/show.html.erb within layouts/application (Duration: 9.2ms | Allocations: 9658)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 749)
  Rendered searches/_search_window.html.erb (Duration: 0.3ms | Allocations: 1666)
  Rendered layout layouts/application.html.erb (Duration: 12.5ms | Allocations: 14438)
Completed 200 OK in 19ms (Views: 12.8ms | ActiveRecord: 0.7ms | Allocations: 21521)


Started GET "/users/2" for ::1 at 2024-05-07 20:02:11 +0900
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:6:in `show'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-07 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:9:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-06 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:10:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-05 00:00:00"], ["created_at", "2024-05-05 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:11:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-04 00:00:00"], ["created_at", "2024-05-04 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:12:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-03 00:00:00"], ["created_at", "2024-05-03 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:13:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-02 00:00:00"], ["created_at", "2024-05-02 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:14:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-01 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:15:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:22:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-04-23 00:00:00"], ["created_at", "2024-04-30 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:23:in `show'
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 6], ["book_id", 7]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ?[0m  [["id", 2]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 1.7ms | Allocations: 2303)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 40)
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 0.8ms | Allocations: 967)
  Rendered books/_newbook.html.erb (Duration: 1.8ms | Allocations: 1924)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1985)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1914)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.4ms | Allocations: 1914)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1914)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/users/_userbooks.html.erb:36
  Rendered users/_userbooks.html.erb (Duration: 15.6ms | Allocations: 17845)
  Rendered users/_book_counts.html.erb (Duration: 0.0ms | Allocations: 48)
  Rendered users/_week_book_counts.html.erb (Duration: 0.0ms | Allocations: 57)
  Rendered users/_graph.html.erb (Duration: 0.0ms | Allocations: 57)
  Rendered users/_count_search.html.erb (Duration: 0.0ms | Allocations: 38)
  Rendered users/show.html.erb within layouts/application (Duration: 20.7ms | Allocations: 24523)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.2ms | Allocations: 723)
  Rendered searches/_search_window.html.erb (Duration: 0.3ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 24.2ms | Allocations: 29119)
Completed 200 OK in 49ms (Views: 23.3ms | ActiveRecord: 2.5ms | Allocations: 42536)


Started GET "/users/2" for ::1 at 2024-05-07 20:02:13 +0900
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:6:in `show'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-07 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:9:in `show'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-06 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:10:in `show'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-05 00:00:00"], ["created_at", "2024-05-05 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:11:in `show'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-04 00:00:00"], ["created_at", "2024-05-04 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:12:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-03 00:00:00"], ["created_at", "2024-05-03 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:13:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-02 00:00:00"], ["created_at", "2024-05-02 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:14:in `show'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-01 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:15:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:22:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-04-23 00:00:00"], ["created_at", "2024-04-30 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:23:in `show'
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 6], ["book_id", 7]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ?[0m  [["id", 2]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 1.8ms | Allocations: 2303)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 40)
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 0.7ms | Allocations: 966)
  Rendered books/_newbook.html.erb (Duration: 1.7ms | Allocations: 1869)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 3.1ms | Allocations: 1985)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.1ms | Allocations: 1914)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 1914)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.4ms | Allocations: 1914)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/users/_userbooks.html.erb:36
  Rendered users/_userbooks.html.erb (Duration: 17.7ms | Allocations: 17844)
  Rendered users/_book_counts.html.erb (Duration: 0.0ms | Allocations: 48)
  Rendered users/_week_book_counts.html.erb (Duration: 0.0ms | Allocations: 57)
  Rendered users/_graph.html.erb (Duration: 0.0ms | Allocations: 57)
  Rendered users/_count_search.html.erb (Duration: 0.0ms | Allocations: 38)
  Rendered users/show.html.erb within layouts/application (Duration: 22.6ms | Allocations: 24463)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.2ms | Allocations: 723)
  Rendered searches/_search_window.html.erb (Duration: 0.3ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 28.3ms | Allocations: 29059)
Completed 200 OK in 56ms (Views: 27.6ms | ActiveRecord: 3.1ms | Allocations: 42306)


Started POST "/books" for ::1 at 2024-05-07 20:02:23 +0900
Processing by BooksController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "book"=>{"title"=>"fafda", "body"=>"fff", "tag_name"=>"aa", "rate"=>"2"}, "commit"=>"Create Book"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[31mUnpermitted parameter: :tag_name[0m
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:9:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:13:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:13:in `create'
  [1m[36mBook Create (0.3ms)[0m  [1m[32mINSERT INTO "books" ("title", "body", "user_id", "created_at", "updated_at", "rate", "category_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["title", "fafda"], ["body", "fff"], ["user_id", 2], ["created_at", "2024-05-07 11:02:23.587079"], ["updated_at", "2024-05-07 11:02:23.587079"], ["rate", 2.0], ["category_id", 1]]
  ↳ app/controllers/books_controller.rb:13:in `create'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/books_controller.rb:13:in `create'
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ? AND "tags"."name" = ? LIMIT ?[0m  [["book_id", 8], ["name", "aa"], ["LIMIT", 1]]
  ↳ app/models/book.rb:32:in `block in save_tags'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/models/book.rb:32:in `block in save_tags'
  [1m[36mTag Create (0.2ms)[0m  [1m[32mINSERT INTO "tags" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "aa"], ["created_at", "2024-05-07 11:02:23.590946"], ["updated_at", "2024-05-07 11:02:23.590946"]]
  ↳ app/models/book.rb:32:in `block in save_tags'
  [1m[36mTagBook Create (0.1ms)[0m  [1m[32mINSERT INTO "tag_books" ("tag_id", "book_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["tag_id", 6], ["book_id", 8], ["created_at", "2024-05-07 11:02:23.593073"], ["updated_at", "2024-05-07 11:02:23.593073"]]
  ↳ app/models/book.rb:32:in `block in save_tags'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/models/book.rb:32:in `block in save_tags'
Redirected to http://localhost:3000/books/8
Completed 302 Found in 30ms (ActiveRecord: 2.4ms | Allocations: 10970)


Started GET "/books/8" for ::1 at 2024-05-07 20:02:23 +0900
Processing by BooksController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:43:in `show'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:44:in `show'
  Rendering layout layouts/application.html.erb
  Rendering books/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 1.9ms | Allocations: 2303)
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/show.html.erb:40
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.4ms | Allocations: 1890)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/book_comments/_count.html.erb:1
  Rendered book_comments/_count.html.erb (Duration: 1.2ms | Allocations: 850)
  [1m[36mBookComment Load (0.0ms)[0m  [1m[34mSELECT "book_comments".* FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/book_comments/_comment.html.erb:1
  Rendered book_comments/_comment.html.erb (Duration: 0.7ms | Allocations: 772)
  Rendered books/show.html.erb within layouts/application (Duration: 7.7ms | Allocations: 8674)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 724)
  Rendered searches/_search_window.html.erb (Duration: 0.2ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 11.1ms | Allocations: 13373)
Completed 200 OK in 14ms (Views: 11.0ms | ActiveRecord: 0.5ms | Allocations: 16643)


Started GET "/users/2" for ::1 at 2024-05-07 20:02:28 +0900
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:6:in `show'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-07 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:9:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-06 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:10:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-05 00:00:00"], ["created_at", "2024-05-05 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:11:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-04 00:00:00"], ["created_at", "2024-05-04 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:12:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-03 00:00:00"], ["created_at", "2024-05-03 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:13:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-02 00:00:00"], ["created_at", "2024-05-02 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:14:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-01 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:15:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:22:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-04-23 00:00:00"], ["created_at", "2024-04-30 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:23:in `show'
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 6], ["book_id", 7], ["book_id", 8]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ?[0m  [["id", 2]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 2.2ms | Allocations: 2303)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 40)
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 0.8ms | Allocations: 966)
  Rendered books/_newbook.html.erb (Duration: 1.5ms | Allocations: 1875)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 3.2ms | Allocations: 1985)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.1ms | Allocations: 1914)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.3ms | Allocations: 1914)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.0ms | Allocations: 1914)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.0ms | Allocations: 1914)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/users/_userbooks.html.erb:36
  Rendered users/_userbooks.html.erb (Duration: 24.4ms | Allocations: 22272)
  Rendered users/_book_counts.html.erb (Duration: 0.0ms | Allocations: 48)
  Rendered users/_week_book_counts.html.erb (Duration: 0.0ms | Allocations: 57)
  Rendered users/_graph.html.erb (Duration: 0.0ms | Allocations: 57)
  Rendered users/_count_search.html.erb (Duration: 0.0ms | Allocations: 38)
  Rendered users/show.html.erb within layouts/application (Duration: 30.0ms | Allocations: 28898)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.2ms | Allocations: 723)
  Rendered searches/_search_window.html.erb (Duration: 0.4ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 33.4ms | Allocations: 33494)
Completed 200 OK in 61ms (Views: 32.2ms | ActiveRecord: 3.7ms | Allocations: 46843)


Started POST "/books" for ::1 at 2024-05-07 20:02:33 +0900
Processing by BooksController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "book"=>{"title"=>"fafdad", "body"=>"fffd", "tag_name"=>"aa", "rate"=>"2"}, "commit"=>"Create Book"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[31mUnpermitted parameter: :tag_name[0m
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:9:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:13:in `create'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:13:in `create'
  [1m[36mBook Create (0.2ms)[0m  [1m[32mINSERT INTO "books" ("title", "body", "user_id", "created_at", "updated_at", "rate", "category_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["title", "fafdad"], ["body", "fffd"], ["user_id", 2], ["created_at", "2024-05-07 11:02:33.251541"], ["updated_at", "2024-05-07 11:02:33.251541"], ["rate", 2.0], ["category_id", 1]]
  ↳ app/controllers/books_controller.rb:13:in `create'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/books_controller.rb:13:in `create'
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ? AND "tags"."name" = ? LIMIT ?[0m  [["book_id", 9], ["name", "aa"], ["LIMIT", 1]]
  ↳ app/models/book.rb:32:in `block in save_tags'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/models/book.rb:32:in `block in save_tags'
  [1m[36mTag Create (0.2ms)[0m  [1m[32mINSERT INTO "tags" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "aa"], ["created_at", "2024-05-07 11:02:33.255528"], ["updated_at", "2024-05-07 11:02:33.255528"]]
  ↳ app/models/book.rb:32:in `block in save_tags'
  [1m[36mTagBook Create (0.1ms)[0m  [1m[32mINSERT INTO "tag_books" ("tag_id", "book_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["tag_id", 7], ["book_id", 9], ["created_at", "2024-05-07 11:02:33.257294"], ["updated_at", "2024-05-07 11:02:33.257294"]]
  ↳ app/models/book.rb:32:in `block in save_tags'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/models/book.rb:32:in `block in save_tags'
Redirected to http://localhost:3000/books/9
Completed 302 Found in 27ms (ActiveRecord: 3.3ms | Allocations: 10884)


Started GET "/books/9" for ::1 at 2024-05-07 20:02:33 +0900
Processing by BooksController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:43:in `show'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:44:in `show'
  Rendering layout layouts/application.html.erb
  Rendering books/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 2.3ms | Allocations: 2303)
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/show.html.erb:40
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 1890)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/book_comments/_count.html.erb:1
  Rendered book_comments/_count.html.erb (Duration: 1.1ms | Allocations: 850)
  [1m[36mBookComment Load (0.0ms)[0m  [1m[34mSELECT "book_comments".* FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/book_comments/_comment.html.erb:1
  Rendered book_comments/_comment.html.erb (Duration: 0.7ms | Allocations: 772)
  Rendered books/show.html.erb within layouts/application (Duration: 8.9ms | Allocations: 8674)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 724)
  Rendered searches/_search_window.html.erb (Duration: 0.3ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 12.8ms | Allocations: 13373)
Completed 200 OK in 16ms (Views: 12.7ms | ActiveRecord: 0.6ms | Allocations: 16636)


Started GET "/users/2" for ::1 at 2024-05-07 20:02:34 +0900
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:6:in `show'
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-07 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:9:in `show'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-06 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:10:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-05 00:00:00"], ["created_at", "2024-05-05 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:11:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-04 00:00:00"], ["created_at", "2024-05-04 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:12:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-03 00:00:00"], ["created_at", "2024-05-03 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:13:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-02 00:00:00"], ["created_at", "2024-05-02 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:14:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-01 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:15:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:22:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-04-23 00:00:00"], ["created_at", "2024-04-30 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:23:in `show'
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?, ?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 6], ["book_id", 7], ["book_id", 8], ["book_id", 9]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ?[0m  [["id", 2]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 2.1ms | Allocations: 2303)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 40)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.0ms | Allocations: 966)
  Rendered books/_newbook.html.erb (Duration: 1.7ms | Allocations: 1884)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.2ms | Allocations: 1985)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1914)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 1914)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.5ms | Allocations: 1914)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.3ms | Allocations: 1914)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.5ms | Allocations: 1914)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/users/_userbooks.html.erb:36
  Rendered users/_userbooks.html.erb (Duration: 23.0ms | Allocations: 26684)
  Rendered users/_book_counts.html.erb (Duration: 0.0ms | Allocations: 48)
  Rendered users/_week_book_counts.html.erb (Duration: 0.0ms | Allocations: 57)
  Rendered users/_graph.html.erb (Duration: 0.0ms | Allocations: 57)
  Rendered users/_count_search.html.erb (Duration: 0.0ms | Allocations: 38)
  Rendered users/show.html.erb within layouts/application (Duration: 29.6ms | Allocations: 33319)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.4ms | Allocations: 723)
  Rendered searches/_search_window.html.erb (Duration: 0.5ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 33.4ms | Allocations: 37915)
Completed 200 OK in 58ms (Views: 32.4ms | ActiveRecord: 2.9ms | Allocations: 51347)


  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."id" DESC LIMIT ?[0m  [["LIMIT", 2]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."id" DESC LIMIT ?[0m  [["LIMIT", 2]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Update (0.6ms)[0m  [1m[33mUPDATE "books" SET "created_at" = ?, "updated_at" = ? WHERE "books"."id" = ?[0m  [["created_at", "2024-05-06 11:05:36.767961"], ["updated_at", "2024-05-07 11:05:36.789515"], ["id", 9]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
Started GET "/users/2" for ::1 at 2024-05-07 20:05:41 +0900
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:6:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-07 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:9:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-06 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:10:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-05 00:00:00"], ["created_at", "2024-05-05 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:11:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-04 00:00:00"], ["created_at", "2024-05-04 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:12:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-03 00:00:00"], ["created_at", "2024-05-03 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:13:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-02 00:00:00"], ["created_at", "2024-05-02 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:14:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-01 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:15:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:22:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-04-23 00:00:00"], ["created_at", "2024-04-30 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:23:in `show'
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?, ?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 6], ["book_id", 7], ["book_id", 8], ["book_id", 9]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ?[0m  [["id", 2]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 3.5ms | Allocations: 2303)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 40)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.1ms | Allocations: 966)
  Rendered books/_newbook.html.erb (Duration: 4.9ms | Allocations: 1877)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.8ms | Allocations: 1985)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1914)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1914)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.5ms | Allocations: 1914)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1914)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1914)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/users/_userbooks.html.erb:36
  Rendered users/_userbooks.html.erb (Duration: 26.7ms | Allocations: 26696)
  Rendered users/_book_counts.html.erb (Duration: 0.0ms | Allocations: 49)
  Rendered users/_week_book_counts.html.erb (Duration: 0.1ms | Allocations: 56)
  Rendered users/_graph.html.erb (Duration: 0.0ms | Allocations: 56)
  Rendered users/_count_search.html.erb (Duration: 0.0ms | Allocations: 38)
  Rendered users/show.html.erb within layouts/application (Duration: 37.5ms | Allocations: 33323)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.4ms | Allocations: 723)
  Rendered searches/_search_window.html.erb (Duration: 0.5ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 46.8ms | Allocations: 37919)
Completed 200 OK in 65ms (Views: 45.4ms | ActiveRecord: 3.4ms | Allocations: 51349)


  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Update (0.2ms)[0m  [1m[33mUPDATE "books" SET "created_at" = ?, "updated_at" = ? WHERE "books"."id" = ?[0m  [["created_at", "2024-04-29 11:06:20.299140"], ["updated_at", "2024-05-07 11:06:20.300152"], ["id", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
Started GET "/users/2" for ::1 at 2024-05-07 20:06:23 +0900
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:6:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-07 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:9:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-06 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:10:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-05 00:00:00"], ["created_at", "2024-05-05 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:11:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-04 00:00:00"], ["created_at", "2024-05-04 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:12:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-03 00:00:00"], ["created_at", "2024-05-03 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:13:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-02 00:00:00"], ["created_at", "2024-05-02 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:14:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-01 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:15:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-04-30 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:22:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-04-23 00:00:00"], ["created_at", "2024-04-30 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:23:in `show'
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?, ?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 6], ["book_id", 7], ["book_id", 8], ["book_id", 9]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ?[0m  [["id", 2]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 2.4ms | Allocations: 2303)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 40)
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.0ms | Allocations: 966)
  Rendered books/_newbook.html.erb (Duration: 2.6ms | Allocations: 1875)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.7ms | Allocations: 1985)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1914)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1914)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.4ms | Allocations: 1914)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1914)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.5ms | Allocations: 1914)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/users/_userbooks.html.erb:36
  Rendered users/_userbooks.html.erb (Duration: 22.6ms | Allocations: 26691)
  Rendered users/_book_counts.html.erb (Duration: 0.0ms | Allocations: 50)
  Rendered users/_week_book_counts.html.erb (Duration: 0.0ms | Allocations: 56)
  Rendered users/_graph.html.erb (Duration: 0.0ms | Allocations: 56)
  Rendered users/_count_search.html.erb (Duration: 0.0ms | Allocations: 38)
  Rendered users/show.html.erb within layouts/application (Duration: 29.3ms | Allocations: 33317)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.4ms | Allocations: 723)
  Rendered searches/_search_window.html.erb (Duration: 0.5ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 35.9ms | Allocations: 37913)
Completed 200 OK in 53ms (Views: 34.1ms | ActiveRecord: 3.6ms | Allocations: 51345)


Started GET "/users/2/countsearch?created_at=2024-05-07&commit=%E6%A4%9C%E7%B4%A2" for ::1 at 2024-05-07 21:13:03 +0900
Processing by UsersController#search as HTML
  Parameters: {"created_at"=>"2024-05-07", "commit"=>"検索", "user_id"=>"2"}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:56:in `search'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND (created_at LIKE '2024-05-07%')[0m  [["user_id", 2]]
  ↳ app/controllers/users_controller.rb:63:in `search'
Completed 406 Not Acceptable in 18ms (ActiveRecord: 1.1ms | Allocations: 16841)


  
ActionController::UnknownFormat (UsersController#search is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []):
  
actionpack (6.1.4) lib/action_controller/metal/implicit_render.rb:42:in `default_render'
actionpack (6.1.4) lib/action_controller/metal/basic_implicit_render.rb:6:in `block in send_action'
<internal:kernel>:90:in `tap'
actionpack (6.1.4) lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
actionpack (6.1.4) lib/abstract_controller/base.rb:228:in `process_action'
actionpack (6.1.4) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (6.1.4) lib/abstract_controller/callbacks.rb:42:in `block in process_action'
activesupport (6.1.4) lib/active_support/callbacks.rb:117:in `block in run_callbacks'
actiontext (6.1.4) lib/action_text/rendering.rb:20:in `with_renderer'
actiontext (6.1.4) lib/action_text/engine.rb:59:in `block (4 levels) in <class:Engine>'
activesupport (6.1.4) lib/active_support/callbacks.rb:126:in `instance_exec'
activesupport (6.1.4) lib/active_support/callbacks.rb:126:in `block in run_callbacks'
activesupport (6.1.4) lib/active_support/callbacks.rb:137:in `run_callbacks'
actionpack (6.1.4) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (6.1.4) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (6.1.4) lib/action_controller/metal/instrumentation.rb:34:in `block in process_action'
activesupport (6.1.4) lib/active_support/notifications.rb:203:in `block in instrument'
activesupport (6.1.4) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.1.4) lib/active_support/notifications.rb:203:in `instrument'
actionpack (6.1.4) lib/action_controller/metal/instrumentation.rb:33:in `process_action'
actionpack (6.1.4) lib/action_controller/metal/params_wrapper.rb:249:in `process_action'
activerecord (6.1.4) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.1.4) lib/abstract_controller/base.rb:165:in `process'
actionview (6.1.4) lib/action_view/rendering.rb:39:in `process'
actionpack (6.1.4) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (6.1.4) lib/action_controller/metal.rb:254:in `dispatch'
actionpack (6.1.4) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (6.1.4) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.1.4) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (6.1.4) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.1.4) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.1.4) lib/action_dispatch/routing/route_set.rb:842:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.9) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.9) lib/rack/etag.rb:27:in `call'
rack (2.2.9) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.9) lib/rack/head.rb:12:in `call'
actionpack (6.1.4) lib/action_dispatch/http/permissions_policy.rb:22:in `call'
actionpack (6.1.4) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.2.9) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.9) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/cookies.rb:689:in `call'
activerecord (6.1.4) lib/active_record/migration.rb:601:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.1.4) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (6.1.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.1.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.1.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.1.4) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (6.1.4) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (6.1.4) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (6.1.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.9) lib/rack/method_override.rb:24:in `call'
rack (2.2.9) lib/rack/runtime.rb:22:in `call'
activesupport (6.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/static.rb:24:in `call'
rack (2.2.9) lib/rack/sendfile.rb:110:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/host_authorization.rb:98:in `call'
rack-mini-profiler (2.3.4) lib/mini_profiler/profiler.rb:393:in `call'
webpacker (5.4.4) lib/webpacker/dev_server_proxy.rb:25:in `perform_request'
rack-proxy (0.7.7) lib/rack/proxy.rb:87:in `call'
railties (6.1.4) lib/rails/engine.rb:539:in `call'
puma (5.6.8) lib/puma/configuration.rb:252:in `call'
puma (5.6.8) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.8) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.8) lib/puma/request.rb:76:in `handle_request'
puma (5.6.8) lib/puma/server.rb:443:in `process_client'
puma (5.6.8) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/users/2" for ::1 at 2024-05-07 21:13:27 +0900
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:6:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-07 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:9:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-06 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:10:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-05 00:00:00"], ["created_at", "2024-05-05 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:11:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-04 00:00:00"], ["created_at", "2024-05-04 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:12:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-03 00:00:00"], ["created_at", "2024-05-03 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:13:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-02 00:00:00"], ["created_at", "2024-05-02 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:14:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-01 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:15:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" >= ? AND "books"."created_at" < ?[0m  [["user_id", 2], ["created_at", "2024-04-30 23:59:59.999999"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:22:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" >= ? AND "books"."created_at" < ?[0m  [["user_id", 2], ["created_at", "2024-04-23 23:59:59.999999"], ["created_at", "2024-04-30 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:23:in `show'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?, ?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 6], ["book_id", 7], ["book_id", 8], ["book_id", 9]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ?[0m  [["id", 2]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 4.6ms | Allocations: 5096)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 49)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.1ms | Allocations: 1199)
  Rendered books/_newbook.html.erb (Duration: 3.2ms | Allocations: 2321)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.8ms | Allocations: 2820)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1948)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.5ms | Allocations: 1914)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1914)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1914)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1914)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/users/_userbooks.html.erb:36
  Rendered users/_userbooks.html.erb (Duration: 24.4ms | Allocations: 29565)
  Rendered users/_book_counts.html.erb (Duration: 0.0ms | Allocations: 51)
  Rendered users/_week_book_counts.html.erb (Duration: 0.0ms | Allocations: 57)
  Rendered users/_graph.html.erb (Duration: 0.0ms | Allocations: 57)
  Rendered users/_count_search.html.erb (Duration: 0.0ms | Allocations: 39)
  Rendered users/show.html.erb within layouts/application (Duration: 34.1ms | Allocations: 39607)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.4ms | Allocations: 747)
  Rendered searches/_search_window.html.erb (Duration: 0.4ms | Allocations: 1666)
  Rendered layout layouts/application.html.erb (Duration: 41.7ms | Allocations: 44354)
Completed 200 OK in 67ms (Views: 40.5ms | ActiveRecord: 2.9ms | Allocations: 69126)


Started GET "/users/2" for ::1 at 2024-05-07 21:18:26 +0900
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:6:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-07 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:9:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-06 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:10:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-05 00:00:00"], ["created_at", "2024-05-05 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:11:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-04 00:00:00"], ["created_at", "2024-05-04 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:12:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-03 00:00:00"], ["created_at", "2024-05-03 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:13:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-02 00:00:00"], ["created_at", "2024-05-02 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:14:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-01 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:15:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" >= ? AND "books"."created_at" < ?[0m  [["user_id", 2], ["created_at", "2024-04-30 23:59:59.999999"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:22:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" >= ? AND "books"."created_at" < ?[0m  [["user_id", 2], ["created_at", "2024-04-23 23:59:59.999999"], ["created_at", "2024-04-30 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:23:in `show'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?, ?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 6], ["book_id", 7], ["book_id", 8], ["book_id", 9]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ?[0m  [["id", 2]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 3.7ms | Allocations: 5318)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 49)
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 0.8ms | Allocations: 1199)
  Rendered books/_newbook.html.erb (Duration: 2.6ms | Allocations: 2321)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.4ms | Allocations: 2820)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.5ms | Allocations: 1948)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.4ms | Allocations: 1914)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.4ms | Allocations: 1914)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1914)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1914)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/users/_userbooks.html.erb:36
  Rendered users/_userbooks.html.erb (Duration: 22.6ms | Allocations: 29812)
  Rendered users/_book_counts.html.erb (Duration: 0.0ms | Allocations: 51)
  Rendered users/_week_book_counts.html.erb (Duration: 0.0ms | Allocations: 57)
  Rendered users/_graph.html.erb (Duration: 0.0ms | Allocations: 57)
  Rendered users/_count_search.html.erb (Duration: 0.0ms | Allocations: 39)
  Rendered users/show.html.erb within layouts/application (Duration: 30.5ms | Allocations: 40076)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 748)
  Rendered searches/_search_window.html.erb (Duration: 0.4ms | Allocations: 1666)
  Rendered layout layouts/application.html.erb (Duration: 42.8ms | Allocations: 44824)
Completed 200 OK in 72ms (Views: 41.6ms | ActiveRecord: 3.7ms | Allocations: 83270)


Started GET "/users/2/countsearch?created_at=&commit=%E6%A4%9C%E7%B4%A2" for ::1 at 2024-05-07 21:18:28 +0900
Processing by UsersController#search as HTML
  Parameters: {"created_at"=>"", "commit"=>"検索", "user_id"=>"2"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:56:in `search'
Completed 406 Not Acceptable in 6ms (ActiveRecord: 0.7ms | Allocations: 2547)


  
ActionController::UnknownFormat (UsersController#search is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []):
  
actionpack (6.1.4) lib/action_controller/metal/implicit_render.rb:42:in `default_render'
actionpack (6.1.4) lib/action_controller/metal/basic_implicit_render.rb:6:in `block in send_action'
<internal:kernel>:90:in `tap'
actionpack (6.1.4) lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
actionpack (6.1.4) lib/abstract_controller/base.rb:228:in `process_action'
actionpack (6.1.4) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (6.1.4) lib/abstract_controller/callbacks.rb:42:in `block in process_action'
activesupport (6.1.4) lib/active_support/callbacks.rb:117:in `block in run_callbacks'
actiontext (6.1.4) lib/action_text/rendering.rb:20:in `with_renderer'
actiontext (6.1.4) lib/action_text/engine.rb:59:in `block (4 levels) in <class:Engine>'
activesupport (6.1.4) lib/active_support/callbacks.rb:126:in `instance_exec'
activesupport (6.1.4) lib/active_support/callbacks.rb:126:in `block in run_callbacks'
activesupport (6.1.4) lib/active_support/callbacks.rb:137:in `run_callbacks'
actionpack (6.1.4) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (6.1.4) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (6.1.4) lib/action_controller/metal/instrumentation.rb:34:in `block in process_action'
activesupport (6.1.4) lib/active_support/notifications.rb:203:in `block in instrument'
activesupport (6.1.4) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.1.4) lib/active_support/notifications.rb:203:in `instrument'
actionpack (6.1.4) lib/action_controller/metal/instrumentation.rb:33:in `process_action'
actionpack (6.1.4) lib/action_controller/metal/params_wrapper.rb:249:in `process_action'
activerecord (6.1.4) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.1.4) lib/abstract_controller/base.rb:165:in `process'
actionview (6.1.4) lib/action_view/rendering.rb:39:in `process'
actionpack (6.1.4) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (6.1.4) lib/action_controller/metal.rb:254:in `dispatch'
actionpack (6.1.4) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (6.1.4) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.1.4) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (6.1.4) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.1.4) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.1.4) lib/action_dispatch/routing/route_set.rb:842:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.9) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.9) lib/rack/etag.rb:27:in `call'
rack (2.2.9) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.9) lib/rack/head.rb:12:in `call'
actionpack (6.1.4) lib/action_dispatch/http/permissions_policy.rb:22:in `call'
actionpack (6.1.4) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.2.9) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.9) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/cookies.rb:689:in `call'
activerecord (6.1.4) lib/active_record/migration.rb:601:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.1.4) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (6.1.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.1.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.1.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.1.4) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (6.1.4) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (6.1.4) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (6.1.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.9) lib/rack/method_override.rb:24:in `call'
rack (2.2.9) lib/rack/runtime.rb:22:in `call'
activesupport (6.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/static.rb:24:in `call'
rack (2.2.9) lib/rack/sendfile.rb:110:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/host_authorization.rb:98:in `call'
rack-mini-profiler (2.3.4) lib/mini_profiler/profiler.rb:393:in `call'
webpacker (5.4.4) lib/webpacker/dev_server_proxy.rb:25:in `perform_request'
rack-proxy (0.7.7) lib/rack/proxy.rb:87:in `call'
railties (6.1.4) lib/rails/engine.rb:539:in `call'
puma (5.6.8) lib/puma/configuration.rb:252:in `call'
puma (5.6.8) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.8) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.8) lib/puma/request.rb:76:in `handle_request'
puma (5.6.8) lib/puma/server.rb:443:in `process_client'
puma (5.6.8) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/users/2" for ::1 at 2024-05-07 21:18:29 +0900
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:6:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-07 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:9:in `show'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-06 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:10:in `show'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-05 00:00:00"], ["created_at", "2024-05-05 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:11:in `show'
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-04 00:00:00"], ["created_at", "2024-05-04 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:12:in `show'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-03 00:00:00"], ["created_at", "2024-05-03 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:13:in `show'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-02 00:00:00"], ["created_at", "2024-05-02 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:14:in `show'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-01 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:15:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" >= ? AND "books"."created_at" < ?[0m  [["user_id", 2], ["created_at", "2024-04-30 23:59:59.999999"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:22:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" >= ? AND "books"."created_at" < ?[0m  [["user_id", 2], ["created_at", "2024-04-23 23:59:59.999999"], ["created_at", "2024-04-30 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:23:in `show'
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?, ?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 6], ["book_id", 7], ["book_id", 8], ["book_id", 9]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ?[0m  [["id", 2]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 1.9ms | Allocations: 2326)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 40)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 2.4ms | Allocations: 967)
  Rendered books/_newbook.html.erb (Duration: 3.0ms | Allocations: 1994)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.3ms | Allocations: 1985)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1914)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 1914)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1914)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 1914)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.4ms | Allocations: 1914)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/users/_userbooks.html.erb:36
  Rendered users/_userbooks.html.erb (Duration: 25.8ms | Allocations: 26692)
  Rendered users/_book_counts.html.erb (Duration: 0.0ms | Allocations: 50)
  Rendered users/_week_book_counts.html.erb (Duration: 0.0ms | Allocations: 56)
  Rendered users/_graph.html.erb (Duration: 0.0ms | Allocations: 56)
  Rendered users/_count_search.html.erb (Duration: 0.0ms | Allocations: 38)
  Rendered users/show.html.erb within layouts/application (Duration: 34.4ms | Allocations: 33461)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 723)
  Rendered searches/_search_window.html.erb (Duration: 0.3ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 38.1ms | Allocations: 38057)
Completed 200 OK in 64ms (Views: 36.9ms | ActiveRecord: 3.6ms | Allocations: 51525)


Started GET "/users/2/countsearch?created_at=2024-05-06&commit=%E6%A4%9C%E7%B4%A2" for ::1 at 2024-05-07 21:18:33 +0900
Processing by UsersController#search as HTML
  Parameters: {"created_at"=>"2024-05-06", "commit"=>"検索", "user_id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:56:in `search'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND (created_at LIKE '2024-05-06%')[0m  [["user_id", 2]]
  ↳ app/controllers/users_controller.rb:62:in `search'
Completed 406 Not Acceptable in 9ms (ActiveRecord: 0.7ms | Allocations: 3231)


  
ActionController::UnknownFormat (UsersController#search is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []):
  
actionpack (6.1.4) lib/action_controller/metal/implicit_render.rb:42:in `default_render'
actionpack (6.1.4) lib/action_controller/metal/basic_implicit_render.rb:6:in `block in send_action'
<internal:kernel>:90:in `tap'
actionpack (6.1.4) lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
actionpack (6.1.4) lib/abstract_controller/base.rb:228:in `process_action'
actionpack (6.1.4) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (6.1.4) lib/abstract_controller/callbacks.rb:42:in `block in process_action'
activesupport (6.1.4) lib/active_support/callbacks.rb:117:in `block in run_callbacks'
actiontext (6.1.4) lib/action_text/rendering.rb:20:in `with_renderer'
actiontext (6.1.4) lib/action_text/engine.rb:59:in `block (4 levels) in <class:Engine>'
activesupport (6.1.4) lib/active_support/callbacks.rb:126:in `instance_exec'
activesupport (6.1.4) lib/active_support/callbacks.rb:126:in `block in run_callbacks'
activesupport (6.1.4) lib/active_support/callbacks.rb:137:in `run_callbacks'
actionpack (6.1.4) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (6.1.4) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (6.1.4) lib/action_controller/metal/instrumentation.rb:34:in `block in process_action'
activesupport (6.1.4) lib/active_support/notifications.rb:203:in `block in instrument'
activesupport (6.1.4) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.1.4) lib/active_support/notifications.rb:203:in `instrument'
actionpack (6.1.4) lib/action_controller/metal/instrumentation.rb:33:in `process_action'
actionpack (6.1.4) lib/action_controller/metal/params_wrapper.rb:249:in `process_action'
activerecord (6.1.4) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.1.4) lib/abstract_controller/base.rb:165:in `process'
actionview (6.1.4) lib/action_view/rendering.rb:39:in `process'
actionpack (6.1.4) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (6.1.4) lib/action_controller/metal.rb:254:in `dispatch'
actionpack (6.1.4) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (6.1.4) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.1.4) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (6.1.4) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.1.4) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.1.4) lib/action_dispatch/routing/route_set.rb:842:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.9) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.9) lib/rack/etag.rb:27:in `call'
rack (2.2.9) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.9) lib/rack/head.rb:12:in `call'
actionpack (6.1.4) lib/action_dispatch/http/permissions_policy.rb:22:in `call'
actionpack (6.1.4) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.2.9) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.9) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/cookies.rb:689:in `call'
activerecord (6.1.4) lib/active_record/migration.rb:601:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.1.4) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (6.1.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.1.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.1.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.1.4) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (6.1.4) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (6.1.4) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (6.1.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.9) lib/rack/method_override.rb:24:in `call'
rack (2.2.9) lib/rack/runtime.rb:22:in `call'
activesupport (6.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/static.rb:24:in `call'
rack (2.2.9) lib/rack/sendfile.rb:110:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/host_authorization.rb:98:in `call'
rack-mini-profiler (2.3.4) lib/mini_profiler/profiler.rb:393:in `call'
webpacker (5.4.4) lib/webpacker/dev_server_proxy.rb:25:in `perform_request'
rack-proxy (0.7.7) lib/rack/proxy.rb:87:in `call'
railties (6.1.4) lib/rails/engine.rb:539:in `call'
puma (5.6.8) lib/puma/configuration.rb:252:in `call'
puma (5.6.8) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.8) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.8) lib/puma/request.rb:76:in `handle_request'
puma (5.6.8) lib/puma/server.rb:443:in `process_client'
puma (5.6.8) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/users/2" for ::1 at 2024-05-07 21:18:54 +0900
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:6:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-07 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:9:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-06 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:10:in `show'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-05 00:00:00"], ["created_at", "2024-05-05 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:11:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-04 00:00:00"], ["created_at", "2024-05-04 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:12:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-03 00:00:00"], ["created_at", "2024-05-03 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:13:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-02 00:00:00"], ["created_at", "2024-05-02 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:14:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-01 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:15:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" >= ? AND "books"."created_at" < ?[0m  [["user_id", 2], ["created_at", "2024-04-30 23:59:59.999999"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:22:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" >= ? AND "books"."created_at" < ?[0m  [["user_id", 2], ["created_at", "2024-04-23 23:59:59.999999"], ["created_at", "2024-04-30 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:23:in `show'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?, ?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 6], ["book_id", 7], ["book_id", 8], ["book_id", 9]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ?[0m  [["id", 2]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 2.8ms | Allocations: 2303)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 40)
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 0.8ms | Allocations: 966)
  Rendered books/_newbook.html.erb (Duration: 2.9ms | Allocations: 1883)
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.0ms | Allocations: 1985)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1914)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1914)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.1ms | Allocations: 1914)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.5ms | Allocations: 1914)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.5ms | Allocations: 1914)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/users/_userbooks.html.erb:36
  Rendered users/_userbooks.html.erb (Duration: 21.4ms | Allocations: 26684)
  Rendered users/_book_counts.html.erb (Duration: 0.0ms | Allocations: 50)
  Rendered users/_week_book_counts.html.erb (Duration: 0.0ms | Allocations: 56)
  Rendered users/_graph.html.erb (Duration: 0.0ms | Allocations: 56)
  Rendered users/_count_search.html.erb (Duration: 0.0ms | Allocations: 38)
  Rendered users/show.html.erb within layouts/application (Duration: 28.6ms | Allocations: 33318)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 723)
  Rendered searches/_search_window.html.erb (Duration: 0.4ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 35.0ms | Allocations: 37914)
Completed 200 OK in 94ms (Views: 34.1ms | ActiveRecord: 2.4ms | Allocations: 51286)


Started GET "/users/2/countsearch?created_at=2024-05-07&commit=%E6%A4%9C%E7%B4%A2" for ::1 at 2024-05-07 21:19:29 +0900
Processing by UsersController#search as HTML
  Parameters: {"created_at"=>"2024-05-07", "commit"=>"検索", "user_id"=>"2"}
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:56:in `search'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND (created_at LIKE '%')[0m  [["user_id", 2]]
  ↳ app/controllers/users_controller.rb:1:in `search'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND (created_at LIKE '2024-05-07%')[0m  [["user_id", 2]]
  ↳ app/controllers/users_controller.rb:63:in `search'
Completed 406 Not Acceptable in 36796ms (ActiveRecord: 1.5ms | Allocations: 228737)


  
ActionController::UnknownFormat (UsersController#search is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []):
  
actionpack (6.1.4) lib/action_controller/metal/implicit_render.rb:42:in `default_render'
actionpack (6.1.4) lib/action_controller/metal/basic_implicit_render.rb:6:in `block in send_action'
<internal:kernel>:90:in `tap'
actionpack (6.1.4) lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
actionpack (6.1.4) lib/abstract_controller/base.rb:228:in `process_action'
actionpack (6.1.4) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (6.1.4) lib/abstract_controller/callbacks.rb:42:in `block in process_action'
activesupport (6.1.4) lib/active_support/callbacks.rb:117:in `block in run_callbacks'
actiontext (6.1.4) lib/action_text/rendering.rb:20:in `with_renderer'
actiontext (6.1.4) lib/action_text/engine.rb:59:in `block (4 levels) in <class:Engine>'
activesupport (6.1.4) lib/active_support/callbacks.rb:126:in `instance_exec'
activesupport (6.1.4) lib/active_support/callbacks.rb:126:in `block in run_callbacks'
activesupport (6.1.4) lib/active_support/callbacks.rb:137:in `run_callbacks'
actionpack (6.1.4) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (6.1.4) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (6.1.4) lib/action_controller/metal/instrumentation.rb:34:in `block in process_action'
activesupport (6.1.4) lib/active_support/notifications.rb:203:in `block in instrument'
activesupport (6.1.4) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.1.4) lib/active_support/notifications.rb:203:in `instrument'
actionpack (6.1.4) lib/action_controller/metal/instrumentation.rb:33:in `process_action'
actionpack (6.1.4) lib/action_controller/metal/params_wrapper.rb:249:in `process_action'
activerecord (6.1.4) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.1.4) lib/abstract_controller/base.rb:165:in `process'
actionview (6.1.4) lib/action_view/rendering.rb:39:in `process'
actionpack (6.1.4) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (6.1.4) lib/action_controller/metal.rb:254:in `dispatch'
actionpack (6.1.4) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (6.1.4) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.1.4) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (6.1.4) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.1.4) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.1.4) lib/action_dispatch/routing/route_set.rb:842:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.9) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.9) lib/rack/etag.rb:27:in `call'
rack (2.2.9) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.9) lib/rack/head.rb:12:in `call'
actionpack (6.1.4) lib/action_dispatch/http/permissions_policy.rb:22:in `call'
actionpack (6.1.4) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.2.9) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.9) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/cookies.rb:689:in `call'
activerecord (6.1.4) lib/active_record/migration.rb:601:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.1.4) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (6.1.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.1.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.1.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.1.4) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (6.1.4) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (6.1.4) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (6.1.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.9) lib/rack/method_override.rb:24:in `call'
rack (2.2.9) lib/rack/runtime.rb:22:in `call'
activesupport (6.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/static.rb:24:in `call'
rack (2.2.9) lib/rack/sendfile.rb:110:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/host_authorization.rb:98:in `call'
rack-mini-profiler (2.3.4) lib/mini_profiler/profiler.rb:393:in `call'
webpacker (5.4.4) lib/webpacker/dev_server_proxy.rb:25:in `perform_request'
rack-proxy (0.7.7) lib/rack/proxy.rb:87:in `call'
railties (6.1.4) lib/rails/engine.rb:539:in `call'
puma (5.6.8) lib/puma/configuration.rb:252:in `call'
puma (5.6.8) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.8) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.8) lib/puma/request.rb:76:in `handle_request'
puma (5.6.8) lib/puma/server.rb:443:in `process_client'
puma (5.6.8) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/users/2" for ::1 at 2024-05-07 21:20:07 +0900
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:6:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-07 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:9:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-06 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:10:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-05 00:00:00"], ["created_at", "2024-05-05 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:11:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-04 00:00:00"], ["created_at", "2024-05-04 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:12:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-03 00:00:00"], ["created_at", "2024-05-03 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:13:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-02 00:00:00"], ["created_at", "2024-05-02 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:14:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-01 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:15:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" >= ? AND "books"."created_at" < ?[0m  [["user_id", 2], ["created_at", "2024-04-30 23:59:59.999999"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:22:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" >= ? AND "books"."created_at" < ?[0m  [["user_id", 2], ["created_at", "2024-04-23 23:59:59.999999"], ["created_at", "2024-04-30 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:23:in `show'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?, ?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 6], ["book_id", 7], ["book_id", 8], ["book_id", 9]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ?[0m  [["id", 2]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 5.9ms | Allocations: 5318)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 49)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.5ms | Allocations: 1199)
  Rendered books/_newbook.html.erb (Duration: 3.2ms | Allocations: 2321)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 3.8ms | Allocations: 2820)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.4ms | Allocations: 1948)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.5ms | Allocations: 1995)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1914)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.5ms | Allocations: 1914)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.0ms | Allocations: 1914)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/users/_userbooks.html.erb:36
  Rendered users/_userbooks.html.erb (Duration: 30.5ms | Allocations: 29893)
  Rendered users/_book_counts.html.erb (Duration: 0.0ms | Allocations: 51)
  Rendered users/_week_book_counts.html.erb (Duration: 0.0ms | Allocations: 57)
  Rendered users/_graph.html.erb (Duration: 0.0ms | Allocations: 57)
  Rendered users/_count_search.html.erb (Duration: 0.0ms | Allocations: 39)
  Rendered users/show.html.erb within layouts/application (Duration: 42.2ms | Allocations: 40157)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.5ms | Allocations: 747)
  Rendered searches/_search_window.html.erb (Duration: 0.3ms | Allocations: 1666)
  Rendered layout layouts/application.html.erb (Duration: 50.6ms | Allocations: 44904)
Completed 200 OK in 82ms (Views: 48.2ms | ActiveRecord: 5.3ms | Allocations: 83346)


Started POST "/books/1/favorites" for ::1 at 2024-05-07 21:20:10 +0900
Processing by FavoritesController#create as JS
  Parameters: {"book_id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (1.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:3:in `create'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."book_id" = ? AND "favorites"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mFavorite Create (0.7ms)[0m  [1m[32mINSERT INTO "favorites" ("book_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["book_id", 1], ["user_id", 2], ["created_at", "2024-05-07 12:20:10.959903"], ["updated_at", "2024-05-07 12:20:10.959903"]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3], ["book_id", 4], ["book_id", 5], ["book_id", 6], ["book_id", 7], ["book_id", 8], ["book_id", 9]]
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 2], ["id", 3]]
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:7:in `create'
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?, ?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 6], ["book_id", 7], ["book_id", 8], ["book_id", 9]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ?[0m  [["id", 2]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  Rendering favorites/create.js.erb
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.6ms | Allocations: 2774)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 3.2ms | Allocations: 2860)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.1ms | Allocations: 1955)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.1ms | Allocations: 1818)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.1ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.4ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.2ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 1982)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:79
  Rendered books/_index.html.erb (Duration: 71.2ms | Allocations: 71378)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1808)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.5ms | Allocations: 1808)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1809)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.5ms | Allocations: 1809)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.5ms | Allocations: 1809)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1809)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/users/_userbooks.html.erb:36
  Rendered users/_userbooks.html.erb (Duration: 20.5ms | Allocations: 25601)
  Rendered favorites/create.js.erb (Duration: 96.7ms | Allocations: 105754)
Completed 200 OK in 133ms (Views: 97.6ms | ActiveRecord: 6.5ms | Allocations: 125499)


Started DELETE "/books/2/favorites" for ::1 at 2024-05-07 21:20:18 +0900
Processing by FavoritesController#destroy as JS
  Parameters: {"book_id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:11:in `destroy'
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" = ? AND "favorites"."user_id" = ? LIMIT ?[0m  [["book_id", 2], ["user_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:12:in `destroy'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/favorites_controller.rb:13:in `destroy'
  [1m[36mFavorite Destroy (4.7ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = ?[0m  [["id", 2]]
  ↳ app/controllers/favorites_controller.rb:13:in `destroy'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/favorites_controller.rb:13:in `destroy'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/favorites_controller.rb:14:in `sort'
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3], ["book_id", 4], ["book_id", 5], ["book_id", 6], ["book_id", 7], ["book_id", 8], ["book_id", 9]]
  ↳ app/controllers/favorites_controller.rb:14:in `sort'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 2], ["id", 3]]
  ↳ app/controllers/favorites_controller.rb:14:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:15:in `destroy'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/favorites_controller.rb:15:in `sort'
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?, ?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 6], ["book_id", 7], ["book_id", 8], ["book_id", 9]]
  ↳ app/controllers/favorites_controller.rb:15:in `sort'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ?[0m  [["id", 2]]
  ↳ app/controllers/favorites_controller.rb:15:in `sort'
  Rendering favorites/destroy.js.erb
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.1ms | Allocations: 1882)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 3.8ms | Allocations: 1909)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.7ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.2ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.2ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.0ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 1982)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1809)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:79
  Rendered books/_index.html.erb (Duration: 60.7ms | Allocations: 57789)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1808)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.3ms | Allocations: 1809)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.3ms | Allocations: 1809)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.2ms | Allocations: 1809)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1809)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.3ms | Allocations: 1809)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/users/_userbooks.html.erb:36
  Rendered users/_userbooks.html.erb (Duration: 17.5ms | Allocations: 25600)
  Rendered favorites/destroy.js.erb (Duration: 81.6ms | Allocations: 88947)
Completed 200 OK in 117ms (Views: 79.2ms | ActiveRecord: 10.6ms | Allocations: 102010)


Started GET "/books" for ::1 at 2024-05-07 21:21:10 +0900
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/books_controller.rb:32:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3], ["book_id", 4], ["book_id", 5], ["book_id", 6], ["book_id", 7], ["book_id", 8], ["book_id", 9]]
  ↳ app/controllers/books_controller.rb:32:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 2], ["id", 3]]
  ↳ app/controllers/books_controller.rb:32:in `sort'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 5], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 9], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 5], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 9], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 9], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 2], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 9], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 3], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 9], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 4], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 9], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 5], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 9], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 6], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 9], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 7], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 9], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 8], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 9], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 3], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 3.7ms | Allocations: 2789)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 43)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.3ms | Allocations: 983)
  Rendered books/_newbook.html.erb (Duration: 2.7ms | Allocations: 2132)
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.2ms | Allocations: 1997)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.5ms | Allocations: 1915)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1914)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.3ms | Allocations: 1914)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.2ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1914)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1914)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.5ms | Allocations: 1914)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1914)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.5ms | Allocations: 1986)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:79
  Rendered books/_index.html.erb (Duration: 49.5ms | Allocations: 57433)
  Rendered books/index.html.erb within layouts/application (Duration: 58.6ms | Allocations: 64258)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 746)
  Rendered searches/_search_window.html.erb (Duration: 0.4ms | Allocations: 1666)
  Rendered layout layouts/application.html.erb (Duration: 65.5ms | Allocations: 69058)
Completed 200 OK in 90ms (Views: 63.7ms | ActiveRecord: 3.4ms | Allocations: 96321)


Started POST "/books/3/favorites" for ::1 at 2024-05-07 21:21:12 +0900
Processing by FavoritesController#create as JS
  Parameters: {"book_id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:3:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."book_id" = ? AND "favorites"."user_id" = ? LIMIT ?[0m  [["book_id", 3], ["user_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mFavorite Create (0.6ms)[0m  [1m[32mINSERT INTO "favorites" ("book_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["book_id", 3], ["user_id", 2], ["created_at", "2024-05-07 12:21:12.300852"], ["updated_at", "2024-05-07 12:21:12.300852"]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3], ["book_id", 4], ["book_id", 5], ["book_id", 6], ["book_id", 7], ["book_id", 8], ["book_id", 9]]
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 2], ["id", 3]]
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:7:in `create'
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 3]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?)[0m  [["book_id", 3], ["book_id", 4], ["book_id", 5]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 3], ["id", 2]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  Rendering favorites/create.js.erb
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.0ms | Allocations: 1804)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1808)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.5ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.5ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.0ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.3ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.2ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.0ms | Allocations: 1982)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:79
  Rendered books/_index.html.erb (Duration: 57.1ms | Allocations: 57738)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.4ms | Allocations: 1808)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.0ms | Allocations: 1809)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1809)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/users/_userbooks.html.erb:36
  Rendered users/_userbooks.html.erb (Duration: 10.3ms | Allocations: 12821)
  Rendered favorites/create.js.erb (Duration: 70.3ms | Allocations: 75364)
Completed 200 OK in 102ms (Views: 67.9ms | ActiveRecord: 5.3ms | Allocations: 89851)


Started POST "/books/4/favorites" for ::1 at 2024-05-07 21:21:13 +0900
Processing by FavoritesController#create as JS
  Parameters: {"book_id"=>"4"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:3:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."book_id" = ? AND "favorites"."user_id" = ? LIMIT ?[0m  [["book_id", 4], ["user_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mFavorite Create (0.4ms)[0m  [1m[32mINSERT INTO "favorites" ("book_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["book_id", 4], ["user_id", 2], ["created_at", "2024-05-07 12:21:13.762858"], ["updated_at", "2024-05-07 12:21:13.762858"]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3], ["book_id", 4], ["book_id", 5], ["book_id", 6], ["book_id", 7], ["book_id", 8], ["book_id", 9]]
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 2], ["id", 3]]
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:7:in `create'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 3]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?)[0m  [["book_id", 3], ["book_id", 4], ["book_id", 5]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 3], ["id", 2]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  Rendering favorites/create.js.erb
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 5.4ms | Allocations: 1804)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCategory Load (0.7ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 6.2ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 3.7ms | Allocations: 1808)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 5.0ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.5ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1982)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:79
  Rendered books/_index.html.erb (Duration: 89.3ms | Allocations: 58968)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 2484)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 2564)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.2ms | Allocations: 2778)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/users/_userbooks.html.erb:36
  Rendered users/_userbooks.html.erb (Duration: 13.2ms | Allocations: 18319)
  Rendered favorites/create.js.erb (Duration: 109.3ms | Allocations: 82868)
Completed 200 OK in 147ms (Views: 106.8ms | ActiveRecord: 5.6ms | Allocations: 97360)


Started DELETE "/books/1/favorites" for ::1 at 2024-05-07 21:21:14 +0900
Processing by FavoritesController#destroy as JS
  Parameters: {"book_id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:11:in `destroy'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" = ? AND "favorites"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:12:in `destroy'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/favorites_controller.rb:13:in `destroy'
  [1m[36mFavorite Destroy (0.5ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = ?[0m  [["id", 17]]
  ↳ app/controllers/favorites_controller.rb:13:in `destroy'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/favorites_controller.rb:13:in `destroy'
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/favorites_controller.rb:14:in `sort'
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3], ["book_id", 4], ["book_id", 5], ["book_id", 6], ["book_id", 7], ["book_id", 8], ["book_id", 9]]
  ↳ app/controllers/favorites_controller.rb:14:in `sort'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 3], ["id", 2]]
  ↳ app/controllers/favorites_controller.rb:14:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:15:in `destroy'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/favorites_controller.rb:15:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?, ?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 6], ["book_id", 7], ["book_id", 8], ["book_id", 9]]
  ↳ app/controllers/favorites_controller.rb:15:in `sort'
  Rendering favorites/destroy.js.erb
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 3.5ms | Allocations: 1881)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.7ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.5ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.4ms | Allocations: 1809)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 1982)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:79
  Rendered books/_index.html.erb (Duration: 52.9ms | Allocations: 57730)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1809)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1809)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.4ms | Allocations: 1809)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1809)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.3ms | Allocations: 1809)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.5ms | Allocations: 1809)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/users/_userbooks.html.erb:36
  Rendered users/_userbooks.html.erb (Duration: 19.4ms | Allocations: 25604)
  Rendered favorites/destroy.js.erb (Duration: 76.9ms | Allocations: 88746)
Completed 200 OK in 106ms (Views: 75.3ms | ActiveRecord: 5.8ms | Allocations: 101021)


Started POST "/books/5/favorites" for ::1 at 2024-05-07 21:21:15 +0900
Processing by FavoritesController#create as JS
  Parameters: {"book_id"=>"5"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:3:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."book_id" = ? AND "favorites"."user_id" = ? LIMIT ?[0m  [["book_id", 5], ["user_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mFavorite Create (0.7ms)[0m  [1m[32mINSERT INTO "favorites" ("book_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["book_id", 5], ["user_id", 2], ["created_at", "2024-05-07 12:21:15.541908"], ["updated_at", "2024-05-07 12:21:15.541908"]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3], ["book_id", 4], ["book_id", 5], ["book_id", 6], ["book_id", 7], ["book_id", 8], ["book_id", 9]]
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 3], ["id", 2]]
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:7:in `create'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 3]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?)[0m  [["book_id", 3], ["book_id", 4], ["book_id", 5]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 3], ["id", 2]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  Rendering favorites/create.js.erb
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.5ms | Allocations: 2500)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 3.2ms | Allocations: 2371)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.2ms | Allocations: 1808)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.6ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1982)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:79
  Rendered books/_index.html.erb (Duration: 54.7ms | Allocations: 62375)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1808)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.5ms | Allocations: 1808)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.3ms | Allocations: 1808)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/users/_userbooks.html.erb:36
  Rendered users/_userbooks.html.erb (Duration: 9.6ms | Allocations: 12819)
  Rendered favorites/create.js.erb (Duration: 68.0ms | Allocations: 80925)
Completed 200 OK in 100ms (Views: 66.1ms | ActiveRecord: 5.9ms | Allocations: 97444)


Started DELETE "/books/5/favorites" for ::1 at 2024-05-07 21:21:16 +0900
Processing by FavoritesController#destroy as JS
  Parameters: {"book_id"=>"5"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:11:in `destroy'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" = ? AND "favorites"."user_id" = ? LIMIT ?[0m  [["book_id", 5], ["user_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:12:in `destroy'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/favorites_controller.rb:13:in `destroy'
  [1m[36mFavorite Destroy (0.6ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = ?[0m  [["id", 20]]
  ↳ app/controllers/favorites_controller.rb:13:in `destroy'
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/favorites_controller.rb:13:in `destroy'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/favorites_controller.rb:14:in `sort'
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3], ["book_id", 4], ["book_id", 5], ["book_id", 6], ["book_id", 7], ["book_id", 8], ["book_id", 9]]
  ↳ app/controllers/favorites_controller.rb:14:in `sort'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 3], ["id", 2]]
  ↳ app/controllers/favorites_controller.rb:14:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:15:in `destroy'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 3]]
  ↳ app/controllers/favorites_controller.rb:15:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?)[0m  [["book_id", 3], ["book_id", 4], ["book_id", 5]]
  ↳ app/controllers/favorites_controller.rb:15:in `sort'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 3], ["id", 2]]
  ↳ app/controllers/favorites_controller.rb:15:in `sort'
  Rendering favorites/destroy.js.erb
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.3ms | Allocations: 2457)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.4ms | Allocations: 2861)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.6ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.1ms | Allocations: 1809)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.0ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 1982)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:79
  Rendered books/_index.html.erb (Duration: 57.3ms | Allocations: 62848)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 1808)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 1808)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.3ms | Allocations: 1809)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/users/_userbooks.html.erb:36
  Rendered users/_userbooks.html.erb (Duration: 11.3ms | Allocations: 12820)
  Rendered favorites/destroy.js.erb (Duration: 71.9ms | Allocations: 81245)
Completed 200 OK in 103ms (Views: 69.7ms | ActiveRecord: 7.1ms | Allocations: 95539)


Started POST "/books/5/favorites" for ::1 at 2024-05-07 21:21:16 +0900
Processing by FavoritesController#create as JS
  Parameters: {"book_id"=>"5"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:3:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mFavorite Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."book_id" = ? AND "favorites"."user_id" = ? LIMIT ?[0m  [["book_id", 5], ["user_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mFavorite Create (1.1ms)[0m  [1m[32mINSERT INTO "favorites" ("book_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["book_id", 5], ["user_id", 2], ["created_at", "2024-05-07 12:21:17.008369"], ["updated_at", "2024-05-07 12:21:17.008369"]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3], ["book_id", 4], ["book_id", 5], ["book_id", 6], ["book_id", 7], ["book_id", 8], ["book_id", 9]]
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 3], ["id", 2]]
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:7:in `create'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 3]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?)[0m  [["book_id", 3], ["book_id", 4], ["book_id", 5]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 3], ["id", 2]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  Rendering favorites/create.js.erb
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1804)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.0ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.5ms | Allocations: 1808)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.6ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.3ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.0ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.1ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.3ms | Allocations: 1982)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:79
  Rendered books/_index.html.erb (Duration: 53.7ms | Allocations: 57738)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1808)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1808)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.4ms | Allocations: 1808)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/users/_userbooks.html.erb:36
  Rendered users/_userbooks.html.erb (Duration: 10.1ms | Allocations: 12819)
  Rendered favorites/create.js.erb (Duration: 66.6ms | Allocations: 75361)
Completed 200 OK in 103ms (Views: 64.4ms | ActiveRecord: 5.8ms | Allocations: 89610)


Started DELETE "/books/5/favorites" for ::1 at 2024-05-07 21:21:18 +0900
Processing by FavoritesController#destroy as JS
  Parameters: {"book_id"=>"5"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:11:in `destroy'
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" = ? AND "favorites"."user_id" = ? LIMIT ?[0m  [["book_id", 5], ["user_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:12:in `destroy'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/favorites_controller.rb:13:in `destroy'
  [1m[36mFavorite Destroy (0.3ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = ?[0m  [["id", 21]]
  ↳ app/controllers/favorites_controller.rb:13:in `destroy'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/favorites_controller.rb:13:in `destroy'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/favorites_controller.rb:14:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3], ["book_id", 4], ["book_id", 5], ["book_id", 6], ["book_id", 7], ["book_id", 8], ["book_id", 9]]
  ↳ app/controllers/favorites_controller.rb:14:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 3], ["id", 2]]
  ↳ app/controllers/favorites_controller.rb:14:in `sort'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:15:in `destroy'
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 3]]
  ↳ app/controllers/favorites_controller.rb:15:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?)[0m  [["book_id", 3], ["book_id", 4], ["book_id", 5]]
  ↳ app/controllers/favorites_controller.rb:15:in `sort'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 3], ["id", 2]]
  ↳ app/controllers/favorites_controller.rb:15:in `sort'
  Rendering favorites/destroy.js.erb
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 1881)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.2ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.4ms | Allocations: 1809)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.3ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.3ms | Allocations: 1982)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:79
  Rendered books/_index.html.erb (Duration: 50.7ms | Allocations: 57739)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1808)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1808)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.5ms | Allocations: 1809)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/users/_userbooks.html.erb:36
  Rendered users/_userbooks.html.erb (Duration: 10.5ms | Allocations: 12820)
  Rendered favorites/destroy.js.erb (Duration: 64.1ms | Allocations: 75440)
Completed 200 OK in 93ms (Views: 62.1ms | ActiveRecord: 4.1ms | Allocations: 87722)


Started POST "/books/5/favorites" for ::1 at 2024-05-07 21:21:19 +0900
Processing by FavoritesController#create as JS
  Parameters: {"book_id"=>"5"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:3:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mFavorite Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."book_id" = ? AND "favorites"."user_id" = ? LIMIT ?[0m  [["book_id", 5], ["user_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mFavorite Create (0.6ms)[0m  [1m[32mINSERT INTO "favorites" ("book_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["book_id", 5], ["user_id", 2], ["created_at", "2024-05-07 12:21:19.307494"], ["updated_at", "2024-05-07 12:21:19.307494"]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3], ["book_id", 4], ["book_id", 5], ["book_id", 6], ["book_id", 7], ["book_id", 8], ["book_id", 9]]
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 3], ["id", 2]]
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:7:in `create'
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 3]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?)[0m  [["book_id", 3], ["book_id", 4], ["book_id", 5]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 3], ["id", 2]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  Rendering favorites/create.js.erb
  [1m[36mFavorite Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 3.1ms | Allocations: 1804)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.5ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 2602)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.6ms | Allocations: 2415)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.2ms | Allocations: 2867)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.5ms | Allocations: 1982)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:79
  Rendered books/_index.html.erb (Duration: 54.8ms | Allocations: 65564)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.5ms | Allocations: 1808)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.3ms | Allocations: 1808)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.3ms | Allocations: 1808)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/users/_userbooks.html.erb:36
  Rendered users/_userbooks.html.erb (Duration: 9.5ms | Allocations: 12819)
  Rendered favorites/create.js.erb (Duration: 68.4ms | Allocations: 83187)
Completed 200 OK in 97ms (Views: 66.5ms | ActiveRecord: 5.1ms | Allocations: 97437)


Started DELETE "/books/5/favorites" for ::1 at 2024-05-07 21:21:20 +0900
Processing by FavoritesController#destroy as JS
  Parameters: {"book_id"=>"5"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:11:in `destroy'
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" = ? AND "favorites"."user_id" = ? LIMIT ?[0m  [["book_id", 5], ["user_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:12:in `destroy'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/favorites_controller.rb:13:in `destroy'
  [1m[36mFavorite Destroy (0.3ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = ?[0m  [["id", 22]]
  ↳ app/controllers/favorites_controller.rb:13:in `destroy'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/favorites_controller.rb:13:in `destroy'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/favorites_controller.rb:14:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3], ["book_id", 4], ["book_id", 5], ["book_id", 6], ["book_id", 7], ["book_id", 8], ["book_id", 9]]
  ↳ app/controllers/favorites_controller.rb:14:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 3], ["id", 2]]
  ↳ app/controllers/favorites_controller.rb:14:in `sort'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:15:in `destroy'
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 3]]
  ↳ app/controllers/favorites_controller.rb:15:in `sort'
  [1m[36mFavorite Load (0.0ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?)[0m  [["book_id", 3], ["book_id", 4], ["book_id", 5]]
  ↳ app/controllers/favorites_controller.rb:15:in `sort'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 3], ["id", 2]]
  ↳ app/controllers/favorites_controller.rb:15:in `sort'
  Rendering favorites/destroy.js.erb
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1881)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.4ms | Allocations: 2707)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 3.0ms | Allocations: 2605)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 1809)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.4ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.1ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.5ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1982)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:79
  Rendered books/_index.html.erb (Duration: 63.9ms | Allocations: 65574)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.5ms | Allocations: 1808)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1808)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1809)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/users/_userbooks.html.erb:36
  Rendered users/_userbooks.html.erb (Duration: 10.5ms | Allocations: 12820)
  Rendered favorites/destroy.js.erb (Duration: 76.8ms | Allocations: 83275)
Completed 200 OK in 98ms (Views: 74.6ms | ActiveRecord: 4.4ms | Allocations: 95556)


Started POST "/books/5/favorites" for ::1 at 2024-05-07 21:21:20 +0900
Processing by FavoritesController#create as JS
  Parameters: {"book_id"=>"5"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:3:in `create'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."book_id" = ? AND "favorites"."user_id" = ? LIMIT ?[0m  [["book_id", 5], ["user_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mFavorite Create (0.2ms)[0m  [1m[32mINSERT INTO "favorites" ("book_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["book_id", 5], ["user_id", 2], ["created_at", "2024-05-07 12:21:20.972087"], ["updated_at", "2024-05-07 12:21:20.972087"]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3], ["book_id", 4], ["book_id", 5], ["book_id", 6], ["book_id", 7], ["book_id", 8], ["book_id", 9]]
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 3], ["id", 2]]
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:7:in `create'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 3]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?)[0m  [["book_id", 3], ["book_id", 4], ["book_id", 5]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 3], ["id", 2]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  Rendering favorites/create.js.erb
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.8ms | Allocations: 1804)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.6ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.5ms | Allocations: 1808)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 4.9ms | Allocations: 3539)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1982)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:79
  Rendered books/_index.html.erb (Duration: 63.9ms | Allocations: 65556)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 1808)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1808)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1808)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/users/_userbooks.html.erb:36
  Rendered users/_userbooks.html.erb (Duration: 10.7ms | Allocations: 12825)
  Rendered favorites/create.js.erb (Duration: 78.3ms | Allocations: 83185)
Completed 200 OK in 110ms (Views: 75.8ms | ActiveRecord: 6.1ms | Allocations: 97435)


Started DELETE "/books/5/favorites" for ::1 at 2024-05-07 21:21:21 +0900
Processing by FavoritesController#destroy as JS
  Parameters: {"book_id"=>"5"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:11:in `destroy'
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" = ? AND "favorites"."user_id" = ? LIMIT ?[0m  [["book_id", 5], ["user_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:12:in `destroy'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/favorites_controller.rb:13:in `destroy'
  [1m[36mFavorite Destroy (3.0ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = ?[0m  [["id", 23]]
  ↳ app/controllers/favorites_controller.rb:13:in `destroy'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/favorites_controller.rb:13:in `destroy'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/favorites_controller.rb:14:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3], ["book_id", 4], ["book_id", 5], ["book_id", 6], ["book_id", 7], ["book_id", 8], ["book_id", 9]]
  ↳ app/controllers/favorites_controller.rb:14:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 3], ["id", 2]]
  ↳ app/controllers/favorites_controller.rb:14:in `sort'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:15:in `destroy'
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 3]]
  ↳ app/controllers/favorites_controller.rb:15:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?)[0m  [["book_id", 3], ["book_id", 4], ["book_id", 5]]
  ↳ app/controllers/favorites_controller.rb:15:in `sort'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 3], ["id", 2]]
  ↳ app/controllers/favorites_controller.rb:15:in `sort'
  Rendering favorites/destroy.js.erb
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.2ms | Allocations: 1881)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 3.4ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.4ms | Allocations: 2259)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 2751)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.0ms | Allocations: 2840)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.3ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.1ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1982)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:79
  Rendered books/_index.html.erb (Duration: 60.3ms | Allocations: 65572)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.4ms | Allocations: 1808)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1808)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1809)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/users/_userbooks.html.erb:36
  Rendered users/_userbooks.html.erb (Duration: 10.3ms | Allocations: 12828)
  Rendered favorites/destroy.js.erb (Duration: 73.7ms | Allocations: 83281)
Completed 200 OK in 98ms (Views: 71.5ms | ActiveRecord: 7.4ms | Allocations: 95562)


Started POST "/books/5/favorites" for ::1 at 2024-05-07 21:21:22 +0900
Processing by FavoritesController#create as JS
  Parameters: {"book_id"=>"5"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:3:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mFavorite Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."book_id" = ? AND "favorites"."user_id" = ? LIMIT ?[0m  [["book_id", 5], ["user_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mFavorite Create (0.8ms)[0m  [1m[32mINSERT INTO "favorites" ("book_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["book_id", 5], ["user_id", 2], ["created_at", "2024-05-07 12:21:22.322372"], ["updated_at", "2024-05-07 12:21:22.322372"]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3], ["book_id", 4], ["book_id", 5], ["book_id", 6], ["book_id", 7], ["book_id", 8], ["book_id", 9]]
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 3], ["id", 2]]
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:7:in `create'
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 3]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?)[0m  [["book_id", 3], ["book_id", 4], ["book_id", 5]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 3], ["id", 2]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  Rendering favorites/create.js.erb
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 1804)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.7ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.0ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1808)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 3.0ms | Allocations: 1910)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.4ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.0ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.0ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.0ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1982)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:79
  Rendered books/_index.html.erb (Duration: 56.9ms | Allocations: 57730)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.5ms | Allocations: 1808)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1808)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.5ms | Allocations: 1808)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/users/_userbooks.html.erb:36
  Rendered users/_userbooks.html.erb (Duration: 10.1ms | Allocations: 12819)
  Rendered favorites/create.js.erb (Duration: 70.0ms | Allocations: 75353)
Completed 200 OK in 99ms (Views: 67.4ms | ActiveRecord: 5.7ms | Allocations: 89602)


Started DELETE "/books/5/favorites" for ::1 at 2024-05-07 21:21:23 +0900
Processing by FavoritesController#destroy as JS
  Parameters: {"book_id"=>"5"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:11:in `destroy'
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" = ? AND "favorites"."user_id" = ? LIMIT ?[0m  [["book_id", 5], ["user_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:12:in `destroy'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/favorites_controller.rb:13:in `destroy'
  [1m[36mFavorite Destroy (0.6ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = ?[0m  [["id", 24]]
  ↳ app/controllers/favorites_controller.rb:13:in `destroy'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/favorites_controller.rb:13:in `destroy'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/favorites_controller.rb:14:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3], ["book_id", 4], ["book_id", 5], ["book_id", 6], ["book_id", 7], ["book_id", 8], ["book_id", 9]]
  ↳ app/controllers/favorites_controller.rb:14:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 3], ["id", 2]]
  ↳ app/controllers/favorites_controller.rb:14:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:15:in `destroy'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 3]]
  ↳ app/controllers/favorites_controller.rb:15:in `sort'
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?)[0m  [["book_id", 3], ["book_id", 4], ["book_id", 5]]
  ↳ app/controllers/favorites_controller.rb:15:in `sort'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 3], ["id", 2]]
  ↳ app/controllers/favorites_controller.rb:15:in `sort'
  Rendering favorites/destroy.js.erb
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.0ms | Allocations: 1881)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.9ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.5ms | Allocations: 1809)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.1ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.0ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 1982)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:79
  Rendered books/_index.html.erb (Duration: 56.2ms | Allocations: 57739)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1808)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.3ms | Allocations: 1808)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.2ms | Allocations: 1809)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/users/_userbooks.html.erb:36
  Rendered users/_userbooks.html.erb (Duration: 9.8ms | Allocations: 12820)
  Rendered favorites/destroy.js.erb (Duration: 68.9ms | Allocations: 75440)
Completed 200 OK in 92ms (Views: 66.6ms | ActiveRecord: 5.3ms | Allocations: 87722)


Started POST "/books/5/favorites" for ::1 at 2024-05-07 21:21:23 +0900
Processing by FavoritesController#create as JS
  Parameters: {"book_id"=>"5"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:3:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."book_id" = ? AND "favorites"."user_id" = ? LIMIT ?[0m  [["book_id", 5], ["user_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mFavorite Create (0.6ms)[0m  [1m[32mINSERT INTO "favorites" ("book_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["book_id", 5], ["user_id", 2], ["created_at", "2024-05-07 12:21:23.745845"], ["updated_at", "2024-05-07 12:21:23.745845"]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3], ["book_id", 4], ["book_id", 5], ["book_id", 6], ["book_id", 7], ["book_id", 8], ["book_id", 9]]
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 3], ["id", 2]]
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:7:in `create'
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 3]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?)[0m  [["book_id", 3], ["book_id", 4], ["book_id", 5]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 3], ["id", 2]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  Rendering favorites/create.js.erb
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1804)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.5ms | Allocations: 1808)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.6ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.4ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.2ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1982)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:79
  Rendered books/_index.html.erb (Duration: 52.2ms | Allocations: 57738)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.5ms | Allocations: 1808)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.4ms | Allocations: 1808)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.5ms | Allocations: 1808)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/users/_userbooks.html.erb:36
  Rendered users/_userbooks.html.erb (Duration: 9.4ms | Allocations: 12819)
  Rendered favorites/create.js.erb (Duration: 64.3ms | Allocations: 75361)
Completed 200 OK in 89ms (Views: 62.1ms | ActiveRecord: 5.6ms | Allocations: 89611)


Started DELETE "/books/5/favorites" for ::1 at 2024-05-07 21:21:24 +0900
Processing by FavoritesController#destroy as JS
  Parameters: {"book_id"=>"5"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:11:in `destroy'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" = ? AND "favorites"."user_id" = ? LIMIT ?[0m  [["book_id", 5], ["user_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:12:in `destroy'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/favorites_controller.rb:13:in `destroy'
  [1m[36mFavorite Destroy (0.6ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = ?[0m  [["id", 25]]
  ↳ app/controllers/favorites_controller.rb:13:in `destroy'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/favorites_controller.rb:13:in `destroy'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/favorites_controller.rb:14:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3], ["book_id", 4], ["book_id", 5], ["book_id", 6], ["book_id", 7], ["book_id", 8], ["book_id", 9]]
  ↳ app/controllers/favorites_controller.rb:14:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 3], ["id", 2]]
  ↳ app/controllers/favorites_controller.rb:14:in `sort'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:15:in `destroy'
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 3]]
  ↳ app/controllers/favorites_controller.rb:15:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?)[0m  [["book_id", 3], ["book_id", 4], ["book_id", 5]]
  ↳ app/controllers/favorites_controller.rb:15:in `sort'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 3], ["id", 2]]
  ↳ app/controllers/favorites_controller.rb:15:in `sort'
  Rendering favorites/destroy.js.erb
  [1m[36mFavorite Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 3.0ms | Allocations: 3144)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.2ms | Allocations: 2934)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 2194)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.5ms | Allocations: 1809)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.0ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1910)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.5ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1982)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:79
  Rendered books/_index.html.erb (Duration: 51.6ms | Allocations: 64069)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1808)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1808)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1809)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/users/_userbooks.html.erb:36
  Rendered users/_userbooks.html.erb (Duration: 10.3ms | Allocations: 12822)
  Rendered favorites/destroy.js.erb (Duration: 66.0ms | Allocations: 83259)
Completed 200 OK in 91ms (Views: 64.0ms | ActiveRecord: 6.1ms | Allocations: 95548)


Started POST "/books/5/favorites" for ::1 at 2024-05-07 21:21:25 +0900
Processing by FavoritesController#create as JS
  Parameters: {"book_id"=>"5"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:3:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."book_id" = ? AND "favorites"."user_id" = ? LIMIT ?[0m  [["book_id", 5], ["user_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mFavorite Create (0.3ms)[0m  [1m[32mINSERT INTO "favorites" ("book_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["book_id", 5], ["user_id", 2], ["created_at", "2024-05-07 12:21:25.703489"], ["updated_at", "2024-05-07 12:21:25.703489"]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3], ["book_id", 4], ["book_id", 5], ["book_id", 6], ["book_id", 7], ["book_id", 8], ["book_id", 9]]
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 3], ["id", 2]]
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:7:in `create'
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 3]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?)[0m  [["book_id", 3], ["book_id", 4], ["book_id", 5]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 3], ["id", 2]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  Rendering favorites/create.js.erb
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1804)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.2ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1808)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 3.1ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.0ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1982)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:79
  Rendered books/_index.html.erb (Duration: 58.0ms | Allocations: 57746)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.4ms | Allocations: 1808)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.5ms | Allocations: 1808)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.4ms | Allocations: 1808)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/users/_userbooks.html.erb:36
  Rendered users/_userbooks.html.erb (Duration: 9.5ms | Allocations: 12819)
  Rendered favorites/create.js.erb (Duration: 70.0ms | Allocations: 75369)
Completed 200 OK in 97ms (Views: 68.0ms | ActiveRecord: 5.1ms | Allocations: 89619)


Started DELETE "/books/5/favorites" for ::1 at 2024-05-07 21:21:26 +0900
Processing by FavoritesController#destroy as JS
  Parameters: {"book_id"=>"5"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:11:in `destroy'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" = ? AND "favorites"."user_id" = ? LIMIT ?[0m  [["book_id", 5], ["user_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:12:in `destroy'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/favorites_controller.rb:13:in `destroy'
  [1m[36mFavorite Destroy (0.9ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = ?[0m  [["id", 26]]
  ↳ app/controllers/favorites_controller.rb:13:in `destroy'
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/favorites_controller.rb:13:in `destroy'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/favorites_controller.rb:14:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3], ["book_id", 4], ["book_id", 5], ["book_id", 6], ["book_id", 7], ["book_id", 8], ["book_id", 9]]
  ↳ app/controllers/favorites_controller.rb:14:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 3], ["id", 2]]
  ↳ app/controllers/favorites_controller.rb:14:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:15:in `destroy'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 3]]
  ↳ app/controllers/favorites_controller.rb:15:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?)[0m  [["book_id", 3], ["book_id", 4], ["book_id", 5]]
  ↳ app/controllers/favorites_controller.rb:15:in `sort'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 3], ["id", 2]]
  ↳ app/controllers/favorites_controller.rb:15:in `sort'
  Rendering favorites/destroy.js.erb
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1881)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.5ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.3ms | Allocations: 1809)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.4ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.5ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.5ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.0ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1982)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:79
  Rendered books/_index.html.erb (Duration: 46.3ms | Allocations: 57731)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.3ms | Allocations: 1808)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1808)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.5ms | Allocations: 1809)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/users/_userbooks.html.erb:36
  Rendered users/_userbooks.html.erb (Duration: 10.2ms | Allocations: 12824)
  Rendered favorites/destroy.js.erb (Duration: 59.4ms | Allocations: 75436)
Completed 200 OK in 84ms (Views: 58.0ms | ActiveRecord: 6.0ms | Allocations: 87718)


Started POST "/books/5/favorites" for ::1 at 2024-05-07 21:21:27 +0900
Processing by FavoritesController#create as JS
  Parameters: {"book_id"=>"5"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:3:in `create'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."book_id" = ? AND "favorites"."user_id" = ? LIMIT ?[0m  [["book_id", 5], ["user_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mFavorite Create (0.3ms)[0m  [1m[32mINSERT INTO "favorites" ("book_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["book_id", 5], ["user_id", 2], ["created_at", "2024-05-07 12:21:27.746868"], ["updated_at", "2024-05-07 12:21:27.746868"]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3], ["book_id", 4], ["book_id", 5], ["book_id", 6], ["book_id", 7], ["book_id", 8], ["book_id", 9]]
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 3], ["id", 2]]
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:7:in `create'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 3]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?)[0m  [["book_id", 3], ["book_id", 4], ["book_id", 5]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 3], ["id", 2]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  Rendering favorites/create.js.erb
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 3.4ms | Allocations: 1804)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.9ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 3.2ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.3ms | Allocations: 1808)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.4ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.7ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 4.8ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.5ms | Allocations: 1982)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:79
  Rendered books/_index.html.erb (Duration: 80.8ms | Allocations: 57750)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.4ms | Allocations: 1808)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.3ms | Allocations: 1808)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.1ms | Allocations: 1808)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/users/_userbooks.html.erb:36
  Rendered users/_userbooks.html.erb (Duration: 9.9ms | Allocations: 12827)
  Rendered favorites/create.js.erb (Duration: 95.2ms | Allocations: 75381)
Completed 200 OK in 119ms (Views: 92.6ms | ActiveRecord: 5.2ms | Allocations: 89631)


Started DELETE "/books/5/favorites" for ::1 at 2024-05-07 21:21:29 +0900
Processing by FavoritesController#destroy as JS
  Parameters: {"book_id"=>"5"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:11:in `destroy'
  [1m[36mFavorite Load (1.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" = ? AND "favorites"."user_id" = ? LIMIT ?[0m  [["book_id", 5], ["user_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:12:in `destroy'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/favorites_controller.rb:13:in `destroy'
  [1m[36mFavorite Destroy (0.6ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = ?[0m  [["id", 27]]
  ↳ app/controllers/favorites_controller.rb:13:in `destroy'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/favorites_controller.rb:13:in `destroy'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/favorites_controller.rb:14:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3], ["book_id", 4], ["book_id", 5], ["book_id", 6], ["book_id", 7], ["book_id", 8], ["book_id", 9]]
  ↳ app/controllers/favorites_controller.rb:14:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 3], ["id", 2]]
  ↳ app/controllers/favorites_controller.rb:14:in `sort'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:15:in `destroy'
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 3]]
  ↳ app/controllers/favorites_controller.rb:15:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?)[0m  [["book_id", 3], ["book_id", 4], ["book_id", 5]]
  ↳ app/controllers/favorites_controller.rb:15:in `sort'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 3], ["id", 2]]
  ↳ app/controllers/favorites_controller.rb:15:in `sort'
  Rendering favorites/destroy.js.erb
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1881)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.4ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 3.6ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1809)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.5ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.0ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.4ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1982)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:79
  Rendered books/_index.html.erb (Duration: 57.4ms | Allocations: 57731)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1808)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.5ms | Allocations: 1808)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.5ms | Allocations: 1809)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/users/_userbooks.html.erb:36
  Rendered users/_userbooks.html.erb (Duration: 10.0ms | Allocations: 12820)
  Rendered favorites/destroy.js.erb (Duration: 70.0ms | Allocations: 75432)
Completed 200 OK in 95ms (Views: 67.9ms | ActiveRecord: 6.3ms | Allocations: 87713)


Started POST "/books/5/favorites" for ::1 at 2024-05-07 21:21:30 +0900
Processing by FavoritesController#create as JS
  Parameters: {"book_id"=>"5"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:3:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mFavorite Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."book_id" = ? AND "favorites"."user_id" = ? LIMIT ?[0m  [["book_id", 5], ["user_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mFavorite Create (0.5ms)[0m  [1m[32mINSERT INTO "favorites" ("book_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["book_id", 5], ["user_id", 2], ["created_at", "2024-05-07 12:21:30.709484"], ["updated_at", "2024-05-07 12:21:30.709484"]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3], ["book_id", 4], ["book_id", 5], ["book_id", 6], ["book_id", 7], ["book_id", 8], ["book_id", 9]]
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 3], ["id", 2]]
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:7:in `create'
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 3]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?)[0m  [["book_id", 3], ["book_id", 4], ["book_id", 5]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 3], ["id", 2]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  Rendering favorites/create.js.erb
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.5ms | Allocations: 1804)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.7ms | Allocations: 1935)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.1ms | Allocations: 2564)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.6ms | Allocations: 1808)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.2ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.2ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1982)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:79
  Rendered books/_index.html.erb (Duration: 58.3ms | Allocations: 65572)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1808)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.4ms | Allocations: 1808)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.3ms | Allocations: 1808)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/users/_userbooks.html.erb:36
  Rendered users/_userbooks.html.erb (Duration: 9.3ms | Allocations: 12827)
  Rendered favorites/create.js.erb (Duration: 70.1ms | Allocations: 83203)
Completed 200 OK in 100ms (Views: 67.9ms | ActiveRecord: 5.6ms | Allocations: 97453)


Started GET "/books?sort=rate+DESC" for ::1 at 2024-05-07 21:21:32 +0900
Processing by BooksController#index as HTML
  Parameters: {"sort"=>"rate DESC"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 11.7ms | Allocations: 2429)
  Rendered users/_follow_btn.html.erb (Duration: 0.2ms | Allocations: 40)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.3ms | Allocations: 966)
  Rendered books/_newbook.html.erb (Duration: 1.9ms | Allocations: 1881)
  [1m[36mBook Load (0.8ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY rate DESC[0m
  ↳ app/views/books/_index.html.erb:23
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.5ms | Allocations: 1986)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1915)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1915)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1915)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.1ms | Allocations: 1915)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1915)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1915)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1915)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.2ms | Allocations: 1987)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:79
  Rendered books/_index.html.erb (Duration: 55.2ms | Allocations: 58219)
  Rendered books/index.html.erb within layouts/application (Duration: 72.0ms | Allocations: 63897)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.4ms | Allocations: 724)
  Rendered searches/_search_window.html.erb (Duration: 0.4ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 79.2ms | Allocations: 68595)
Completed 200 OK in 85ms (Views: 76.2ms | ActiveRecord: 3.7ms | Allocations: 70314)


Started GET "/books?sort=rate+DESC" for ::1 at 2024-05-07 21:21:33 +0900
Processing by BooksController#index as HTML
  Parameters: {"sort"=>"rate DESC"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 9.1ms | Allocations: 2303)
  Rendered users/_follow_btn.html.erb (Duration: 0.6ms | Allocations: 40)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 2.4ms | Allocations: 966)
  Rendered books/_newbook.html.erb (Duration: 1.7ms | Allocations: 1867)
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY rate DESC[0m
  ↳ app/views/books/_index.html.erb:23
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 3.4ms | Allocations: 1986)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.3ms | Allocations: 1915)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.6ms | Allocations: 1915)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1915)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1915)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.5ms | Allocations: 1915)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 1915)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1915)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.5ms | Allocations: 1987)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:79
  Rendered books/_index.html.erb (Duration: 56.3ms | Allocations: 58218)
  Rendered books/index.html.erb within layouts/application (Duration: 70.6ms | Allocations: 63756)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 723)
  Rendered searches/_search_window.html.erb (Duration: 0.3ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 74.1ms | Allocations: 68453)
Completed 200 OK in 81ms (Views: 71.1ms | ActiveRecord: 3.8ms | Allocations: 70152)


Started GET "/books?sort=created_at+DESC" for ::1 at 2024-05-07 21:21:35 +0900
Processing by BooksController#index as HTML
  Parameters: {"sort"=>"created_at DESC"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 10.4ms | Allocations: 2427)
  Rendered users/_follow_btn.html.erb (Duration: 0.1ms | Allocations: 40)
  [1m[36mRelationship Load (0.2ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 2.9ms | Allocations: 966)
  Rendered books/_newbook.html.erb (Duration: 1.5ms | Allocations: 1871)
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY created_at DESC[0m
  ↳ app/views/books/_index.html.erb:23
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.3ms | Allocations: 1986)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1915)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 3.0ms | Allocations: 1915)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.0ms | Allocations: 1915)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1915)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.5ms | Allocations: 1915)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1915)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.0ms | Allocations: 1915)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.3ms | Allocations: 1987)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:79
  Rendered books/_index.html.erb (Duration: 59.0ms | Allocations: 58242)
  Rendered books/index.html.erb within layouts/application (Duration: 75.1ms | Allocations: 63908)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.4ms | Allocations: 724)
  Rendered searches/_search_window.html.erb (Duration: 0.2ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 78.9ms | Allocations: 68606)
Completed 200 OK in 87ms (Views: 76.2ms | ActiveRecord: 3.7ms | Allocations: 71120)


Started POST "/books/6/favorites" for ::1 at 2024-05-07 21:21:37 +0900
Processing by FavoritesController#create as JS
  Parameters: {"book_id"=>"6"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:3:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."book_id" = ? AND "favorites"."user_id" = ? LIMIT ?[0m  [["book_id", 6], ["user_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mFavorite Create (0.3ms)[0m  [1m[32mINSERT INTO "favorites" ("book_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["book_id", 6], ["user_id", 2], ["created_at", "2024-05-07 12:21:37.323437"], ["updated_at", "2024-05-07 12:21:37.323437"]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3], ["book_id", 4], ["book_id", 5], ["book_id", 6], ["book_id", 7], ["book_id", 8], ["book_id", 9]]
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 3], ["id", 2]]
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:7:in `create'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?, ?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 6], ["book_id", 7], ["book_id", 8], ["book_id", 9]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ?[0m  [["id", 2]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  Rendering favorites/create.js.erb
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.4ms | Allocations: 2672)
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.1ms | Allocations: 2371)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.5ms | Allocations: 1808)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.2ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.4ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.5ms | Allocations: 1982)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:79
  Rendered books/_index.html.erb (Duration: 55.6ms | Allocations: 63654)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.3ms | Allocations: 1808)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.3ms | Allocations: 1809)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.3ms | Allocations: 1809)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1809)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.5ms | Allocations: 1809)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1809)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/users/_userbooks.html.erb:36
  Rendered users/_userbooks.html.erb (Duration: 19.4ms | Allocations: 25600)
  Rendered favorites/create.js.erb (Duration: 78.7ms | Allocations: 95686)
Completed 200 OK in 111ms (Views: 76.9ms | ActiveRecord: 5.3ms | Allocations: 110999)


Started GET "/books?sort=rate+DESC" for ::1 at 2024-05-07 21:21:40 +0900
Processing by BooksController#index as HTML
  Parameters: {"sort"=>"rate DESC"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 8.9ms | Allocations: 2303)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 40)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 0.9ms | Allocations: 966)
  Rendered books/_newbook.html.erb (Duration: 2.3ms | Allocations: 1873)
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY rate DESC[0m
  ↳ app/views/books/_index.html.erb:23
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.9ms | Allocations: 2040)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.8ms | Allocations: 1915)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1915)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1915)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1915)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.1ms | Allocations: 1915)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.1ms | Allocations: 1915)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.0ms | Allocations: 1915)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1987)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:79
  Rendered books/_index.html.erb (Duration: 57.0ms | Allocations: 59165)
  Rendered books/index.html.erb within layouts/application (Duration: 69.5ms | Allocations: 64709)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 724)
  Rendered searches/_search_window.html.erb (Duration: 2.1ms | Allocations: 1644)
  Rendered layout layouts/application.html.erb (Duration: 76.1ms | Allocations: 69408)
Completed 200 OK in 92ms (Views: 74.1ms | ActiveRecord: 3.4ms | Allocations: 71107)


Started GET "/books?sort=created_at+DESC" for ::1 at 2024-05-07 21:21:42 +0900
Processing by BooksController#index as HTML
  Parameters: {"sort"=>"created_at DESC"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 15.5ms | Allocations: 2303)
  Rendered users/_follow_btn.html.erb (Duration: 0.1ms | Allocations: 40)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 2.8ms | Allocations: 1730)
  Rendered books/_newbook.html.erb (Duration: 2.5ms | Allocations: 2004)
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY created_at DESC[0m
  ↳ app/views/books/_index.html.erb:23
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1986)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.2ms | Allocations: 1915)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.5ms | Allocations: 1915)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.1ms | Allocations: 1915)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.2ms | Allocations: 1915)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.2ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.0ms | Allocations: 1915)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 1915)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1915)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1987)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:79
  Rendered books/_index.html.erb (Duration: 52.8ms | Allocations: 58228)
  Rendered books/index.html.erb within layouts/application (Duration: 74.6ms | Allocations: 64705)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 724)
  Rendered searches/_search_window.html.erb (Duration: 0.4ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 78.2ms | Allocations: 69403)
Completed 200 OK in 86ms (Views: 76.0ms | ActiveRecord: 3.3ms | Allocations: 71103)


Started GET "/users" for ::1 at 2024-05-07 21:21:45 +0900
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 13.5ms | Allocations: 2305)
  Rendered users/_follow_btn.html.erb (Duration: 0.1ms | Allocations: 40)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.7ms | Allocations: 966)
  Rendered books/_newbook.html.erb (Duration: 2.8ms | Allocations: 1869)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:22
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/index.html.erb:28
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/index.html.erb:29
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/index.html.erb:28
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/index.html.erb:29
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/index.html.erb:28
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/index.html.erb:29
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 4]]
  ↳ app/views/users/index.html.erb:28
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 4]]
  ↳ app/views/users/index.html.erb:29
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 5]]
  ↳ app/views/users/index.html.erb:28
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 5]]
  ↳ app/views/users/index.html.erb:29
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/index.html.erb within layouts/application (Duration: 43.7ms | Allocations: 23046)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 724)
  Rendered searches/_search_window.html.erb (Duration: 0.4ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 47.3ms | Allocations: 27744)
Completed 200 OK in 59ms (Views: 46.1ms | ActiveRecord: 2.2ms | Allocations: 29553)


Started GET "/books" for ::1 at 2024-05-07 21:22:12 +0900
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/books_controller.rb:32:in `sort'
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3], ["book_id", 4], ["book_id", 5], ["book_id", 6], ["book_id", 7], ["book_id", 8], ["book_id", 9]]
  ↳ app/controllers/books_controller.rb:32:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 3], ["id", 2]]
  ↳ app/controllers/books_controller.rb:32:in `sort'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 5], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 9], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 5], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 9], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 9], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 2], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 9], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 3], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 9], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 4], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 9], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 5], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 9], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 6], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 9], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 7], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 9], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 8], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 9], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 3], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 6], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 4], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 6], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 5], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 4], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 3.1ms | Allocations: 2782)
  Rendered users/_follow_btn.html.erb (Duration: 0.5ms | Allocations: 212)
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.6ms | Allocations: 1253)
  Rendered books/_newbook.html.erb (Duration: 2.8ms | Allocations: 2451)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.5ms | Allocations: 2190)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.1ms | Allocations: 1914)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1914)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.5ms | Allocations: 1914)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.5ms | Allocations: 1915)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 1914)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.5ms | Allocations: 1914)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1914)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.0ms | Allocations: 1986)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:79
  Rendered books/_index.html.erb (Duration: 51.5ms | Allocations: 58375)
  Rendered books/index.html.erb within layouts/application (Duration: 61.6ms | Allocations: 66370)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 1.0ms | Allocations: 1292)
  Rendered searches/_search_window.html.erb (Duration: 0.7ms | Allocations: 1863)
  Rendered layout layouts/application.html.erb (Duration: 70.3ms | Allocations: 72477)
Completed 200 OK in 97ms (Views: 71.2ms | ActiveRecord: 3.7ms | Allocations: 103118)


Started GET "/users/2/edit" for ::1 at 2024-05-07 21:22:18 +0900
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:103:in `baria_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:74:in `edit'
  Rendering layout layouts/application.html.erb
  Rendering users/edit.html.erb within layouts/application
  Rendered users/edit.html.erb within layouts/application (Duration: 1.6ms | Allocations: 1413)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 764)
  Rendered searches/_search_window.html.erb (Duration: 0.3ms | Allocations: 1666)
  Rendered layout layouts/application.html.erb (Duration: 5.1ms | Allocations: 6326)
Completed 200 OK in 26ms (Views: 6.2ms | ActiveRecord: 0.4ms | Allocations: 10061)


Started GET "/users/2" for ::1 at 2024-05-07 21:22:21 +0900
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:6:in `show'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-07 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:9:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-06 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:10:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-05 00:00:00"], ["created_at", "2024-05-05 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:11:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-04 00:00:00"], ["created_at", "2024-05-04 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:12:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-03 00:00:00"], ["created_at", "2024-05-03 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:13:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-02 00:00:00"], ["created_at", "2024-05-02 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:14:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-01 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:15:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" >= ? AND "books"."created_at" < ?[0m  [["user_id", 2], ["created_at", "2024-04-30 23:59:59.999999"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:22:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" >= ? AND "books"."created_at" < ?[0m  [["user_id", 2], ["created_at", "2024-04-23 23:59:59.999999"], ["created_at", "2024-04-30 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:23:in `show'
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?, ?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 6], ["book_id", 7], ["book_id", 8], ["book_id", 9]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ?[0m  [["id", 2]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 2.7ms | Allocations: 2554)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 43)
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 0.7ms | Allocations: 967)
  Rendered books/_newbook.html.erb (Duration: 1.5ms | Allocations: 1972)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.2ms | Allocations: 1994)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.5ms | Allocations: 1915)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.5ms | Allocations: 1914)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.5ms | Allocations: 1914)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.1ms | Allocations: 1914)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1914)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/users/_userbooks.html.erb:36
  Rendered users/_userbooks.html.erb (Duration: 24.8ms | Allocations: 27142)
  Rendered users/_book_counts.html.erb (Duration: 0.5ms | Allocations: 336)
  Rendered users/_week_book_counts.html.erb (Duration: 1.2ms | Allocations: 238)
  Rendered users/_graph.html.erb (Duration: 0.7ms | Allocations: 308)
  Rendered users/_count_search.html.erb (Duration: 0.4ms | Allocations: 138)
  Rendered users/show.html.erb within layouts/application (Duration: 35.4ms | Allocations: 36018)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 723)
  Rendered searches/_search_window.html.erb (Duration: 0.5ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 40.5ms | Allocations: 40614)
Completed 200 OK in 60ms (Views: 39.3ms | ActiveRecord: 2.5ms | Allocations: 54446)


Started GET "/users/2/countsearch?created_at=2024-05-07&commit=%E6%A4%9C%E7%B4%A2" for ::1 at 2024-05-07 21:22:26 +0900
Processing by UsersController#search as HTML
  Parameters: {"created_at"=>"2024-05-07", "commit"=>"検索", "user_id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:56:in `search'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND (created_at LIKE '2024-05-07%')[0m  [["user_id", 2]]
  ↳ app/controllers/users_controller.rb:62:in `search'
Completed 406 Not Acceptable in 21ms (ActiveRecord: 0.8ms | Allocations: 4243)


  
ActionController::UnknownFormat (UsersController#search is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []):
  
actionpack (6.1.4) lib/action_controller/metal/implicit_render.rb:42:in `default_render'
actionpack (6.1.4) lib/action_controller/metal/basic_implicit_render.rb:6:in `block in send_action'
<internal:kernel>:90:in `tap'
actionpack (6.1.4) lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
actionpack (6.1.4) lib/abstract_controller/base.rb:228:in `process_action'
actionpack (6.1.4) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (6.1.4) lib/abstract_controller/callbacks.rb:42:in `block in process_action'
activesupport (6.1.4) lib/active_support/callbacks.rb:117:in `block in run_callbacks'
actiontext (6.1.4) lib/action_text/rendering.rb:20:in `with_renderer'
actiontext (6.1.4) lib/action_text/engine.rb:59:in `block (4 levels) in <class:Engine>'
activesupport (6.1.4) lib/active_support/callbacks.rb:126:in `instance_exec'
activesupport (6.1.4) lib/active_support/callbacks.rb:126:in `block in run_callbacks'
activesupport (6.1.4) lib/active_support/callbacks.rb:137:in `run_callbacks'
actionpack (6.1.4) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (6.1.4) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (6.1.4) lib/action_controller/metal/instrumentation.rb:34:in `block in process_action'
activesupport (6.1.4) lib/active_support/notifications.rb:203:in `block in instrument'
activesupport (6.1.4) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.1.4) lib/active_support/notifications.rb:203:in `instrument'
actionpack (6.1.4) lib/action_controller/metal/instrumentation.rb:33:in `process_action'
actionpack (6.1.4) lib/action_controller/metal/params_wrapper.rb:249:in `process_action'
activerecord (6.1.4) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.1.4) lib/abstract_controller/base.rb:165:in `process'
actionview (6.1.4) lib/action_view/rendering.rb:39:in `process'
actionpack (6.1.4) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (6.1.4) lib/action_controller/metal.rb:254:in `dispatch'
actionpack (6.1.4) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (6.1.4) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.1.4) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (6.1.4) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.1.4) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.1.4) lib/action_dispatch/routing/route_set.rb:842:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.9) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.9) lib/rack/etag.rb:27:in `call'
rack (2.2.9) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.9) lib/rack/head.rb:12:in `call'
actionpack (6.1.4) lib/action_dispatch/http/permissions_policy.rb:22:in `call'
actionpack (6.1.4) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.2.9) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.9) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/cookies.rb:689:in `call'
activerecord (6.1.4) lib/active_record/migration.rb:601:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.1.4) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (6.1.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.1.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.1.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.1.4) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (6.1.4) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (6.1.4) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (6.1.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.9) lib/rack/method_override.rb:24:in `call'
rack (2.2.9) lib/rack/runtime.rb:22:in `call'
activesupport (6.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/static.rb:24:in `call'
rack (2.2.9) lib/rack/sendfile.rb:110:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/host_authorization.rb:98:in `call'
rack-mini-profiler (2.3.4) lib/mini_profiler/profiler.rb:393:in `call'
webpacker (5.4.4) lib/webpacker/dev_server_proxy.rb:25:in `perform_request'
rack-proxy (0.7.7) lib/rack/proxy.rb:87:in `call'
railties (6.1.4) lib/rails/engine.rb:539:in `call'
puma (5.6.8) lib/puma/configuration.rb:252:in `call'
puma (5.6.8) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.8) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.8) lib/puma/request.rb:76:in `handle_request'
puma (5.6.8) lib/puma/server.rb:443:in `process_client'
puma (5.6.8) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/users/2" for ::1 at 2024-05-07 21:24:22 +0900
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:6:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-07 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:9:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-06 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:10:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-05 00:00:00"], ["created_at", "2024-05-05 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:11:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-04 00:00:00"], ["created_at", "2024-05-04 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:12:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-03 00:00:00"], ["created_at", "2024-05-03 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:13:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-02 00:00:00"], ["created_at", "2024-05-02 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:14:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-01 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:15:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" >= ? AND "books"."created_at" < ?[0m  [["user_id", 2], ["created_at", "2024-04-30 23:59:59.999999"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:22:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" >= ? AND "books"."created_at" < ?[0m  [["user_id", 2], ["created_at", "2024-04-23 23:59:59.999999"], ["created_at", "2024-04-30 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:23:in `show'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?, ?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 6], ["book_id", 7], ["book_id", 8], ["book_id", 9]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ?[0m  [["id", 2]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 3.0ms | Allocations: 2784)
  Rendered users/_follow_btn.html.erb (Duration: 0.5ms | Allocations: 211)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.7ms | Allocations: 1253)
  Rendered books/_newbook.html.erb (Duration: 3.3ms | Allocations: 2468)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.5ms | Allocations: 2190)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.4ms | Allocations: 1915)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.5ms | Allocations: 1914)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.4ms | Allocations: 1914)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.2ms | Allocations: 1914)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.4ms | Allocations: 1914)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/users/_userbooks.html.erb:36
  Rendered users/_userbooks.html.erb (Duration: 26.1ms | Allocations: 27472)
  Rendered users/_book_counts.html.erb (Duration: 0.6ms | Allocations: 336)
  Rendered users/_week_book_counts.html.erb (Duration: 0.3ms | Allocations: 238)
  Rendered users/_graph.html.erb (Duration: 0.3ms | Allocations: 308)
  Rendered users/_count_search.html.erb (Duration: 0.3ms | Allocations: 138)
  Rendered users/show.html.erb within layouts/application (Duration: 39.7ms | Allocations: 37990)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.8ms | Allocations: 1288)
  Rendered searches/_search_window.html.erb (Duration: 0.7ms | Allocations: 1863)
  Rendered layout layouts/application.html.erb (Duration: 48.0ms | Allocations: 43988)
Completed 200 OK in 63ms (Views: 49.8ms | ActiveRecord: 2.1ms | Allocations: 58423)


Started GET "/users/2" for ::1 at 2024-05-07 21:24:23 +0900
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:6:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-07 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:9:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-06 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:10:in `show'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-05 00:00:00"], ["created_at", "2024-05-05 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:11:in `show'
  [1m[35m (2.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-04 00:00:00"], ["created_at", "2024-05-04 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:12:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-03 00:00:00"], ["created_at", "2024-05-03 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:13:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-02 00:00:00"], ["created_at", "2024-05-02 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:14:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-01 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:15:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" >= ? AND "books"."created_at" < ?[0m  [["user_id", 2], ["created_at", "2024-04-30 23:59:59.999999"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:22:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" >= ? AND "books"."created_at" < ?[0m  [["user_id", 2], ["created_at", "2024-04-23 23:59:59.999999"], ["created_at", "2024-04-30 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:23:in `show'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?, ?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 6], ["book_id", 7], ["book_id", 8], ["book_id", 9]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ?[0m  [["id", 2]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 2.4ms | Allocations: 2303)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 40)
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.0ms | Allocations: 966)
  Rendered books/_newbook.html.erb (Duration: 1.6ms | Allocations: 1866)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.1ms | Allocations: 1985)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 3.2ms | Allocations: 1914)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.8ms | Allocations: 1914)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.3ms | Allocations: 1914)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.4ms | Allocations: 1914)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.2ms | Allocations: 1914)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/users/_userbooks.html.erb:36
  Rendered users/_userbooks.html.erb (Duration: 31.1ms | Allocations: 26684)
  Rendered users/_book_counts.html.erb (Duration: 0.0ms | Allocations: 50)
  Rendered users/_week_book_counts.html.erb (Duration: 0.0ms | Allocations: 56)
  Rendered users/_graph.html.erb (Duration: 0.0ms | Allocations: 56)
  Rendered users/_count_search.html.erb (Duration: 0.0ms | Allocations: 38)
  Rendered users/show.html.erb within layouts/application (Duration: 37.0ms | Allocations: 33300)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.2ms | Allocations: 723)
  Rendered searches/_search_window.html.erb (Duration: 0.4ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 41.0ms | Allocations: 37896)
Completed 200 OK in 73ms (Views: 39.7ms | ActiveRecord: 5.8ms | Allocations: 51413)


Started GET "/users/2/countsearch?created_at=&commit=%E6%A4%9C%E7%B4%A2" for ::1 at 2024-05-07 21:24:25 +0900
Processing by UsersController#search as HTML
  Parameters: {"created_at"=>"", "commit"=>"検索", "user_id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:56:in `search'
Completed 406 Not Acceptable in 15ms (ActiveRecord: 0.3ms | Allocations: 3441)


  
ActionController::UnknownFormat (UsersController#search is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []):
  
actionpack (6.1.4) lib/action_controller/metal/implicit_render.rb:42:in `default_render'
actionpack (6.1.4) lib/action_controller/metal/basic_implicit_render.rb:6:in `block in send_action'
<internal:kernel>:90:in `tap'
actionpack (6.1.4) lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
actionpack (6.1.4) lib/abstract_controller/base.rb:228:in `process_action'
actionpack (6.1.4) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (6.1.4) lib/abstract_controller/callbacks.rb:42:in `block in process_action'
activesupport (6.1.4) lib/active_support/callbacks.rb:117:in `block in run_callbacks'
actiontext (6.1.4) lib/action_text/rendering.rb:20:in `with_renderer'
actiontext (6.1.4) lib/action_text/engine.rb:59:in `block (4 levels) in <class:Engine>'
activesupport (6.1.4) lib/active_support/callbacks.rb:126:in `instance_exec'
activesupport (6.1.4) lib/active_support/callbacks.rb:126:in `block in run_callbacks'
activesupport (6.1.4) lib/active_support/callbacks.rb:137:in `run_callbacks'
actionpack (6.1.4) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (6.1.4) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (6.1.4) lib/action_controller/metal/instrumentation.rb:34:in `block in process_action'
activesupport (6.1.4) lib/active_support/notifications.rb:203:in `block in instrument'
activesupport (6.1.4) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.1.4) lib/active_support/notifications.rb:203:in `instrument'
actionpack (6.1.4) lib/action_controller/metal/instrumentation.rb:33:in `process_action'
actionpack (6.1.4) lib/action_controller/metal/params_wrapper.rb:249:in `process_action'
activerecord (6.1.4) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.1.4) lib/abstract_controller/base.rb:165:in `process'
actionview (6.1.4) lib/action_view/rendering.rb:39:in `process'
actionpack (6.1.4) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (6.1.4) lib/action_controller/metal.rb:254:in `dispatch'
actionpack (6.1.4) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (6.1.4) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.1.4) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (6.1.4) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.1.4) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.1.4) lib/action_dispatch/routing/route_set.rb:842:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.9) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.9) lib/rack/etag.rb:27:in `call'
rack (2.2.9) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.9) lib/rack/head.rb:12:in `call'
actionpack (6.1.4) lib/action_dispatch/http/permissions_policy.rb:22:in `call'
actionpack (6.1.4) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.2.9) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.9) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/cookies.rb:689:in `call'
activerecord (6.1.4) lib/active_record/migration.rb:601:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.1.4) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (6.1.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.1.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.1.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.1.4) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (6.1.4) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (6.1.4) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (6.1.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.9) lib/rack/method_override.rb:24:in `call'
rack (2.2.9) lib/rack/runtime.rb:22:in `call'
activesupport (6.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/static.rb:24:in `call'
rack (2.2.9) lib/rack/sendfile.rb:110:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/host_authorization.rb:98:in `call'
rack-mini-profiler (2.3.4) lib/mini_profiler/profiler.rb:393:in `call'
webpacker (5.4.4) lib/webpacker/dev_server_proxy.rb:25:in `perform_request'
rack-proxy (0.7.7) lib/rack/proxy.rb:87:in `call'
railties (6.1.4) lib/rails/engine.rb:539:in `call'
puma (5.6.8) lib/puma/configuration.rb:252:in `call'
puma (5.6.8) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.8) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.8) lib/puma/request.rb:76:in `handle_request'
puma (5.6.8) lib/puma/server.rb:443:in `process_client'
puma (5.6.8) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/users/2" for ::1 at 2024-05-07 21:24:42 +0900
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:6:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-07 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:9:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-06 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:10:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-05 00:00:00"], ["created_at", "2024-05-05 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:11:in `show'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-04 00:00:00"], ["created_at", "2024-05-04 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:12:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-03 00:00:00"], ["created_at", "2024-05-03 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:13:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-02 00:00:00"], ["created_at", "2024-05-02 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:14:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-01 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:15:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" >= ? AND "books"."created_at" < ?[0m  [["user_id", 2], ["created_at", "2024-04-30 23:59:59.999999"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:22:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" >= ? AND "books"."created_at" < ?[0m  [["user_id", 2], ["created_at", "2024-04-23 23:59:59.999999"], ["created_at", "2024-04-30 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:23:in `show'
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?, ?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 6], ["book_id", 7], ["book_id", 8], ["book_id", 9]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ?[0m  [["id", 2]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 2.6ms | Allocations: 2303)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 40)
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 0.8ms | Allocations: 966)
  Rendered books/_newbook.html.erb (Duration: 2.6ms | Allocations: 1883)
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1985)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1914)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.0ms | Allocations: 1914)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.5ms | Allocations: 1914)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.4ms | Allocations: 1914)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 1914)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/users/_userbooks.html.erb:36
  Rendered users/_userbooks.html.erb (Duration: 22.7ms | Allocations: 26684)
  Rendered users/_book_counts.html.erb (Duration: 0.0ms | Allocations: 50)
  Rendered users/_week_book_counts.html.erb (Duration: 0.0ms | Allocations: 56)
  Rendered users/_graph.html.erb (Duration: 0.0ms | Allocations: 56)
  Rendered users/_count_search.html.erb (Duration: 0.0ms | Allocations: 38)
  Rendered users/show.html.erb within layouts/application (Duration: 29.7ms | Allocations: 33318)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 723)
  Rendered searches/_search_window.html.erb (Duration: 0.4ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 36.2ms | Allocations: 37914)
Completed 200 OK in 54ms (Views: 35.1ms | ActiveRecord: 2.6ms | Allocations: 51286)


Started GET "/users/2/countsearch?created_at=2024-05-07&commit=%E6%A4%9C%E7%B4%A2" for ::1 at 2024-05-07 21:24:48 +0900
Processing by UsersController#search as HTML
  Parameters: {"created_at"=>"2024-05-07", "commit"=>"検索", "user_id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:56:in `search'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND (created_at LIKE '2024-05-07%')[0m  [["user_id", 2]]
  ↳ app/controllers/users_controller.rb:62:in `search'
Completed 406 Not Acceptable in 11ms (ActiveRecord: 0.8ms | Allocations: 3225)


  
ActionController::UnknownFormat (UsersController#search is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []):
  
actionpack (6.1.4) lib/action_controller/metal/implicit_render.rb:42:in `default_render'
actionpack (6.1.4) lib/action_controller/metal/basic_implicit_render.rb:6:in `block in send_action'
<internal:kernel>:90:in `tap'
actionpack (6.1.4) lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
actionpack (6.1.4) lib/abstract_controller/base.rb:228:in `process_action'
actionpack (6.1.4) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (6.1.4) lib/abstract_controller/callbacks.rb:42:in `block in process_action'
activesupport (6.1.4) lib/active_support/callbacks.rb:117:in `block in run_callbacks'
actiontext (6.1.4) lib/action_text/rendering.rb:20:in `with_renderer'
actiontext (6.1.4) lib/action_text/engine.rb:59:in `block (4 levels) in <class:Engine>'
activesupport (6.1.4) lib/active_support/callbacks.rb:126:in `instance_exec'
activesupport (6.1.4) lib/active_support/callbacks.rb:126:in `block in run_callbacks'
activesupport (6.1.4) lib/active_support/callbacks.rb:137:in `run_callbacks'
actionpack (6.1.4) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (6.1.4) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (6.1.4) lib/action_controller/metal/instrumentation.rb:34:in `block in process_action'
activesupport (6.1.4) lib/active_support/notifications.rb:203:in `block in instrument'
activesupport (6.1.4) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.1.4) lib/active_support/notifications.rb:203:in `instrument'
actionpack (6.1.4) lib/action_controller/metal/instrumentation.rb:33:in `process_action'
actionpack (6.1.4) lib/action_controller/metal/params_wrapper.rb:249:in `process_action'
activerecord (6.1.4) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.1.4) lib/abstract_controller/base.rb:165:in `process'
actionview (6.1.4) lib/action_view/rendering.rb:39:in `process'
actionpack (6.1.4) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (6.1.4) lib/action_controller/metal.rb:254:in `dispatch'
actionpack (6.1.4) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (6.1.4) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.1.4) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (6.1.4) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.1.4) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.1.4) lib/action_dispatch/routing/route_set.rb:842:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.9) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.9) lib/rack/etag.rb:27:in `call'
rack (2.2.9) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.9) lib/rack/head.rb:12:in `call'
actionpack (6.1.4) lib/action_dispatch/http/permissions_policy.rb:22:in `call'
actionpack (6.1.4) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.2.9) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.9) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/cookies.rb:689:in `call'
activerecord (6.1.4) lib/active_record/migration.rb:601:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.1.4) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (6.1.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.1.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.1.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.1.4) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (6.1.4) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (6.1.4) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (6.1.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.9) lib/rack/method_override.rb:24:in `call'
rack (2.2.9) lib/rack/runtime.rb:22:in `call'
activesupport (6.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/static.rb:24:in `call'
rack (2.2.9) lib/rack/sendfile.rb:110:in `call'
actionpack (6.1.4) lib/action_dispatch/middleware/host_authorization.rb:98:in `call'
rack-mini-profiler (2.3.4) lib/mini_profiler/profiler.rb:393:in `call'
webpacker (5.4.4) lib/webpacker/dev_server_proxy.rb:25:in `perform_request'
rack-proxy (0.7.7) lib/rack/proxy.rb:87:in `call'
railties (6.1.4) lib/rails/engine.rb:539:in `call'
puma (5.6.8) lib/puma/configuration.rb:252:in `call'
puma (5.6.8) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.8) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.8) lib/puma/request.rb:76:in `handle_request'
puma (5.6.8) lib/puma/server.rb:443:in `process_client'
puma (5.6.8) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/users/2" for ::1 at 2024-05-07 21:26:55 +0900
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:6:in `show'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-07 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:9:in `show'
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-06 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:10:in `show'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-05 00:00:00"], ["created_at", "2024-05-05 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:11:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-04 00:00:00"], ["created_at", "2024-05-04 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:12:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-03 00:00:00"], ["created_at", "2024-05-03 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:13:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-02 00:00:00"], ["created_at", "2024-05-02 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:14:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-01 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:15:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" >= ? AND "books"."created_at" < ?[0m  [["user_id", 2], ["created_at", "2024-04-30 23:59:59.999999"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:22:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" >= ? AND "books"."created_at" < ?[0m  [["user_id", 2], ["created_at", "2024-04-23 23:59:59.999999"], ["created_at", "2024-04-30 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:23:in `show'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?, ?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 6], ["book_id", 7], ["book_id", 8], ["book_id", 9]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ?[0m  [["id", 2]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 4.4ms | Allocations: 2784)
  Rendered users/_follow_btn.html.erb (Duration: 0.6ms | Allocations: 211)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.6ms | Allocations: 1253)
  Rendered books/_newbook.html.erb (Duration: 4.2ms | Allocations: 2464)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.7ms | Allocations: 2190)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.4ms | Allocations: 1915)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.5ms | Allocations: 1914)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.1ms | Allocations: 1914)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1914)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.5ms | Allocations: 1914)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/users/_userbooks.html.erb:36
  Rendered users/_userbooks.html.erb (Duration: 27.0ms | Allocations: 27475)
  Rendered users/_book_counts.html.erb (Duration: 0.4ms | Allocations: 335)
  Rendered users/_week_book_counts.html.erb (Duration: 0.2ms | Allocations: 238)
  Rendered users/_graph.html.erb (Duration: 0.3ms | Allocations: 308)
  Rendered users/_count_search.html.erb (Duration: 0.2ms | Allocations: 138)
  Rendered users/show.html.erb within layouts/application (Duration: 43.3ms | Allocations: 37992)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.9ms | Allocations: 1289)
  Rendered searches/_search_window.html.erb (Duration: 1.2ms | Allocations: 1863)
  Rendered layout layouts/application.html.erb (Duration: 53.5ms | Allocations: 43991)
Completed 200 OK in 92ms (Views: 55.3ms | ActiveRecord: 4.3ms | Allocations: 58426)


Started GET "/users/2" for ::1 at 2024-05-07 21:26:56 +0900
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:6:in `show'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-07 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:9:in `show'
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-06 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:10:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-05 00:00:00"], ["created_at", "2024-05-05 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:11:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-04 00:00:00"], ["created_at", "2024-05-04 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:12:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-03 00:00:00"], ["created_at", "2024-05-03 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:13:in `show'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-02 00:00:00"], ["created_at", "2024-05-02 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:14:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-01 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:15:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" >= ? AND "books"."created_at" < ?[0m  [["user_id", 2], ["created_at", "2024-04-30 23:59:59.999999"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:22:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" >= ? AND "books"."created_at" < ?[0m  [["user_id", 2], ["created_at", "2024-04-23 23:59:59.999999"], ["created_at", "2024-04-30 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:23:in `show'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?, ?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 6], ["book_id", 7], ["book_id", 8], ["book_id", 9]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ?[0m  [["id", 2]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 2.7ms | Allocations: 2303)
  Rendered users/_follow_btn.html.erb (Duration: 0.1ms | Allocations: 40)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.5ms | Allocations: 966)
  Rendered books/_newbook.html.erb (Duration: 2.7ms | Allocations: 1869)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.4ms | Allocations: 1985)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1914)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.3ms | Allocations: 1914)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.5ms | Allocations: 1914)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.7ms | Allocations: 1914)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.2ms | Allocations: 1914)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/users/_userbooks.html.erb:36
  Rendered users/_userbooks.html.erb (Duration: 28.6ms | Allocations: 26684)
  Rendered users/_book_counts.html.erb (Duration: 0.0ms | Allocations: 50)
  Rendered users/_week_book_counts.html.erb (Duration: 0.0ms | Allocations: 56)
  Rendered users/_graph.html.erb (Duration: 0.0ms | Allocations: 56)
  Rendered users/_count_search.html.erb (Duration: 0.0ms | Allocations: 38)
  Rendered users/show.html.erb within layouts/application (Duration: 36.5ms | Allocations: 33306)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 723)
  Rendered searches/_search_window.html.erb (Duration: 0.5ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 40.6ms | Allocations: 37902)
Completed 200 OK in 75ms (Views: 39.3ms | ActiveRecord: 3.8ms | Allocations: 51436)


Started GET "/users/2/countsearch?created_at=2024-05-07&commit=%E6%A4%9C%E7%B4%A2" for ::1 at 2024-05-07 21:26:59 +0900
Processing by UsersController#search as JS
  Parameters: {"created_at"=>"2024-05-07", "commit"=>"検索", "user_id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:56:in `search'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND (created_at LIKE '2024-05-07%')[0m  [["user_id", 2]]
  ↳ app/controllers/users_controller.rb:62:in `search'
  Rendering users/search.js.erb
  Rendered users/_count_search.html.erb (Duration: 0.1ms | Allocations: 41)
  Rendered users/search.js.erb (Duration: 1.3ms | Allocations: 436)
Completed 200 OK in 12ms (Views: 3.4ms | ActiveRecord: 0.5ms | Allocations: 4977)


Started GET "/users/2/countsearch?created_at=2024-05-06&commit=%E6%A4%9C%E7%B4%A2" for ::1 at 2024-05-07 21:27:06 +0900
Processing by UsersController#search as JS
  Parameters: {"created_at"=>"2024-05-06", "commit"=>"検索", "user_id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:56:in `search'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND (created_at LIKE '2024-05-06%')[0m  [["user_id", 2]]
  ↳ app/controllers/users_controller.rb:62:in `search'
  Rendering users/search.js.erb
  Rendered users/_count_search.html.erb (Duration: 0.1ms | Allocations: 41)
  Rendered users/search.js.erb (Duration: 0.2ms | Allocations: 201)
Completed 200 OK in 12ms (Views: 0.7ms | ActiveRecord: 0.5ms | Allocations: 3231)


Started GET "/users/2" for ::1 at 2024-05-07 21:27:22 +0900
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:6:in `show'
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-07 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:9:in `show'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-06 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:10:in `show'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-05 00:00:00"], ["created_at", "2024-05-05 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:11:in `show'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-04 00:00:00"], ["created_at", "2024-05-04 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:12:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-03 00:00:00"], ["created_at", "2024-05-03 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:13:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-02 00:00:00"], ["created_at", "2024-05-02 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:14:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-01 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:15:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" >= ? AND "books"."created_at" < ?[0m  [["user_id", 2], ["created_at", "2024-04-30 23:59:59.999999"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:22:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" >= ? AND "books"."created_at" < ?[0m  [["user_id", 2], ["created_at", "2024-04-23 23:59:59.999999"], ["created_at", "2024-04-30 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:23:in `show'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?, ?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 6], ["book_id", 7], ["book_id", 8], ["book_id", 9]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ?[0m  [["id", 2]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 2.5ms | Allocations: 2303)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 40)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.2ms | Allocations: 966)
  Rendered books/_newbook.html.erb (Duration: 3.4ms | Allocations: 1879)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.0ms | Allocations: 1985)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.4ms | Allocations: 1914)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.5ms | Allocations: 1914)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.5ms | Allocations: 1914)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1914)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1914)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/users/_userbooks.html.erb:36
  Rendered users/_userbooks.html.erb (Duration: 21.9ms | Allocations: 26684)
  Rendered users/_book_counts.html.erb (Duration: 0.0ms | Allocations: 50)
  Rendered users/_week_book_counts.html.erb (Duration: 0.0ms | Allocations: 56)
  Rendered users/_graph.html.erb (Duration: 0.0ms | Allocations: 56)
  Rendered users/_count_search.html.erb (Duration: 0.1ms | Allocations: 38)
  Rendered users/show.html.erb within layouts/application (Duration: 30.6ms | Allocations: 33318)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.4ms | Allocations: 723)
  Rendered searches/_search_window.html.erb (Duration: 0.6ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 44.6ms | Allocations: 37914)
Completed 200 OK in 83ms (Views: 44.0ms | ActiveRecord: 4.2ms | Allocations: 51285)


Started GET "/users/2/countsearch?created_at=2024-05-05&commit=%E6%A4%9C%E7%B4%A2" for ::1 at 2024-05-07 21:27:26 +0900
Processing by UsersController#search as JS
  Parameters: {"created_at"=>"2024-05-05", "commit"=>"検索", "user_id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:56:in `search'
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND (created_at LIKE '2024-05-05%')[0m  [["user_id", 2]]
  ↳ app/controllers/users_controller.rb:62:in `search'
  Rendering users/search.js.erb
  Rendered users/_count_search.html.erb (Duration: 0.1ms | Allocations: 41)
  Rendered users/search.js.erb (Duration: 0.5ms | Allocations: 201)
Completed 200 OK in 16ms (Views: 1.2ms | ActiveRecord: 1.6ms | Allocations: 3233)


Started GET "/users/2/countsearch?created_at=2024-05-07&commit=%E6%A4%9C%E7%B4%A2" for ::1 at 2024-05-07 21:27:28 +0900
Processing by UsersController#search as JS
  Parameters: {"created_at"=>"2024-05-07", "commit"=>"検索", "user_id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:56:in `search'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND (created_at LIKE '2024-05-07%')[0m  [["user_id", 2]]
  ↳ app/controllers/users_controller.rb:62:in `search'
  Rendering users/search.js.erb
  Rendered users/_count_search.html.erb (Duration: 0.1ms | Allocations: 41)
  Rendered users/search.js.erb (Duration: 0.3ms | Allocations: 201)
Completed 200 OK in 10ms (Views: 1.3ms | ActiveRecord: 0.7ms | Allocations: 3231)


Started POST "/books/1/favorites" for ::1 at 2024-05-07 21:28:00 +0900
Processing by FavoritesController#create as JS
  Parameters: {"book_id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:3:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."book_id" = ? AND "favorites"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mFavorite Create (0.6ms)[0m  [1m[32mINSERT INTO "favorites" ("book_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["book_id", 1], ["user_id", 2], ["created_at", "2024-05-07 12:28:00.884004"], ["updated_at", "2024-05-07 12:28:00.884004"]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3], ["book_id", 4], ["book_id", 5], ["book_id", 6], ["book_id", 7], ["book_id", 8], ["book_id", 9]]
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 2], ["id", 3]]
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:7:in `create'
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?, ?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 6], ["book_id", 7], ["book_id", 8], ["book_id", 9]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ?[0m  [["id", 2]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  Rendering favorites/create.js.erb
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.6ms | Allocations: 2047)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.5ms | Allocations: 1808)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.5ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.5ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.0ms | Allocations: 1911)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.5ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1982)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:79
  Rendered books/_index.html.erb (Duration: 51.4ms | Allocations: 58515)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1808)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.5ms | Allocations: 1808)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.4ms | Allocations: 1809)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.4ms | Allocations: 1809)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.5ms | Allocations: 1809)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.3ms | Allocations: 1809)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/users/_userbooks.html.erb:36
  Rendered users/_userbooks.html.erb (Duration: 19.2ms | Allocations: 25601)
  Rendered favorites/create.js.erb (Duration: 76.1ms | Allocations: 90299)
Completed 200 OK in 100ms (Views: 76.1ms | ActiveRecord: 4.7ms | Allocations: 105731)


Started POST "/books/2/favorites" for ::1 at 2024-05-07 21:28:02 +0900
Processing by FavoritesController#create as JS
  Parameters: {"book_id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:3:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mBook Load (2.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mFavorite Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."book_id" = ? AND "favorites"."user_id" = ? LIMIT ?[0m  [["book_id", 2], ["user_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mFavorite Create (0.7ms)[0m  [1m[32mINSERT INTO "favorites" ("book_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["book_id", 2], ["user_id", 2], ["created_at", "2024-05-07 12:28:02.657914"], ["updated_at", "2024-05-07 12:28:02.657914"]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3], ["book_id", 4], ["book_id", 5], ["book_id", 6], ["book_id", 7], ["book_id", 8], ["book_id", 9]]
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 2], ["id", 3]]
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:7:in `create'
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?, ?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 6], ["book_id", 7], ["book_id", 8], ["book_id", 9]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ?[0m  [["id", 2]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  Rendering favorites/create.js.erb
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 3.0ms | Allocations: 1804)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.4ms | Allocations: 1808)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.5ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.0ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.4ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 1982)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:79
  Rendered books/_index.html.erb (Duration: 55.7ms | Allocations: 58978)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.3ms | Allocations: 2275)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.0ms | Allocations: 2297)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.0ms | Allocations: 2623)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 2859)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.5ms | Allocations: 1809)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.2ms | Allocations: 1809)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/users/_userbooks.html.erb:36
  Rendered users/_userbooks.html.erb (Duration: 24.1ms | Allocations: 31768)
  Rendered favorites/create.js.erb (Duration: 84.1ms | Allocations: 96497)
Completed 200 OK in 114ms (Views: 82.0ms | ActiveRecord: 7.7ms | Allocations: 111269)


Started POST "/books/9/favorites" for ::1 at 2024-05-07 21:28:05 +0900
Processing by FavoritesController#create as JS
  Parameters: {"book_id"=>"9"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:3:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mFavorite Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."book_id" = ? AND "favorites"."user_id" = ? LIMIT ?[0m  [["book_id", 9], ["user_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mFavorite Create (0.4ms)[0m  [1m[32mINSERT INTO "favorites" ("book_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["book_id", 9], ["user_id", 2], ["created_at", "2024-05-07 12:28:05.267052"], ["updated_at", "2024-05-07 12:28:05.267052"]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3], ["book_id", 4], ["book_id", 5], ["book_id", 6], ["book_id", 7], ["book_id", 8], ["book_id", 9]]
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 2], ["id", 3]]
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:7:in `create'
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?, ?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 6], ["book_id", 7], ["book_id", 8], ["book_id", 9]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ?[0m  [["id", 2]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  Rendering favorites/create.js.erb
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1804)
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.0ms | Allocations: 1910)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.7ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.5ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.0ms | Allocations: 1808)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.0ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.4ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1982)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:79
  Rendered books/_index.html.erb (Duration: 54.2ms | Allocations: 57729)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1808)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 3.1ms | Allocations: 1808)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.0ms | Allocations: 1808)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1808)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.5ms | Allocations: 1809)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.4ms | Allocations: 1809)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/users/_userbooks.html.erb:36
  Rendered users/_userbooks.html.erb (Duration: 22.0ms | Allocations: 25605)
  Rendered favorites/create.js.erb (Duration: 79.0ms | Allocations: 88654)
Completed 200 OK in 107ms (Views: 76.7ms | ActiveRecord: 5.0ms | Allocations: 103274)


Started POST "/books/8/favorites" for ::1 at 2024-05-07 21:28:06 +0900
Processing by FavoritesController#create as JS
  Parameters: {"book_id"=>"8"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:3:in `create'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."book_id" = ? AND "favorites"."user_id" = ? LIMIT ?[0m  [["book_id", 8], ["user_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mFavorite Create (0.3ms)[0m  [1m[32mINSERT INTO "favorites" ("book_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["book_id", 8], ["user_id", 2], ["created_at", "2024-05-07 12:28:06.470896"], ["updated_at", "2024-05-07 12:28:06.470896"]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3], ["book_id", 4], ["book_id", 5], ["book_id", 6], ["book_id", 7], ["book_id", 8], ["book_id", 9]]
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 2], ["id", 3]]
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:7:in `create'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?, ?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 6], ["book_id", 7], ["book_id", 8], ["book_id", 9]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ?[0m  [["id", 2]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  Rendering favorites/create.js.erb
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.6ms | Allocations: 1804)
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.5ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.2ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 3.0ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.6ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.3ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.5ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.3ms | Allocations: 1808)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 1982)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:79
  Rendered books/_index.html.erb (Duration: 54.0ms | Allocations: 57737)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.4ms | Allocations: 1808)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.0ms | Allocations: 1808)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.5ms | Allocations: 1808)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.5ms | Allocations: 1808)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.4ms | Allocations: 1808)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.3ms | Allocations: 1809)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/users/_userbooks.html.erb:36
  Rendered users/_userbooks.html.erb (Duration: 18.8ms | Allocations: 25604)
  Rendered favorites/create.js.erb (Duration: 76.5ms | Allocations: 88661)
Completed 200 OK in 99ms (Views: 74.5ms | ActiveRecord: 4.1ms | Allocations: 103315)


Started DELETE "/books/9/favorites" for ::1 at 2024-05-07 21:28:07 +0900
Processing by FavoritesController#destroy as JS
  Parameters: {"book_id"=>"9"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:11:in `destroy'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" = ? AND "favorites"."user_id" = ? LIMIT ?[0m  [["book_id", 9], ["user_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:12:in `destroy'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/favorites_controller.rb:13:in `destroy'
  [1m[36mFavorite Destroy (0.6ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = ?[0m  [["id", 32]]
  ↳ app/controllers/favorites_controller.rb:13:in `destroy'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/favorites_controller.rb:13:in `destroy'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/favorites_controller.rb:14:in `sort'
  [1m[36mFavorite Load (1.0ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3], ["book_id", 4], ["book_id", 5], ["book_id", 6], ["book_id", 7], ["book_id", 8], ["book_id", 9]]
  ↳ app/controllers/favorites_controller.rb:14:in `sort'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 2], ["id", 3]]
  ↳ app/controllers/favorites_controller.rb:14:in `sort'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:15:in `destroy'
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/favorites_controller.rb:15:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?, ?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 6], ["book_id", 7], ["book_id", 8], ["book_id", 9]]
  ↳ app/controllers/favorites_controller.rb:15:in `sort'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ?[0m  [["id", 2]]
  ↳ app/controllers/favorites_controller.rb:15:in `sort'
  Rendering favorites/destroy.js.erb
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.2ms | Allocations: 1881)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.4ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.7ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.4ms | Allocations: 1809)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.3ms | Allocations: 2588)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:79
  Rendered books/_index.html.erb (Duration: 54.1ms | Allocations: 60472)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.3ms | Allocations: 2620)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.2ms | Allocations: 2419)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.3ms | Allocations: 3072)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.5ms | Allocations: 1808)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.3ms | Allocations: 1809)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.3ms | Allocations: 1809)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/users/_userbooks.html.erb:36
  Rendered users/_userbooks.html.erb (Duration: 23.3ms | Allocations: 30482)
  Rendered favorites/destroy.js.erb (Duration: 81.9ms | Allocations: 96706)
Completed 200 OK in 115ms (Views: 80.0ms | ActiveRecord: 6.5ms | Allocations: 109564)


Started DELETE "/books/8/favorites" for ::1 at 2024-05-07 21:28:08 +0900
Processing by FavoritesController#destroy as JS
  Parameters: {"book_id"=>"8"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.7ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:11:in `destroy'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" = ? AND "favorites"."user_id" = ? LIMIT ?[0m  [["book_id", 8], ["user_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:12:in `destroy'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/favorites_controller.rb:13:in `destroy'
  [1m[36mFavorite Destroy (0.9ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = ?[0m  [["id", 33]]
  ↳ app/controllers/favorites_controller.rb:13:in `destroy'
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/favorites_controller.rb:13:in `destroy'
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/favorites_controller.rb:14:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3], ["book_id", 4], ["book_id", 5], ["book_id", 6], ["book_id", 7], ["book_id", 8], ["book_id", 9]]
  ↳ app/controllers/favorites_controller.rb:14:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 2], ["id", 3]]
  ↳ app/controllers/favorites_controller.rb:14:in `sort'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:15:in `destroy'
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/favorites_controller.rb:15:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?, ?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 6], ["book_id", 7], ["book_id", 8], ["book_id", 9]]
  ↳ app/controllers/favorites_controller.rb:15:in `sort'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ?[0m  [["id", 2]]
  ↳ app/controllers/favorites_controller.rb:15:in `sort'
  Rendering favorites/destroy.js.erb
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1881)
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.4ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1809)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.1ms | Allocations: 1982)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:79
  Rendered books/_index.html.erb (Duration: 51.8ms | Allocations: 57738)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.3ms | Allocations: 1808)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.0ms | Allocations: 1808)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1808)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.4ms | Allocations: 1809)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.3ms | Allocations: 1809)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.4ms | Allocations: 1809)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/users/_userbooks.html.erb:36
  Rendered users/_userbooks.html.erb (Duration: 19.3ms | Allocations: 25598)
  Rendered favorites/destroy.js.erb (Duration: 73.7ms | Allocations: 88733)
Completed 200 OK in 101ms (Views: 71.7ms | ActiveRecord: 8.5ms | Allocations: 101385)


Started DELETE "/books/6/favorites" for ::1 at 2024-05-07 21:28:09 +0900
Processing by FavoritesController#destroy as JS
  Parameters: {"book_id"=>"6"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:11:in `destroy'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" = ? AND "favorites"."user_id" = ? LIMIT ?[0m  [["book_id", 6], ["user_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:12:in `destroy'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/favorites_controller.rb:13:in `destroy'
  [1m[36mFavorite Destroy (1.3ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = ?[0m  [["id", 29]]
  ↳ app/controllers/favorites_controller.rb:13:in `destroy'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/favorites_controller.rb:13:in `destroy'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/favorites_controller.rb:14:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3], ["book_id", 4], ["book_id", 5], ["book_id", 6], ["book_id", 7], ["book_id", 8], ["book_id", 9]]
  ↳ app/controllers/favorites_controller.rb:14:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 2], ["id", 3]]
  ↳ app/controllers/favorites_controller.rb:14:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:15:in `destroy'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/favorites_controller.rb:15:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?, ?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 6], ["book_id", 7], ["book_id", 8], ["book_id", 9]]
  ↳ app/controllers/favorites_controller.rb:15:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ?[0m  [["id", 2]]
  ↳ app/controllers/favorites_controller.rb:15:in `sort'
  Rendering favorites/destroy.js.erb
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 3.0ms | Allocations: 2672)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.8ms | Allocations: 2580)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.2ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.5ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.1ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.4ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1809)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.2ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.0ms | Allocations: 1982)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:79
  Rendered books/_index.html.erb (Duration: 59.2ms | Allocations: 63534)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.3ms | Allocations: 1808)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 1808)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.3ms | Allocations: 1809)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.1ms | Allocations: 1809)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1809)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1809)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/users/_userbooks.html.erb:36
  Rendered users/_userbooks.html.erb (Duration: 21.5ms | Allocations: 25599)
  Rendered favorites/destroy.js.erb (Duration: 85.0ms | Allocations: 95338)
Completed 200 OK in 113ms (Views: 82.6ms | ActiveRecord: 6.5ms | Allocations: 109187)


Started DELETE "/books/2/favorites" for ::1 at 2024-05-07 21:28:10 +0900
Processing by FavoritesController#destroy as JS
  Parameters: {"book_id"=>"2"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:11:in `destroy'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" = ? AND "favorites"."user_id" = ? LIMIT ?[0m  [["book_id", 2], ["user_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:12:in `destroy'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/favorites_controller.rb:13:in `destroy'
  [1m[36mFavorite Destroy (3.8ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = ?[0m  [["id", 31]]
  ↳ app/controllers/favorites_controller.rb:13:in `destroy'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/favorites_controller.rb:13:in `destroy'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/favorites_controller.rb:14:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3], ["book_id", 4], ["book_id", 5], ["book_id", 6], ["book_id", 7], ["book_id", 8], ["book_id", 9]]
  ↳ app/controllers/favorites_controller.rb:14:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 2], ["id", 3]]
  ↳ app/controllers/favorites_controller.rb:14:in `sort'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:15:in `destroy'
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/favorites_controller.rb:15:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?, ?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 6], ["book_id", 7], ["book_id", 8], ["book_id", 9]]
  ↳ app/controllers/favorites_controller.rb:15:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ?[0m  [["id", 2]]
  ↳ app/controllers/favorites_controller.rb:15:in `sort'
  Rendering favorites/destroy.js.erb
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.2ms | Allocations: 1881)
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.7ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.0ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.3ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.2ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 1812)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.5ms | Allocations: 1982)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:79
  Rendered books/_index.html.erb (Duration: 55.3ms | Allocations: 57741)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1808)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.3ms | Allocations: 1809)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1809)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1809)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1809)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1809)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/users/_userbooks.html.erb:36
  Rendered users/_userbooks.html.erb (Duration: 22.8ms | Allocations: 25608)
  Rendered favorites/destroy.js.erb (Duration: 81.5ms | Allocations: 88746)
Completed 200 OK in 105ms (Views: 79.1ms | ActiveRecord: 8.7ms | Allocations: 101330)


Started GET "/books" for ::1 at 2024-05-07 21:28:15 +0900
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/books_controller.rb:32:in `sort'
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3], ["book_id", 4], ["book_id", 5], ["book_id", 6], ["book_id", 7], ["book_id", 8], ["book_id", 9]]
  ↳ app/controllers/books_controller.rb:32:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 2], ["id", 3]]
  ↳ app/controllers/books_controller.rb:32:in `sort'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 5], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 9], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 5], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 9], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 2], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 9], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 8], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 7], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 6], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 5], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 4], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 3], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 6], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 9], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 7], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 6], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 2], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 7], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 8], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 2], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 3.3ms | Allocations: 2782)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 43)
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 0.9ms | Allocations: 982)
  Rendered books/_newbook.html.erb (Duration: 1.8ms | Allocations: 2118)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.0ms | Allocations: 1998)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1914)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 1914)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 1914)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.0ms | Allocations: 1915)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1914)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.1ms | Allocations: 1914)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1914)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 1986)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:79
  Rendered books/_index.html.erb (Duration: 51.8ms | Allocations: 57444)
  Rendered books/index.html.erb within layouts/application (Duration: 59.2ms | Allocations: 64231)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 746)
  Rendered searches/_search_window.html.erb (Duration: 0.4ms | Allocations: 1666)
  Rendered layout layouts/application.html.erb (Duration: 67.6ms | Allocations: 69068)
Completed 200 OK in 106ms (Views: 66.0ms | ActiveRecord: 4.5ms | Allocations: 101041)


Started POST "/books/8/favorites" for ::1 at 2024-05-07 21:28:17 +0900
Processing by FavoritesController#create as JS
  Parameters: {"book_id"=>"8"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:3:in `create'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."book_id" = ? AND "favorites"."user_id" = ? LIMIT ?[0m  [["book_id", 8], ["user_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mFavorite Create (0.9ms)[0m  [1m[32mINSERT INTO "favorites" ("book_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["book_id", 8], ["user_id", 2], ["created_at", "2024-05-07 12:28:17.699009"], ["updated_at", "2024-05-07 12:28:17.699009"]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3], ["book_id", 4], ["book_id", 5], ["book_id", 6], ["book_id", 7], ["book_id", 8], ["book_id", 9]]
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 2], ["id", 3]]
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:7:in `create'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?, ?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 6], ["book_id", 7], ["book_id", 8], ["book_id", 9]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ?[0m  [["id", 2]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  Rendering favorites/create.js.erb
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.1ms | Allocations: 1827)
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.3ms | Allocations: 2501)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.6ms | Allocations: 2202)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.0ms | Allocations: 1808)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 5.1ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1982)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:79
  Rendered books/_index.html.erb (Duration: 60.8ms | Allocations: 64824)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1808)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1808)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1809)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1809)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.5ms | Allocations: 1809)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.3ms | Allocations: 1809)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/users/_userbooks.html.erb:36
  Rendered users/_userbooks.html.erb (Duration: 22.8ms | Allocations: 25599)
  Rendered favorites/create.js.erb (Duration: 87.2ms | Allocations: 96521)
Completed 200 OK in 118ms (Views: 84.9ms | ActiveRecord: 6.2ms | Allocations: 111248)


Started POST "/books/9/favorites" for ::1 at 2024-05-07 21:28:19 +0900
Processing by FavoritesController#create as JS
  Parameters: {"book_id"=>"9"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:3:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."book_id" = ? AND "favorites"."user_id" = ? LIMIT ?[0m  [["book_id", 9], ["user_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mFavorite Create (0.2ms)[0m  [1m[32mINSERT INTO "favorites" ("book_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["book_id", 9], ["user_id", 2], ["created_at", "2024-05-07 12:28:19.280156"], ["updated_at", "2024-05-07 12:28:19.280156"]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3], ["book_id", 4], ["book_id", 5], ["book_id", 6], ["book_id", 7], ["book_id", 8], ["book_id", 9]]
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 2], ["id", 3]]
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:7:in `create'
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?, ?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 6], ["book_id", 7], ["book_id", 8], ["book_id", 9]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ?[0m  [["id", 2]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  Rendering favorites/create.js.erb
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.8ms | Allocations: 1804)
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.7ms | Allocations: 1808)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.5ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.4ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 1982)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:79
  Rendered books/_index.html.erb (Duration: 53.6ms | Allocations: 57743)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.5ms | Allocations: 1808)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1808)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.4ms | Allocations: 1808)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.3ms | Allocations: 1809)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.3ms | Allocations: 1809)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1809)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/users/_userbooks.html.erb:36
  Rendered users/_userbooks.html.erb (Duration: 18.9ms | Allocations: 25600)
  Rendered favorites/create.js.erb (Duration: 76.4ms | Allocations: 88663)
Completed 200 OK in 105ms (Views: 74.4ms | ActiveRecord: 4.6ms | Allocations: 103248)


Started POST "/books/7/favorites" for ::1 at 2024-05-07 21:28:20 +0900
Processing by FavoritesController#create as JS
  Parameters: {"book_id"=>"7"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:3:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mFavorite Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."book_id" = ? AND "favorites"."user_id" = ? LIMIT ?[0m  [["book_id", 7], ["user_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mFavorite Create (0.3ms)[0m  [1m[32mINSERT INTO "favorites" ("book_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["book_id", 7], ["user_id", 2], ["created_at", "2024-05-07 12:28:20.171213"], ["updated_at", "2024-05-07 12:28:20.171213"]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3], ["book_id", 4], ["book_id", 5], ["book_id", 6], ["book_id", 7], ["book_id", 8], ["book_id", 9]]
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 2], ["id", 3]]
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:7:in `create'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?, ?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 6], ["book_id", 7], ["book_id", 8], ["book_id", 9]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ?[0m  [["id", 2]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  Rendering favorites/create.js.erb
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 3.3ms | Allocations: 2797)
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 4.5ms | Allocations: 2515)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.5ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.0ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.0ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1808)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1982)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:79
  Rendered books/_index.html.erb (Duration: 57.9ms | Allocations: 64546)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.3ms | Allocations: 1808)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.2ms | Allocations: 1808)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.2ms | Allocations: 1808)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.2ms | Allocations: 1808)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.5ms | Allocations: 1819)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.4ms | Allocations: 1809)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/users/_userbooks.html.erb:36
  Rendered users/_userbooks.html.erb (Duration: 18.2ms | Allocations: 25685)
  Rendered favorites/create.js.erb (Duration: 80.5ms | Allocations: 96568)
Completed 200 OK in 112ms (Views: 78.4ms | ActiveRecord: 4.8ms | Allocations: 111187)


Started POST "/books/6/favorites" for ::1 at 2024-05-07 21:28:20 +0900
Processing by FavoritesController#create as JS
  Parameters: {"book_id"=>"6"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:3:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."book_id" = ? AND "favorites"."user_id" = ? LIMIT ?[0m  [["book_id", 6], ["user_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mFavorite Create (0.2ms)[0m  [1m[32mINSERT INTO "favorites" ("book_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["book_id", 6], ["user_id", 2], ["created_at", "2024-05-07 12:28:20.949755"], ["updated_at", "2024-05-07 12:28:20.949755"]]
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/favorites_controller.rb:5:in `create'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3], ["book_id", 4], ["book_id", 5], ["book_id", 6], ["book_id", 7], ["book_id", 8], ["book_id", 9]]
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 2], ["id", 3]]
  ↳ app/controllers/favorites_controller.rb:6:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:7:in `create'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?, ?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 6], ["book_id", 7], ["book_id", 8], ["book_id", 9]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ?[0m  [["id", 2]]
  ↳ app/controllers/favorites_controller.rb:7:in `sort'
  Rendering favorites/create.js.erb
  [1m[36mFavorite Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.9ms | Allocations: 2456)
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.2ms | Allocations: 2778)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 4.3ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.0ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1808)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.1ms | Allocations: 1982)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:79
  Rendered books/_index.html.erb (Duration: 66.6ms | Allocations: 63698)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 1808)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 3.8ms | Allocations: 1808)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.1ms | Allocations: 1808)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 1808)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.2ms | Allocations: 1808)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.0ms | Allocations: 1809)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/users/_userbooks.html.erb:36
  Rendered users/_userbooks.html.erb (Duration: 28.9ms | Allocations: 25612)
  Rendered favorites/create.js.erb (Duration: 99.7ms | Allocations: 95507)
Completed 200 OK in 123ms (Views: 97.2ms | ActiveRecord: 5.3ms | Allocations: 111149)


Started DELETE "/books/3/favorites" for ::1 at 2024-05-07 21:28:22 +0900
Processing by FavoritesController#destroy as JS
  Parameters: {"book_id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:11:in `destroy'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" = ? AND "favorites"."user_id" = ? LIMIT ?[0m  [["book_id", 3], ["user_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:12:in `destroy'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/favorites_controller.rb:13:in `destroy'
  [1m[36mFavorite Destroy (0.3ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = ?[0m  [["id", 18]]
  ↳ app/controllers/favorites_controller.rb:13:in `destroy'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/favorites_controller.rb:13:in `destroy'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/favorites_controller.rb:14:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3], ["book_id", 4], ["book_id", 5], ["book_id", 6], ["book_id", 7], ["book_id", 8], ["book_id", 9]]
  ↳ app/controllers/favorites_controller.rb:14:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 2], ["id", 3]]
  ↳ app/controllers/favorites_controller.rb:14:in `sort'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:15:in `destroy'
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 3]]
  ↳ app/controllers/favorites_controller.rb:15:in `sort'
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?)[0m  [["book_id", 3], ["book_id", 4], ["book_id", 5]]
  ↳ app/controllers/favorites_controller.rb:15:in `sort'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 3], ["id", 2]]
  ↳ app/controllers/favorites_controller.rb:15:in `sort'
  Rendering favorites/destroy.js.erb
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 1880)
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 3.4ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1808)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.4ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.1ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.6ms | Allocations: 2667)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.8ms | Allocations: 2984)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:79
  Rendered books/_index.html.erb (Duration: 58.0ms | Allocations: 61632)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 2764)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.3ms | Allocations: 2941)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.3ms | Allocations: 1808)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/users/_userbooks.html.erb:36
  Rendered users/_userbooks.html.erb (Duration: 11.7ms | Allocations: 16525)
  Rendered favorites/destroy.js.erb (Duration: 72.8ms | Allocations: 83269)
Completed 200 OK in 98ms (Views: 70.5ms | ActiveRecord: 4.7ms | Allocations: 95756)


Started DELETE "/books/9/favorites" for ::1 at 2024-05-07 21:28:26 +0900
Processing by FavoritesController#destroy as JS
  Parameters: {"book_id"=>"9"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:11:in `destroy'
  [1m[36mFavorite Load (0.0ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" = ? AND "favorites"."user_id" = ? LIMIT ?[0m  [["book_id", 9], ["user_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:12:in `destroy'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/favorites_controller.rb:13:in `destroy'
  [1m[36mFavorite Destroy (0.3ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = ?[0m  [["id", 35]]
  ↳ app/controllers/favorites_controller.rb:13:in `destroy'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/favorites_controller.rb:13:in `destroy'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/favorites_controller.rb:14:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3], ["book_id", 4], ["book_id", 5], ["book_id", 6], ["book_id", 7], ["book_id", 8], ["book_id", 9]]
  ↳ app/controllers/favorites_controller.rb:14:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 2], ["id", 3]]
  ↳ app/controllers/favorites_controller.rb:14:in `sort'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:15:in `destroy'
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/favorites_controller.rb:15:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?, ?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 6], ["book_id", 7], ["book_id", 8], ["book_id", 9]]
  ↳ app/controllers/favorites_controller.rb:15:in `sort'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ?[0m  [["id", 2]]
  ↳ app/controllers/favorites_controller.rb:15:in `sort'
  Rendering favorites/destroy.js.erb
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1881)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.7ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.6ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.4ms | Allocations: 1909)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.5ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 3.9ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 1982)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.4ms | Allocations: 1809)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:79
  Rendered books/_index.html.erb (Duration: 57.1ms | Allocations: 57747)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.2ms | Allocations: 1808)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1808)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.4ms | Allocations: 1808)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.3ms | Allocations: 1808)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.3ms | Allocations: 1809)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mCACHE Favorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.2ms | Allocations: 1809)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/users/_userbooks.html.erb:36
  Rendered users/_userbooks.html.erb (Duration: 23.8ms | Allocations: 25597)
  Rendered favorites/destroy.js.erb (Duration: 83.9ms | Allocations: 88741)
Completed 200 OK in 102ms (Views: 81.7ms | ActiveRecord: 4.8ms | Allocations: 101411)


Started GET "/books?sort=rate+DESC" for ::1 at 2024-05-07 21:28:30 +0900
Processing by BooksController#index as HTML
  Parameters: {"sort"=>"rate DESC"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 3.4ms | Allocations: 2332)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 40)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.2ms | Allocations: 972)
  Rendered books/_newbook.html.erb (Duration: 2.5ms | Allocations: 1972)
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY rate DESC[0m
  ↳ app/views/books/_index.html.erb:23
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1986)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1914)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.0ms | Allocations: 1915)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 3.2ms | Allocations: 1915)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.6ms | Allocations: 1915)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1915)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.4ms | Allocations: 1915)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 1915)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.1ms | Allocations: 1987)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:79
  Rendered books/_index.html.erb (Duration: 57.2ms | Allocations: 58232)
  Rendered books/index.html.erb within layouts/application (Duration: 65.1ms | Allocations: 63932)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 724)
  Rendered searches/_search_window.html.erb (Duration: 0.4ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 71.9ms | Allocations: 68630)
Completed 200 OK in 90ms (Views: 70.1ms | ActiveRecord: 3.5ms | Allocations: 71112)


Started GET "/books?sort=created_at+DESC" for ::1 at 2024-05-07 21:28:32 +0900
Processing by BooksController#index as HTML
  Parameters: {"sort"=>"created_at DESC"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 9.7ms | Allocations: 2303)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 40)
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 0.9ms | Allocations: 966)
  Rendered books/_newbook.html.erb (Duration: 2.3ms | Allocations: 1866)
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY created_at DESC[0m
  ↳ app/views/books/_index.html.erb:23
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.7ms | Allocations: 1986)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.4ms | Allocations: 1915)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1915)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.5ms | Allocations: 1915)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1915)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 3.5ms | Allocations: 1914)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.2ms | Allocations: 1915)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1915)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.3ms | Allocations: 1987)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:79
  Rendered books/_index.html.erb (Duration: 55.1ms | Allocations: 58235)
  Rendered books/index.html.erb within layouts/application (Duration: 68.5ms | Allocations: 63772)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 724)
  Rendered searches/_search_window.html.erb (Duration: 0.4ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 72.7ms | Allocations: 68470)
Completed 200 OK in 81ms (Views: 70.3ms | ActiveRecord: 3.2ms | Allocations: 70172)


Started GET "/books?sort=created_at+DESC" for ::1 at 2024-05-07 21:28:34 +0900
Processing by BooksController#index as HTML
  Parameters: {"sort"=>"created_at DESC"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 8.9ms | Allocations: 2303)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 40)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.2ms | Allocations: 966)
  Rendered books/_newbook.html.erb (Duration: 1.6ms | Allocations: 1869)
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY created_at DESC[0m
  ↳ app/views/books/_index.html.erb:23
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.5ms | Allocations: 1986)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1915)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 3.2ms | Allocations: 1915)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.2ms | Allocations: 1915)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 1915)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.1ms | Allocations: 1914)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.3ms | Allocations: 1915)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.0ms | Allocations: 1915)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1987)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:79
  Rendered books/_index.html.erb (Duration: 57.2ms | Allocations: 58225)
  Rendered books/index.html.erb within layouts/application (Duration: 69.5ms | Allocations: 63765)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.4ms | Allocations: 723)
  Rendered searches/_search_window.html.erb (Duration: 0.3ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 73.7ms | Allocations: 68462)
Completed 200 OK in 81ms (Views: 69.9ms | ActiveRecord: 4.5ms | Allocations: 70161)


Started GET "/books?sort=created_at+DESC" for ::1 at 2024-05-07 21:28:35 +0900
Processing by BooksController#index as HTML
  Parameters: {"sort"=>"created_at DESC"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 3.0ms | Allocations: 2303)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 40)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.3ms | Allocations: 966)
  Rendered books/_newbook.html.erb (Duration: 1.4ms | Allocations: 1867)
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY created_at DESC[0m
  ↳ app/views/books/_index.html.erb:23
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 6.3ms | Allocations: 1986)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.9ms | Allocations: 1915)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1915)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1915)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.5ms | Allocations: 1915)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.2ms | Allocations: 1914)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.3ms | Allocations: 1915)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.2ms | Allocations: 1915)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.0ms | Allocations: 1987)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:52
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:79
  Rendered books/_index.html.erb (Duration: 60.0ms | Allocations: 58225)
  Rendered books/index.html.erb within layouts/application (Duration: 66.5ms | Allocations: 63763)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 724)
  Rendered searches/_search_window.html.erb (Duration: 0.4ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 71.3ms | Allocations: 68461)
Completed 200 OK in 82ms (Views: 70.7ms | ActiveRecord: 3.0ms | Allocations: 70160)


Started GET "/users" for ::1 at 2024-05-07 21:28:41 +0900
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 7.7ms | Allocations: 2305)
  Rendered users/_follow_btn.html.erb (Duration: 0.1ms | Allocations: 40)
  [1m[36mRelationship Load (0.2ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 2.4ms | Allocations: 966)
  Rendered books/_newbook.html.erb (Duration: 2.1ms | Allocations: 1879)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:22
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/index.html.erb:28
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/index.html.erb:29
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/index.html.erb:28
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/index.html.erb:29
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/index.html.erb:28
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/index.html.erb:29
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 4]]
  ↳ app/views/users/index.html.erb:28
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 4]]
  ↳ app/views/users/index.html.erb:29
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 5]]
  ↳ app/views/users/index.html.erb:28
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 5]]
  ↳ app/views/users/index.html.erb:29
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/index.html.erb within layouts/application (Duration: 30.7ms | Allocations: 20832)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.5ms | Allocations: 725)
  Rendered searches/_search_window.html.erb (Duration: 0.6ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 36.2ms | Allocations: 25531)
Completed 200 OK in 42ms (Views: 35.2ms | ActiveRecord: 1.7ms | Allocations: 27335)


Started GET "/users/1" for ::1 at 2024-05-07 21:28:44 +0900
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:6:in `show'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-05-07 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:9:in `show'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-05-06 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:10:in `show'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-05-05 00:00:00"], ["created_at", "2024-05-05 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:11:in `show'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-05-04 00:00:00"], ["created_at", "2024-05-04 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:12:in `show'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-05-03 00:00:00"], ["created_at", "2024-05-03 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:13:in `show'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-05-02 00:00:00"], ["created_at", "2024-05-02 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:14:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-01 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:15:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" >= ? AND "books"."created_at" < ?[0m  [["user_id", 1], ["created_at", "2024-04-30 23:59:59.999999"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:22:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" >= ? AND "books"."created_at" < ?[0m  [["user_id", 1], ["created_at", "2024-04-23 23:59:59.999999"], ["created_at", "2024-04-30 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:23:in `show'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  [1m[36mEntry Load (0.4ms)[0m  [1m[34mSELECT "entries".* FROM "entries" WHERE "entries"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/users_controller.rb:38:in `show'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 2.9ms | Allocations: 2504)
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_follow_btn.html.erb (Duration: 1.3ms | Allocations: 1031)
  [1m[36mCACHE Relationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 1], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 2.3ms | Allocations: 1790)
  Rendered books/_newbook.html.erb (Duration: 1.9ms | Allocations: 2043)
  Rendered users/_userbooks.html.erb (Duration: 0.0ms | Allocations: 38)
  Rendered users/_book_counts.html.erb (Duration: 0.0ms | Allocations: 50)
  Rendered users/_week_book_counts.html.erb (Duration: 0.0ms | Allocations: 59)
  Rendered users/_graph.html.erb (Duration: 0.0ms | Allocations: 59)
  Rendered users/_count_search.html.erb (Duration: 0.0ms | Allocations: 38)
  Rendered users/show.html.erb within layouts/application (Duration: 9.7ms | Allocations: 8803)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 725)
  Rendered searches/_search_window.html.erb (Duration: 0.5ms | Allocations: 1656)
  Rendered layout layouts/application.html.erb (Duration: 13.7ms | Allocations: 13472)
Completed 200 OK in 58ms (Views: 13.8ms | ActiveRecord: 3.2ms | Allocations: 31890)


Started GET "/users/1/follows" for ::1 at 2024-05-07 21:28:52 +0900
Processing by UsersController#follows as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:87:in `follows'
  Rendering layout layouts/application.html.erb
  Rendering users/follows.html.erb within layouts/application
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/follows.html.erb:16
  Rendered users/follows.html.erb within layouts/application (Duration: 7.0ms | Allocations: 1642)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 743)
  Rendered searches/_search_window.html.erb (Duration: 0.3ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 11.5ms | Allocations: 7328)
Completed 200 OK in 19ms (Views: 10.9ms | ActiveRecord: 1.3ms | Allocations: 9809)


Started GET "/users" for ::1 at 2024-05-07 21:28:55 +0900
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 7.3ms | Allocations: 2303)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 40)
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 0.8ms | Allocations: 966)
  Rendered books/_newbook.html.erb (Duration: 2.1ms | Allocations: 1874)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:22
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/index.html.erb:28
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/index.html.erb:29
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/index.html.erb:28
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/index.html.erb:29
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/index.html.erb:28
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/index.html.erb:29
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 4]]
  ↳ app/views/users/index.html.erb:28
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 4]]
  ↳ app/views/users/index.html.erb:29
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 5]]
  ↳ app/views/users/index.html.erb:28
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 5]]
  ↳ app/views/users/index.html.erb:29
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/index.html.erb within layouts/application (Duration: 24.6ms | Allocations: 20379)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 724)
  Rendered searches/_search_window.html.erb (Duration: 0.3ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 28.5ms | Allocations: 25077)
Completed 200 OK in 36ms (Views: 28.2ms | ActiveRecord: 1.9ms | Allocations: 26757)


Started POST "/users/4/relationships" for ::1 at 2024-05-07 21:29:06 +0900
Processing by RelationshipsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user_id"=>"4"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/relationships_controller.rb:4:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/relationships_controller.rb:4:in `create'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/relationships_controller.rb:4:in `create'
  [1m[36mRelationship Create (0.7ms)[0m  [1m[32mINSERT INTO "relationships" ("follower_id", "followed_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["follower_id", 4], ["followed_id", 2], ["created_at", "2024-05-07 12:29:06.615786"], ["updated_at", "2024-05-07 12:29:06.615786"]]
  ↳ app/controllers/relationships_controller.rb:4:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/relationships_controller.rb:4:in `create'
Redirected to http://localhost:3000/users
Completed 302 Found in 17ms (ActiveRecord: 2.5ms | Allocations: 6870)


Started GET "/users" for ::1 at 2024-05-07 21:29:06 +0900
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 1.9ms | Allocations: 2375)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 40)
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 0.8ms | Allocations: 967)
  Rendered books/_newbook.html.erb (Duration: 2.2ms | Allocations: 2042)
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:22
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/index.html.erb:28
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/index.html.erb:29
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/index.html.erb:28
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/index.html.erb:29
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/index.html.erb:28
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/index.html.erb:29
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 4]]
  ↳ app/views/users/index.html.erb:28
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 4]]
  ↳ app/views/users/index.html.erb:29
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 5]]
  ↳ app/views/users/index.html.erb:28
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 5]]
  ↳ app/views/users/index.html.erb:29
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/index.html.erb within layouts/application (Duration: 17.5ms | Allocations: 20638)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.4ms | Allocations: 728)
  Rendered searches/_search_window.html.erb (Duration: 0.4ms | Allocations: 1656)
  Rendered layout layouts/application.html.erb (Duration: 22.6ms | Allocations: 25386)
Completed 200 OK in 24ms (Views: 22.1ms | ActiveRecord: 0.8ms | Allocations: 27103)


Started POST "/users/5/relationships" for ::1 at 2024-05-07 21:29:07 +0900
Processing by RelationshipsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user_id"=>"5"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/relationships_controller.rb:4:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/relationships_controller.rb:4:in `create'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/relationships_controller.rb:4:in `create'
  [1m[36mRelationship Create (0.2ms)[0m  [1m[32mINSERT INTO "relationships" ("follower_id", "followed_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["follower_id", 5], ["followed_id", 2], ["created_at", "2024-05-07 12:29:07.091436"], ["updated_at", "2024-05-07 12:29:07.091436"]]
  ↳ app/controllers/relationships_controller.rb:4:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/relationships_controller.rb:4:in `create'
Redirected to http://localhost:3000/users
Completed 302 Found in 10ms (ActiveRecord: 1.1ms | Allocations: 5919)


Started GET "/users" for ::1 at 2024-05-07 21:29:07 +0900
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 2.3ms | Allocations: 2303)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 40)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.8ms | Allocations: 1523)
  Rendered books/_newbook.html.erb (Duration: 3.6ms | Allocations: 5233)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:22
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/index.html.erb:28
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/index.html.erb:29
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/index.html.erb:28
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/index.html.erb:29
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/index.html.erb:28
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/index.html.erb:29
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 4]]
  ↳ app/views/users/index.html.erb:28
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 4]]
  ↳ app/views/users/index.html.erb:29
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 5]]
  ↳ app/views/users/index.html.erb:28
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 5]]
  ↳ app/views/users/index.html.erb:29
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/index.html.erb within layouts/application (Duration: 23.9ms | Allocations: 28232)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 725)
  Rendered searches/_search_window.html.erb (Duration: 0.3ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 27.5ms | Allocations: 32931)
Completed 200 OK in 29ms (Views: 26.6ms | ActiveRecord: 1.1ms | Allocations: 34607)


Started DELETE "/users/sign_out" for ::1 at 2024-05-07 21:29:12 +0900
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 13ms (ActiveRecord: 0.2ms | Allocations: 3419)


Started GET "/" for ::1 at 2024-05-07 21:29:12 +0900
Processing by HomesController#top as HTML
  Rendering layout layouts/application.html.erb
  Rendering homes/top.html.erb within layouts/application
  Rendered homes/top.html.erb within layouts/application (Duration: 0.5ms | Allocations: 317)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 1.2ms | Allocations: 353)
  Rendered layout layouts/application.html.erb (Duration: 4.4ms | Allocations: 3153)
Completed 200 OK in 8ms (Views: 6.8ms | ActiveRecord: 0.0ms | Allocations: 4546)


Started GET "/users/sign_in" for ::1 at 2024-05-07 21:29:14 +0900
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 1.1ms | Allocations: 709)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 11.0ms | Allocations: 2584)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.2ms | Allocations: 246)
  Rendered layout layouts/application.html.erb (Duration: 14.1ms | Allocations: 5309)
Completed 200 OK in 24ms (Views: 22.2ms | ActiveRecord: 0.0ms | Allocations: 7527)


Started POST "/users/sign_in" for ::1 at 2024-05-07 21:29:18 +0900
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"name"=>"aaaaddd", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["name", "aaaaddd"], ["LIMIT", 1]]
Redirected to http://localhost:3000/users/1
Completed 302 Found in 279ms (ActiveRecord: 0.1ms | Allocations: 6702)


Started GET "/users/1" for ::1 at 2024-05-07 21:29:18 +0900
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:6:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-05-07 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:9:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-05-06 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:10:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-05-05 00:00:00"], ["created_at", "2024-05-05 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:11:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-05-04 00:00:00"], ["created_at", "2024-05-04 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:12:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-05-03 00:00:00"], ["created_at", "2024-05-03 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:13:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-05-02 00:00:00"], ["created_at", "2024-05-02 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:14:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-01 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:15:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" >= ? AND "books"."created_at" < ?[0m  [["user_id", 1], ["created_at", "2024-04-30 23:59:59.999999"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:22:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" >= ? AND "books"."created_at" < ?[0m  [["user_id", 1], ["created_at", "2024-04-23 23:59:59.999999"], ["created_at", "2024-04-30 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:23:in `show'
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 2.6ms | Allocations: 2357)
  Rendered users/_follow_btn.html.erb (Duration: 0.1ms | Allocations: 40)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 1], ["follower_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.0ms | Allocations: 966)
  Rendered books/_newbook.html.erb (Duration: 1.8ms | Allocations: 2028)
  Rendered users/_userbooks.html.erb (Duration: 0.0ms | Allocations: 38)
  Rendered users/_book_counts.html.erb (Duration: 0.0ms | Allocations: 50)
  Rendered users/_week_book_counts.html.erb (Duration: 0.0ms | Allocations: 59)
  Rendered users/_graph.html.erb (Duration: 0.0ms | Allocations: 59)
  Rendered users/_count_search.html.erb (Duration: 0.1ms | Allocations: 38)
  Rendered users/show.html.erb within layouts/application (Duration: 6.4ms | Allocations: 6890)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.5ms | Allocations: 726)
  Rendered searches/_search_window.html.erb (Duration: 0.4ms | Allocations: 1656)
  Rendered layout layouts/application.html.erb (Duration: 10.1ms | Allocations: 11532)
Completed 200 OK in 22ms (Views: 10.4ms | ActiveRecord: 1.1ms | Allocations: 22508)


Started GET "/users" for ::1 at 2024-05-07 21:29:21 +0900
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 4.9ms | Allocations: 2303)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 40)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 1], ["follower_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 0.9ms | Allocations: 966)
  Rendered books/_newbook.html.erb (Duration: 2.3ms | Allocations: 1871)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:22
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/index.html.erb:28
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/index.html.erb:29
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/index.html.erb:28
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/index.html.erb:29
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 1], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/index.html.erb:28
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/index.html.erb:29
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 1], ["follower_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 4]]
  ↳ app/views/users/index.html.erb:28
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 4]]
  ↳ app/views/users/index.html.erb:29
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 1], ["follower_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 5]]
  ↳ app/views/users/index.html.erb:28
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 5]]
  ↳ app/views/users/index.html.erb:29
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 1], ["follower_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/index.html.erb within layouts/application (Duration: 23.9ms | Allocations: 20355)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 724)
  Rendered searches/_search_window.html.erb (Duration: 0.3ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 27.9ms | Allocations: 25053)
Completed 200 OK in 41ms (Views: 28.0ms | ActiveRecord: 1.6ms | Allocations: 26732)


Started POST "/users/2/relationships" for ::1 at 2024-05-07 21:29:22 +0900
Processing by RelationshipsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user_id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/relationships_controller.rb:4:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/relationships_controller.rb:4:in `create'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/relationships_controller.rb:4:in `create'
  [1m[36mRelationship Create (0.2ms)[0m  [1m[32mINSERT INTO "relationships" ("follower_id", "followed_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["follower_id", 2], ["followed_id", 1], ["created_at", "2024-05-07 12:29:22.711418"], ["updated_at", "2024-05-07 12:29:22.711418"]]
  ↳ app/controllers/relationships_controller.rb:4:in `create'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/relationships_controller.rb:4:in `create'
Redirected to http://localhost:3000/users
Completed 302 Found in 23ms (ActiveRecord: 1.9ms | Allocations: 5966)


Started GET "/users" for ::1 at 2024-05-07 21:29:22 +0900
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 3.3ms | Allocations: 2302)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 40)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 1], ["follower_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.3ms | Allocations: 966)
  Rendered books/_newbook.html.erb (Duration: 2.0ms | Allocations: 1879)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:22
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/index.html.erb:28
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/index.html.erb:29
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/index.html.erb:28
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/index.html.erb:29
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 1], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/index.html.erb:28
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/index.html.erb:29
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 1], ["follower_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 4]]
  ↳ app/views/users/index.html.erb:28
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 4]]
  ↳ app/views/users/index.html.erb:29
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 1], ["follower_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 5]]
  ↳ app/views/users/index.html.erb:28
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 5]]
  ↳ app/views/users/index.html.erb:29
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 1], ["follower_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/index.html.erb within layouts/application (Duration: 21.0ms | Allocations: 20370)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 725)
  Rendered searches/_search_window.html.erb (Duration: 0.4ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 26.1ms | Allocations: 25069)
Completed 200 OK in 28ms (Views: 25.2ms | ActiveRecord: 1.1ms | Allocations: 26745)


Started POST "/users/3/relationships" for ::1 at 2024-05-07 21:29:23 +0900
Processing by RelationshipsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user_id"=>"3"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/relationships_controller.rb:4:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/relationships_controller.rb:4:in `create'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/relationships_controller.rb:4:in `create'
  [1m[36mRelationship Create (0.2ms)[0m  [1m[32mINSERT INTO "relationships" ("follower_id", "followed_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["follower_id", 3], ["followed_id", 1], ["created_at", "2024-05-07 12:29:23.234268"], ["updated_at", "2024-05-07 12:29:23.234268"]]
  ↳ app/controllers/relationships_controller.rb:4:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/relationships_controller.rb:4:in `create'
Redirected to http://localhost:3000/users
Completed 302 Found in 18ms (ActiveRecord: 1.5ms | Allocations: 5919)


Started GET "/users" for ::1 at 2024-05-07 21:29:23 +0900
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 1.8ms | Allocations: 2302)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 40)
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 1], ["follower_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 0.8ms | Allocations: 966)
  Rendered books/_newbook.html.erb (Duration: 2.2ms | Allocations: 3082)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:22
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/index.html.erb:28
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/index.html.erb:29
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/index.html.erb:28
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/index.html.erb:29
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 1], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/index.html.erb:28
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/index.html.erb:29
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 1], ["follower_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 4]]
  ↳ app/views/users/index.html.erb:28
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 4]]
  ↳ app/views/users/index.html.erb:29
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 1], ["follower_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 5]]
  ↳ app/views/users/index.html.erb:28
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 5]]
  ↳ app/views/users/index.html.erb:29
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 1], ["follower_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/index.html.erb within layouts/application (Duration: 23.3ms | Allocations: 27090)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 725)
  Rendered searches/_search_window.html.erb (Duration: 0.4ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 27.1ms | Allocations: 32902)
Completed 200 OK in 29ms (Views: 26.2ms | ActiveRecord: 1.2ms | Allocations: 34578)


Started POST "/users/4/relationships" for ::1 at 2024-05-07 21:29:23 +0900
Processing by RelationshipsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user_id"=>"4"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/relationships_controller.rb:4:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/relationships_controller.rb:4:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/relationships_controller.rb:4:in `create'
  [1m[36mRelationship Create (0.3ms)[0m  [1m[32mINSERT INTO "relationships" ("follower_id", "followed_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["follower_id", 4], ["followed_id", 1], ["created_at", "2024-05-07 12:29:23.767213"], ["updated_at", "2024-05-07 12:29:23.767213"]]
  ↳ app/controllers/relationships_controller.rb:4:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/relationships_controller.rb:4:in `create'
Redirected to http://localhost:3000/users
Completed 302 Found in 22ms (ActiveRecord: 1.4ms | Allocations: 5919)


Started GET "/users" for ::1 at 2024-05-07 21:29:23 +0900
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 2.1ms | Allocations: 2302)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 40)
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 1], ["follower_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 0.9ms | Allocations: 966)
  Rendered books/_newbook.html.erb (Duration: 1.6ms | Allocations: 1866)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:22
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/index.html.erb:28
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/index.html.erb:29
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/index.html.erb:28
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/index.html.erb:29
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 1], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/index.html.erb:28
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/index.html.erb:29
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 1], ["follower_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 4]]
  ↳ app/views/users/index.html.erb:28
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 4]]
  ↳ app/views/users/index.html.erb:29
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 1], ["follower_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 5]]
  ↳ app/views/users/index.html.erb:28
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 5]]
  ↳ app/views/users/index.html.erb:29
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 1], ["follower_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/index.html.erb within layouts/application (Duration: 17.4ms | Allocations: 20376)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 724)
  Rendered searches/_search_window.html.erb (Duration: 0.6ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 21.3ms | Allocations: 25074)
Completed 200 OK in 23ms (Views: 20.6ms | ActiveRecord: 1.1ms | Allocations: 26749)


Started POST "/users/5/relationships" for ::1 at 2024-05-07 21:29:24 +0900
Processing by RelationshipsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user_id"=>"5"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/relationships_controller.rb:4:in `create'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/relationships_controller.rb:4:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/relationships_controller.rb:4:in `create'
  [1m[36mRelationship Create (0.9ms)[0m  [1m[32mINSERT INTO "relationships" ("follower_id", "followed_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["follower_id", 5], ["followed_id", 1], ["created_at", "2024-05-07 12:29:24.228241"], ["updated_at", "2024-05-07 12:29:24.228241"]]
  ↳ app/controllers/relationships_controller.rb:4:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/relationships_controller.rb:4:in `create'
Redirected to http://localhost:3000/users
Completed 302 Found in 26ms (ActiveRecord: 3.2ms | Allocations: 5919)


Started GET "/users" for ::1 at 2024-05-07 21:29:24 +0900
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 1.9ms | Allocations: 2302)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 40)
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 1], ["follower_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 0.7ms | Allocations: 966)
  Rendered books/_newbook.html.erb (Duration: 4.7ms | Allocations: 5283)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:22
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/index.html.erb:28
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/index.html.erb:29
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/index.html.erb:28
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/index.html.erb:29
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 1], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 3]]
  ↳ app/views/users/index.html.erb:28
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 3]]
  ↳ app/views/users/index.html.erb:29
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 1], ["follower_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 4]]
  ↳ app/views/users/index.html.erb:28
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 4]]
  ↳ app/views/users/index.html.erb:29
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 1], ["follower_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 5]]
  ↳ app/views/users/index.html.erb:28
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 5]]
  ↳ app/views/users/index.html.erb:29
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 1], ["follower_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/index.html.erb within layouts/application (Duration: 25.7ms | Allocations: 28224)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 725)
  Rendered searches/_search_window.html.erb (Duration: 0.4ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 29.2ms | Allocations: 32923)
Completed 200 OK in 31ms (Views: 28.2ms | ActiveRecord: 1.2ms | Allocations: 34599)


Started GET "/users/2" for ::1 at 2024-05-07 21:29:25 +0900
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:6:in `show'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-07 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:9:in `show'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-06 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:10:in `show'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-05 00:00:00"], ["created_at", "2024-05-05 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:11:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-04 00:00:00"], ["created_at", "2024-05-04 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:12:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-03 00:00:00"], ["created_at", "2024-05-03 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:13:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-02 00:00:00"], ["created_at", "2024-05-02 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:14:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-01 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:15:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" >= ? AND "books"."created_at" < ?[0m  [["user_id", 2], ["created_at", "2024-04-30 23:59:59.999999"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:22:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" >= ? AND "books"."created_at" < ?[0m  [["user_id", 2], ["created_at", "2024-04-23 23:59:59.999999"], ["created_at", "2024-04-30 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:23:in `show'
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?, ?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 6], ["book_id", 7], ["book_id", 8], ["book_id", 9]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ?[0m  [["id", 2]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  [1m[36mEntry Load (0.1ms)[0m  [1m[34mSELECT "entries".* FROM "entries" WHERE "entries"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/users_controller.rb:38:in `show'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 3.0ms | Allocations: 2302)
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 1], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_follow_btn.html.erb (Duration: 1.1ms | Allocations: 1011)
  [1m[36mCACHE Relationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 1], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.9ms | Allocations: 2117)
  Rendered books/_newbook.html.erb (Duration: 1.3ms | Allocations: 1882)
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 1], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1990)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 1], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.5ms | Allocations: 1913)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 1], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.6ms | Allocations: 1913)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 1], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1913)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 1], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.4ms | Allocations: 1914)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 1], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.4ms | Allocations: 1914)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/users/_userbooks.html.erb:36
  Rendered users/_userbooks.html.erb (Duration: 23.8ms | Allocations: 26695)
  Rendered users/_book_counts.html.erb (Duration: 0.0ms | Allocations: 50)
  Rendered users/_week_book_counts.html.erb (Duration: 0.0ms | Allocations: 56)
  Rendered users/_graph.html.erb (Duration: 0.0ms | Allocations: 56)
  Rendered users/_count_search.html.erb (Duration: 0.0ms | Allocations: 38)
  Rendered users/show.html.erb within layouts/application (Duration: 32.1ms | Allocations: 35452)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 723)
  Rendered searches/_search_window.html.erb (Duration: 0.3ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 35.7ms | Allocations: 40048)
Completed 200 OK in 64ms (Views: 34.7ms | ActiveRecord: 3.7ms | Allocations: 54121)


Started POST "/rooms" for ::1 at 2024-05-07 21:29:27 +0900
Processing by RoomsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "entry"=>{"user_id"=>"2"}, "commit"=>"ルーム作成"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/rooms_controller.rb:3:in `create'
  [1m[36mRoom Create (0.4ms)[0m  [1m[32mINSERT INTO "rooms" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2024-05-07 12:29:27.866416"], ["updated_at", "2024-05-07 12:29:27.866416"]]
  ↳ app/controllers/rooms_controller.rb:3:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/rooms_controller.rb:3:in `create'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/rooms_controller.rb:4:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/rooms_controller.rb:4:in `create'
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/rooms_controller.rb:4:in `create'
  [1m[36mEntry Create (0.6ms)[0m  [1m[32mINSERT INTO "entries" ("user_id", "room_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 1], ["room_id", 1], ["created_at", "2024-05-07 12:29:27.876290"], ["updated_at", "2024-05-07 12:29:27.876290"]]
  ↳ app/controllers/rooms_controller.rb:4:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/rooms_controller.rb:4:in `create'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/rooms_controller.rb:5:in `create'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/rooms_controller.rb:5:in `create'
  [1m[36mRoom Load (0.0ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/rooms_controller.rb:5:in `create'
  [1m[36mEntry Create (0.2ms)[0m  [1m[32mINSERT INTO "entries" ("user_id", "room_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 2], ["room_id", 1], ["created_at", "2024-05-07 12:29:27.881268"], ["updated_at", "2024-05-07 12:29:27.881268"]]
  ↳ app/controllers/rooms_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/rooms_controller.rb:5:in `create'
Redirected to http://localhost:3000/rooms/1
Completed 302 Found in 32ms (ActiveRecord: 2.9ms | Allocations: 14659)


Started GET "/rooms/1" for ::1 at 2024-05-07 21:29:27 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mRoom Load (0.0ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/rooms_controller.rb:11:in `show'
  [1m[36mEntry Load (0.1ms)[0m  [1m[34mSELECT "entries".* FROM "entries" WHERE "entries"."room_id" = ? AND (user_id != 1) LIMIT ?[0m  [["room_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/rooms_controller.rb:14:in `show'
  Rendering layout layouts/application.html.erb
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/rooms/show.html.erb:9
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  ↳ app/views/rooms/show.html.erb:22
  Rendered rooms/show.html.erb within layouts/application (Duration: 4.3ms | Allocations: 3622)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 760)
  Rendered searches/_search_window.html.erb (Duration: 0.5ms | Allocations: 1666)
  Rendered layout layouts/application.html.erb (Duration: 8.0ms | Allocations: 8414)
Completed 200 OK in 18ms (Views: 8.8ms | ActiveRecord: 0.9ms | Allocations: 16939)


Started POST "/messages" for ::1 at 2024-05-07 21:29:45 +0900
Processing by MessagesController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"body"=>"aaaaa", "room_id"=>"1"}, "commit"=>"送信"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/messages_controller.rb:5:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:5:in `create'
  [1m[36mRoom Load (0.0ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:5:in `create'
  [1m[36mMessage Create (0.8ms)[0m  [1m[32mINSERT INTO "messages" ("user_id", "room_id", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["room_id", 1], ["body", "aaaaa"], ["created_at", "2024-05-07 12:29:45.941928"], ["updated_at", "2024-05-07 12:29:45.941928"]]
  ↳ app/controllers/messages_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/messages_controller.rb:5:in `create'
Redirected to http://localhost:3000/rooms/1
Completed 302 Found in 15ms (ActiveRecord: 1.7ms | Allocations: 7818)


Started GET "/rooms/1" for ::1 at 2024-05-07 21:29:45 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mRoom Load (0.0ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/rooms_controller.rb:11:in `show'
  [1m[36mEntry Load (0.1ms)[0m  [1m[34mSELECT "entries".* FROM "entries" WHERE "entries"."room_id" = ? AND (user_id != 1) LIMIT ?[0m  [["room_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/rooms_controller.rb:14:in `show'
  Rendering layout layouts/application.html.erb
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/rooms/show.html.erb:9
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  ↳ app/views/rooms/show.html.erb:22
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/rooms/show.html.erb:25
  Rendered rooms/show.html.erb within layouts/application (Duration: 3.7ms | Allocations: 2836)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.5ms | Allocations: 730)
  Rendered searches/_search_window.html.erb (Duration: 0.4ms | Allocations: 1656)
  Rendered layout layouts/application.html.erb (Duration: 11.1ms | Allocations: 7609)
Completed 200 OK in 14ms (Views: 11.0ms | ActiveRecord: 0.4ms | Allocations: 10724)


Started POST "/messages" for ::1 at 2024-05-07 21:29:55 +0900
Processing by MessagesController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"body"=>"fdasfdsa", "room_id"=>"1"}, "commit"=>"送信"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/messages_controller.rb:5:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:5:in `create'
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:5:in `create'
  [1m[36mMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "messages" ("user_id", "room_id", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["room_id", 1], ["body", "fdasfdsa"], ["created_at", "2024-05-07 12:29:55.950428"], ["updated_at", "2024-05-07 12:29:55.950428"]]
  ↳ app/controllers/messages_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/messages_controller.rb:5:in `create'
Redirected to http://localhost:3000/rooms/1
Completed 302 Found in 20ms (ActiveRecord: 1.5ms | Allocations: 5851)


Started GET "/rooms/1" for ::1 at 2024-05-07 21:29:55 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/rooms_controller.rb:11:in `show'
  [1m[36mEntry Load (0.2ms)[0m  [1m[34mSELECT "entries".* FROM "entries" WHERE "entries"."room_id" = ? AND (user_id != 1) LIMIT ?[0m  [["room_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/rooms_controller.rb:14:in `show'
  Rendering layout layouts/application.html.erb
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/rooms/show.html.erb:9
  [1m[36mMessage Load (0.0ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  ↳ app/views/rooms/show.html.erb:22
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/rooms/show.html.erb:25
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/rooms/show.html.erb:25
  Rendered rooms/show.html.erb within layouts/application (Duration: 3.2ms | Allocations: 3607)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.4ms | Allocations: 725)
  Rendered searches/_search_window.html.erb (Duration: 0.2ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 7.2ms | Allocations: 8315)
Completed 200 OK in 12ms (Views: 7.3ms | ActiveRecord: 0.5ms | Allocations: 11364)


Started POST "/messages" for ::1 at 2024-05-07 21:29:58 +0900
Processing by MessagesController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"body"=>"fdasfdsaerfa", "room_id"=>"1"}, "commit"=>"送信"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/messages_controller.rb:5:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:5:in `create'
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:5:in `create'
  [1m[36mMessage Create (0.6ms)[0m  [1m[32mINSERT INTO "messages" ("user_id", "room_id", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["room_id", 1], ["body", "fdasfdsaerfa"], ["created_at", "2024-05-07 12:29:58.669309"], ["updated_at", "2024-05-07 12:29:58.669309"]]
  ↳ app/controllers/messages_controller.rb:5:in `create'
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/messages_controller.rb:5:in `create'
Redirected to http://localhost:3000/rooms/1
Completed 302 Found in 26ms (ActiveRecord: 3.6ms | Allocations: 5851)


Started GET "/rooms/1" for ::1 at 2024-05-07 21:29:58 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mRoom Load (0.0ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/rooms_controller.rb:11:in `show'
  [1m[36mEntry Load (0.1ms)[0m  [1m[34mSELECT "entries".* FROM "entries" WHERE "entries"."room_id" = ? AND (user_id != 1) LIMIT ?[0m  [["room_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/rooms_controller.rb:14:in `show'
  Rendering layout layouts/application.html.erb
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/rooms/show.html.erb:9
  [1m[36mMessage Load (0.0ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  ↳ app/views/rooms/show.html.erb:22
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/rooms/show.html.erb:25
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/rooms/show.html.erb:25
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/rooms/show.html.erb:25
  Rendered rooms/show.html.erb within layouts/application (Duration: 3.7ms | Allocations: 4454)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 725)
  Rendered searches/_search_window.html.erb (Duration: 0.4ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 7.3ms | Allocations: 9162)
Completed 200 OK in 11ms (Views: 7.4ms | ActiveRecord: 0.3ms | Allocations: 12212)


Started DELETE "/messages/3" for ::1 at 2024-05-07 21:30:02 +0900
Processing by MessagesController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:13:in `destroy'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/messages_controller.rb:14:in `destroy'
  [1m[36mMessage Destroy (0.7ms)[0m  [1m[31mDELETE FROM "messages" WHERE "messages"."id" = ?[0m  [["id", 3]]
  ↳ app/controllers/messages_controller.rb:14:in `destroy'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/messages_controller.rb:14:in `destroy'
Redirected to http://localhost:3000/rooms/1
Completed 302 Found in 15ms (ActiveRecord: 1.9ms | Allocations: 4116)


Started GET "/rooms/1" for ::1 at 2024-05-07 21:30:02 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mRoom Load (0.0ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/rooms_controller.rb:11:in `show'
  [1m[36mEntry Load (0.2ms)[0m  [1m[34mSELECT "entries".* FROM "entries" WHERE "entries"."room_id" = ? AND (user_id != 1) LIMIT ?[0m  [["room_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/rooms_controller.rb:14:in `show'
  Rendering layout layouts/application.html.erb
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/rooms/show.html.erb:9
  [1m[36mMessage Load (0.0ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  ↳ app/views/rooms/show.html.erb:22
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/rooms/show.html.erb:25
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/rooms/show.html.erb:25
  Rendered rooms/show.html.erb within layouts/application (Duration: 3.3ms | Allocations: 3606)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 724)
  Rendered searches/_search_window.html.erb (Duration: 0.4ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 6.8ms | Allocations: 8313)
Completed 200 OK in 10ms (Views: 6.9ms | ActiveRecord: 0.4ms | Allocations: 11362)


Started GET "/users/1" for ::1 at 2024-05-07 21:30:04 +0900
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:6:in `show'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-05-07 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:9:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-05-06 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:10:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-05-05 00:00:00"], ["created_at", "2024-05-05 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:11:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-05-04 00:00:00"], ["created_at", "2024-05-04 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:12:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-05-03 00:00:00"], ["created_at", "2024-05-03 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:13:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-05-02 00:00:00"], ["created_at", "2024-05-02 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:14:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-01 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:15:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" >= ? AND "books"."created_at" < ?[0m  [["user_id", 1], ["created_at", "2024-04-30 23:59:59.999999"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:22:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" >= ? AND "books"."created_at" < ?[0m  [["user_id", 1], ["created_at", "2024-04-23 23:59:59.999999"], ["created_at", "2024-04-30 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:23:in `show'
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 2.1ms | Allocations: 2340)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 40)
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 1], ["follower_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 0.9ms | Allocations: 967)
  Rendered books/_newbook.html.erb (Duration: 2.6ms | Allocations: 2005)
  Rendered users/_userbooks.html.erb (Duration: 0.0ms | Allocations: 38)
  Rendered users/_book_counts.html.erb (Duration: 0.0ms | Allocations: 50)
  Rendered users/_week_book_counts.html.erb (Duration: 0.0ms | Allocations: 59)
  Rendered users/_graph.html.erb (Duration: 0.0ms | Allocations: 59)
  Rendered users/_count_search.html.erb (Duration: 0.0ms | Allocations: 38)
  Rendered users/show.html.erb within layouts/application (Duration: 6.5ms | Allocations: 6844)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 724)
  Rendered searches/_search_window.html.erb (Duration: 0.4ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 12.5ms | Allocations: 11441)
Completed 200 OK in 40ms (Views: 12.6ms | ActiveRecord: 1.7ms | Allocations: 23095)


Started GET "/rooms/1" for ::1 at 2024-05-07 21:30:07 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/rooms_controller.rb:11:in `show'
  [1m[36mEntry Load (0.5ms)[0m  [1m[34mSELECT "entries".* FROM "entries" WHERE "entries"."room_id" = ? AND (user_id != 1) LIMIT ?[0m  [["room_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/rooms_controller.rb:14:in `show'
  Rendering layout layouts/application.html.erb
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/rooms/show.html.erb:9
  [1m[36mMessage Load (0.0ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  ↳ app/views/rooms/show.html.erb:22
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/rooms/show.html.erb:25
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/rooms/show.html.erb:25
  Rendered rooms/show.html.erb within layouts/application (Duration: 3.3ms | Allocations: 3606)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.5ms | Allocations: 725)
  Rendered searches/_search_window.html.erb (Duration: 0.3ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 6.9ms | Allocations: 8314)
Completed 200 OK in 23ms (Views: 7.0ms | ActiveRecord: 1.1ms | Allocations: 11364)


Started GET "/rooms/1" for ::1 at 2024-05-07 21:30:07 +0900
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/rooms_controller.rb:11:in `show'
  [1m[36mEntry Load (0.3ms)[0m  [1m[34mSELECT "entries".* FROM "entries" WHERE "entries"."room_id" = ? AND (user_id != 1) LIMIT ?[0m  [["room_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/rooms_controller.rb:14:in `show'
  Rendering layout layouts/application.html.erb
  Rendering rooms/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/rooms/show.html.erb:9
  [1m[36mMessage Load (6.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  ↳ app/views/rooms/show.html.erb:22
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/rooms/show.html.erb:25
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/rooms/show.html.erb:25
  Rendered rooms/show.html.erb within layouts/application (Duration: 15.8ms | Allocations: 3606)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.4ms | Allocations: 724)
  Rendered searches/_search_window.html.erb (Duration: 0.2ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 19.1ms | Allocations: 8313)
Completed 200 OK in 34ms (Views: 12.9ms | ActiveRecord: 7.4ms | Allocations: 11362)


Started GET "/users/1" for ::1 at 2024-05-07 21:30:10 +0900
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:6:in `show'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-05-07 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:9:in `show'
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-05-06 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:10:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-05-05 00:00:00"], ["created_at", "2024-05-05 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:11:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-05-04 00:00:00"], ["created_at", "2024-05-04 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:12:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-05-03 00:00:00"], ["created_at", "2024-05-03 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:13:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-05-02 00:00:00"], ["created_at", "2024-05-02 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:14:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-01 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:15:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" >= ? AND "books"."created_at" < ?[0m  [["user_id", 1], ["created_at", "2024-04-30 23:59:59.999999"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:22:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" >= ? AND "books"."created_at" < ?[0m  [["user_id", 1], ["created_at", "2024-04-23 23:59:59.999999"], ["created_at", "2024-04-30 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:23:in `show'
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 1.8ms | Allocations: 2302)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 40)
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 1], ["follower_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 0.8ms | Allocations: 966)
  Rendered books/_newbook.html.erb (Duration: 1.4ms | Allocations: 1879)
  Rendered users/_userbooks.html.erb (Duration: 0.0ms | Allocations: 38)
  Rendered users/_book_counts.html.erb (Duration: 0.0ms | Allocations: 50)
  Rendered users/_week_book_counts.html.erb (Duration: 0.0ms | Allocations: 59)
  Rendered users/_graph.html.erb (Duration: 0.0ms | Allocations: 59)
  Rendered users/_count_search.html.erb (Duration: 0.0ms | Allocations: 38)
  Rendered users/show.html.erb within layouts/application (Duration: 4.7ms | Allocations: 6677)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 723)
  Rendered searches/_search_window.html.erb (Duration: 0.2ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 8.0ms | Allocations: 11273)
Completed 200 OK in 39ms (Views: 8.1ms | ActiveRecord: 1.9ms | Allocations: 22063)


Started DELETE "/users/sign_out" for ::1 at 2024-05-07 21:30:16 +0900
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 10ms (ActiveRecord: 0.2ms | Allocations: 1972)


Started GET "/" for ::1 at 2024-05-07 21:30:16 +0900
Processing by HomesController#top as HTML
  Rendering layout layouts/application.html.erb
  Rendering homes/top.html.erb within layouts/application
  Rendered homes/top.html.erb within layouts/application (Duration: 0.1ms | Allocations: 93)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.4ms | Allocations: 247)
  Rendered layout layouts/application.html.erb (Duration: 5.6ms | Allocations: 2659)
Completed 200 OK in 6ms (Views: 5.8ms | ActiveRecord: 0.0ms | Allocations: 3063)


Started GET "/users/sign_in" for ::1 at 2024-05-07 21:30:17 +0900
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 1.0ms | Allocations: 151)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 5.6ms | Allocations: 961)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.2ms | Allocations: 209)
  Rendered layout layouts/application.html.erb (Duration: 13.1ms | Allocations: 3617)
Completed 200 OK in 17ms (Views: 15.0ms | ActiveRecord: 0.0ms | Allocations: 4254)


Started POST "/users/sign_in" for ::1 at 2024-05-07 21:30:21 +0900
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"name"=>"aaa", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["name", "aaa"], ["LIMIT", 1]]
Redirected to http://localhost:3000/users/2
Completed 302 Found in 265ms (ActiveRecord: 0.4ms | Allocations: 2423)


Started GET "/users/2" for ::1 at 2024-05-07 21:30:21 +0900
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:6:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-07 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:9:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-06 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:10:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-05 00:00:00"], ["created_at", "2024-05-05 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:11:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-04 00:00:00"], ["created_at", "2024-05-04 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:12:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-03 00:00:00"], ["created_at", "2024-05-03 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:13:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-02 00:00:00"], ["created_at", "2024-05-02 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:14:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-01 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:15:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" >= ? AND "books"."created_at" < ?[0m  [["user_id", 2], ["created_at", "2024-04-30 23:59:59.999999"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:22:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" >= ? AND "books"."created_at" < ?[0m  [["user_id", 2], ["created_at", "2024-04-23 23:59:59.999999"], ["created_at", "2024-04-30 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:23:in `show'
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?, ?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 6], ["book_id", 7], ["book_id", 8], ["book_id", 9]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ?[0m  [["id", 2]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 1.8ms | Allocations: 2302)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 40)
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 0.8ms | Allocations: 966)
  Rendered books/_newbook.html.erb (Duration: 1.4ms | Allocations: 1871)
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1991)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.5ms | Allocations: 1914)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.4ms | Allocations: 1914)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.3ms | Allocations: 1914)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.1ms | Allocations: 1914)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1914)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/users/_userbooks.html.erb:36
  Rendered users/_userbooks.html.erb (Duration: 20.2ms | Allocations: 26700)
  Rendered users/_book_counts.html.erb (Duration: 0.0ms | Allocations: 50)
  Rendered users/_week_book_counts.html.erb (Duration: 0.0ms | Allocations: 56)
  Rendered users/_graph.html.erb (Duration: 0.0ms | Allocations: 56)
  Rendered users/_count_search.html.erb (Duration: 0.0ms | Allocations: 38)
  Rendered users/show.html.erb within layouts/application (Duration: 25.0ms | Allocations: 33324)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 724)
  Rendered searches/_search_window.html.erb (Duration: 0.4ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 32.2ms | Allocations: 37922)
Completed 200 OK in 43ms (Views: 31.4ms | ActiveRecord: 1.7ms | Allocations: 51354)


Started GET "/users/2" for ::1 at 2024-05-07 21:37:50 +0900
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:6:in `show'
Completed 500 Internal Server Error in 27ms (ActiveRecord: 0.7ms | Allocations: 16777)


  
NameError (undefined local variable or method `is_impressionable' for Book:Class):
  
app/models/book.rb:2:in `<class:Book>'
app/models/book.rb:1:in `<main>'
app/controllers/users_controller.rb:9:in `show'
Started GET "/users/2" for ::1 at 2024-05-07 21:39:53 +0900
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:6:in `show'
Completed 500 Internal Server Error in 44ms (ActiveRecord: 0.3ms | Allocations: 9050)


  
NameError (undefined local variable or method `is_impressionable' for Book:Class):
  
app/models/book.rb:2:in `<class:Book>'
app/models/book.rb:1:in `<main>'
app/controllers/users_controller.rb:9:in `show'
Started GET "/users/2" for ::1 at 2024-05-07 21:39:54 +0900
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:6:in `show'
Completed 500 Internal Server Error in 27ms (ActiveRecord: 0.4ms | Allocations: 6961)


  
NameError (undefined local variable or method `is_impressionable' for Book:Class):
  
app/models/book.rb:2:in `<class:Book>'
app/models/book.rb:1:in `<main>'
app/controllers/users_controller.rb:9:in `show'
Started GET "/users/2" for ::1 at 2024-05-07 21:40:01 +0900
  [1m[35m (0.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:6:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-07 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:9:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-06 00:00:00"], ["created_at", "2024-05-06 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:10:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-05 00:00:00"], ["created_at", "2024-05-05 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:11:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-04 00:00:00"], ["created_at", "2024-05-04 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:12:in `show'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-03 00:00:00"], ["created_at", "2024-05-03 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:13:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-02 00:00:00"], ["created_at", "2024-05-02 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:14:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" BETWEEN ? AND ?[0m  [["user_id", 2], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-01 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:15:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" >= ? AND "books"."created_at" < ?[0m  [["user_id", 2], ["created_at", "2024-04-30 23:59:59.999999"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:22:in `show'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ? AND "books"."created_at" >= ? AND "books"."created_at" < ?[0m  [["user_id", 2], ["created_at", "2024-04-23 23:59:59.999999"], ["created_at", "2024-04-30 23:59:59.999999"]]
  ↳ app/controllers/users_controller.rb:23:in `show'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?, ?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 6], ["book_id", 7], ["book_id", 8], ["book_id", 9]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ?[0m  [["id", 2]]
  ↳ app/controllers/users_controller.rb:30:in `sort'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 5.1ms | Allocations: 7311)
  Rendered users/_follow_btn.html.erb (Duration: 0.7ms | Allocations: 252)
  [1m[36mRelationship Load (0.1ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 2.3ms | Allocations: 1483)
  Rendered books/_newbook.html.erb (Duration: 24.2ms | Allocations: 12246)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 3.1ms | Allocations: 3053)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.4ms | Allocations: 1943)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.4ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.4ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.4ms | Allocations: 1911)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/users/_userbooks.html.erb:36
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/_userbooks.html.erb:18
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.4ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/users/_userbooks.html.erb:36
  Rendered users/_userbooks.html.erb (Duration: 22.8ms | Allocations: 30833)
  Rendered users/_book_counts.html.erb (Duration: 0.7ms | Allocations: 372)
  Rendered users/_week_book_counts.html.erb (Duration: 0.5ms | Allocations: 241)
  Rendered users/_graph.html.erb (Duration: 0.3ms | Allocations: 313)
  Rendered users/_count_search.html.erb (Duration: 0.3ms | Allocations: 181)
  Rendered users/show.html.erb within layouts/application (Duration: 66.6ms | Allocations: 57185)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 1.3ms | Allocations: 1334)
  Rendered searches/_search_window.html.erb (Duration: 1.4ms | Allocations: 2049)
  Rendered layout layouts/application.html.erb (Duration: 79.4ms | Allocations: 63716)
Completed 200 OK in 139ms (Views: 80.9ms | ActiveRecord: 4.0ms | Allocations: 113228)


Started GET "/books" for ::1 at 2024-05-07 21:40:10 +0900
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/books_controller.rb:32:in `sort'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3], ["book_id", 4], ["book_id", 5], ["book_id", 6], ["book_id", 7], ["book_id", 8], ["book_id", 9]]
  ↳ app/controllers/books_controller.rb:32:in `sort'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 2], ["id", 3]]
  ↳ app/controllers/books_controller.rb:32:in `sort'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 5], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 9], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 5], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 9], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 2], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 9], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 8], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 7], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 6], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 5], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35m (2.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 4], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 3], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 2], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 9], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 2], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 2.8ms | Allocations: 2784)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 43)
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.0ms | Allocations: 981)
  Rendered books/_newbook.html.erb (Duration: 1.6ms | Allocations: 2131)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1994)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:52
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(DISTINCT "impressions"."session_hash") FROM "impressions" WHERE "impressions"."impressionable_id" = ? AND "impressions"."impressionable_type" = ?[0m  [["impressionable_id", 1], ["impressionable_type", "Book"]]
  ↳ app/views/books/_index.html.erb:55
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1955)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:52
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(DISTINCT "impressions"."session_hash") FROM "impressions" WHERE "impressions"."impressionable_id" = ? AND "impressions"."impressionable_type" = ?[0m  [["impressionable_id", 7], ["impressionable_type", "Book"]]
  ↳ app/views/books/_index.html.erb:55
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.2ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:52
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(DISTINCT "impressions"."session_hash") FROM "impressions" WHERE "impressions"."impressionable_id" = ? AND "impressions"."impressionable_type" = ?[0m  [["impressionable_id", 8], ["impressionable_type", "Book"]]
  ↳ app/views/books/_index.html.erb:55
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.5ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:52
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(DISTINCT "impressions"."session_hash") FROM "impressions" WHERE "impressions"."impressionable_id" = ? AND "impressions"."impressionable_type" = ?[0m  [["impressionable_id", 3], ["impressionable_type", "Book"]]
  ↳ app/views/books/_index.html.erb:55
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:52
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(DISTINCT "impressions"."session_hash") FROM "impressions" WHERE "impressions"."impressionable_id" = ? AND "impressions"."impressionable_type" = ?[0m  [["impressionable_id", 4], ["impressionable_type", "Book"]]
  ↳ app/views/books/_index.html.erb:55
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:52
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(DISTINCT "impressions"."session_hash") FROM "impressions" WHERE "impressions"."impressionable_id" = ? AND "impressions"."impressionable_type" = ?[0m  [["impressionable_id", 5], ["impressionable_type", "Book"]]
  ↳ app/views/books/_index.html.erb:55
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:52
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(DISTINCT "impressions"."session_hash") FROM "impressions" WHERE "impressions"."impressionable_id" = ? AND "impressions"."impressionable_type" = ?[0m  [["impressionable_id", 6], ["impressionable_type", "Book"]]
  ↳ app/views/books/_index.html.erb:55
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.4ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:52
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(DISTINCT "impressions"."session_hash") FROM "impressions" WHERE "impressions"."impressionable_id" = ? AND "impressions"."impressionable_type" = ?[0m  [["impressionable_id", 2], ["impressionable_type", "Book"]]
  ↳ app/views/books/_index.html.erb:55
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.4ms | Allocations: 1982)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:52
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(DISTINCT "impressions"."session_hash") FROM "impressions" WHERE "impressions"."impressionable_id" = ? AND "impressions"."impressionable_type" = ?[0m  [["impressionable_id", 9], ["impressionable_type", "Book"]]
  ↳ app/views/books/_index.html.erb:55
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:79
  Rendered books/_index.html.erb (Duration: 60.9ms | Allocations: 77707)
  Rendered books/index.html.erb within layouts/application (Duration: 67.8ms | Allocations: 84546)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 758)
  Rendered searches/_search_window.html.erb (Duration: 0.4ms | Allocations: 1666)
  Rendered layout layouts/application.html.erb (Duration: 71.6ms | Allocations: 89301)
Completed 200 OK in 103ms (Views: 69.3ms | ActiveRecord: 6.6ms | Allocations: 118762)


Started GET "/books/1" for ::1 at 2024-05-07 21:40:13 +0900
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:43:in `show'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:44:in `show'
  [1m[36mImpression Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "impressions" WHERE "impressions"."impressionable_id" = ? AND "impressions"."impressionable_type" = ? AND "impressions"."session_hash" IS NULL LIMIT ?[0m  [["impressionable_id", 1], ["impressionable_type", "Book"], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:47:in `show'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:47:in `show'
  [1m[36mImpression Create (0.6ms)[0m  [1m[32mINSERT INTO "impressions" ("impressionable_type", "impressionable_id", "user_id", "controller_name", "action_name", "request_hash", "ip_address", "session_hash", "referrer", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["impressionable_type", "Book"], ["impressionable_id", 1], ["user_id", 2], ["controller_name", "books"], ["action_name", "show"], ["request_hash", "2c7d7c6f77f153c9214229934cd3cae429e4acadc2b86fe61ebd33ae8ac3cdbd"], ["ip_address", "::1"], ["session_hash", "ab6d516a620668e710eb0e91aa7671db"], ["referrer", "http://localhost:3000/books"], ["created_at", "2024-05-07 12:40:13.240593"], ["updated_at", "2024-05-07 12:40:13.240593"]]
  ↳ app/controllers/books_controller.rb:47:in `show'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/books_controller.rb:47:in `show'
  Rendering layout layouts/application.html.erb
  Rendering books/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 2.4ms | Allocations: 2457)
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/show.html.erb:40
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1903)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/book_comments/_count.html.erb:1
  Rendered book_comments/_count.html.erb (Duration: 1.2ms | Allocations: 935)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(DISTINCT "impressions"."session_hash") FROM "impressions" WHERE "impressions"."impressionable_id" = ? AND "impressions"."impressionable_type" = ?[0m  [["impressionable_id", 1], ["impressionable_type", "Book"]]
  ↳ app/views/books/show.html.erb:51
  [1m[36mBookComment Load (0.1ms)[0m  [1m[34mSELECT "book_comments".* FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/book_comments/_comment.html.erb:1
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/book_comments/_comment.html.erb:5
  Rendered book_comments/_comment.html.erb (Duration: 2.8ms | Allocations: 2913)
  Rendered books/show.html.erb within layouts/application (Duration: 13.4ms | Allocations: 13446)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 735)
  Rendered searches/_search_window.html.erb (Duration: 0.2ms | Allocations: 1656)
  Rendered layout layouts/application.html.erb (Duration: 16.6ms | Allocations: 18150)
Completed 200 OK in 49ms (Views: 16.4ms | ActiveRecord: 2.8ms | Allocations: 44957)


Started GET "/books" for ::1 at 2024-05-07 21:40:17 +0900
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/books_controller.rb:32:in `sort'
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3], ["book_id", 4], ["book_id", 5], ["book_id", 6], ["book_id", 7], ["book_id", 8], ["book_id", 9]]
  ↳ app/controllers/books_controller.rb:32:in `sort'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 2], ["id", 3]]
  ↳ app/controllers/books_controller.rb:32:in `sort'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 5], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 9], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 5], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 9], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 2], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 9], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 8], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 7], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 6], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 5], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 4], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 3], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 2], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 9], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 2], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 3.0ms | Allocations: 2325)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 40)
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 1.4ms | Allocations: 965)
  Rendered books/_newbook.html.erb (Duration: 2.4ms | Allocations: 2008)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 1986)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:52
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(DISTINCT "impressions"."session_hash") FROM "impressions" WHERE "impressions"."impressionable_id" = ? AND "impressions"."impressionable_type" = ?[0m  [["impressionable_id", 1], ["impressionable_type", "Book"]]
  ↳ app/views/books/_index.html.erb:55
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.0ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:52
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(DISTINCT "impressions"."session_hash") FROM "impressions" WHERE "impressions"."impressionable_id" = ? AND "impressions"."impressionable_type" = ?[0m  [["impressionable_id", 7], ["impressionable_type", "Book"]]
  ↳ app/views/books/_index.html.erb:55
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:52
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(DISTINCT "impressions"."session_hash") FROM "impressions" WHERE "impressions"."impressionable_id" = ? AND "impressions"."impressionable_type" = ?[0m  [["impressionable_id", 8], ["impressionable_type", "Book"]]
  ↳ app/views/books/_index.html.erb:55
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1909)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:52
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(DISTINCT "impressions"."session_hash") FROM "impressions" WHERE "impressions"."impressionable_id" = ? AND "impressions"."impressionable_type" = ?[0m  [["impressionable_id", 3], ["impressionable_type", "Book"]]
  ↳ app/views/books/_index.html.erb:55
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:52
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(DISTINCT "impressions"."session_hash") FROM "impressions" WHERE "impressions"."impressionable_id" = ? AND "impressions"."impressionable_type" = ?[0m  [["impressionable_id", 4], ["impressionable_type", "Book"]]
  ↳ app/views/books/_index.html.erb:55
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.0ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:52
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(DISTINCT "impressions"."session_hash") FROM "impressions" WHERE "impressions"."impressionable_id" = ? AND "impressions"."impressionable_type" = ?[0m  [["impressionable_id", 5], ["impressionable_type", "Book"]]
  ↳ app/views/books/_index.html.erb:55
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.2ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:52
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(DISTINCT "impressions"."session_hash") FROM "impressions" WHERE "impressions"."impressionable_id" = ? AND "impressions"."impressionable_type" = ?[0m  [["impressionable_id", 6], ["impressionable_type", "Book"]]
  ↳ app/views/books/_index.html.erb:55
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:52
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(DISTINCT "impressions"."session_hash") FROM "impressions" WHERE "impressions"."impressionable_id" = ? AND "impressions"."impressionable_type" = ?[0m  [["impressionable_id", 2], ["impressionable_type", "Book"]]
  ↳ app/views/books/_index.html.erb:55
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.0ms | Allocations: 1982)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:52
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(DISTINCT "impressions"."session_hash") FROM "impressions" WHERE "impressions"."impressionable_id" = ? AND "impressions"."impressionable_type" = ?[0m  [["impressionable_id", 9], ["impressionable_type", "Book"]]
  ↳ app/views/books/_index.html.erb:55
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:79
  Rendered books/_index.html.erb (Duration: 62.0ms | Allocations: 65675)
  Rendered books/index.html.erb within layouts/application (Duration: 69.2ms | Allocations: 71370)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 724)
  Rendered searches/_search_window.html.erb (Duration: 0.3ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 76.6ms | Allocations: 76064)
Completed 200 OK in 118ms (Views: 74.1ms | ActiveRecord: 5.0ms | Allocations: 104343)


Started GET "/books/7" for ::1 at 2024-05-07 21:40:19 +0900
Processing by BooksController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:43:in `show'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:44:in `show'
  [1m[36mImpression Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "impressions" WHERE "impressions"."impressionable_id" = ? AND "impressions"."impressionable_type" = ? AND "impressions"."session_hash" IS NULL LIMIT ?[0m  [["impressionable_id", 7], ["impressionable_type", "Book"], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:47:in `show'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:47:in `show'
  [1m[36mImpression Create (0.3ms)[0m  [1m[32mINSERT INTO "impressions" ("impressionable_type", "impressionable_id", "user_id", "controller_name", "action_name", "request_hash", "ip_address", "session_hash", "referrer", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["impressionable_type", "Book"], ["impressionable_id", 7], ["user_id", 2], ["controller_name", "books"], ["action_name", "show"], ["request_hash", "50bdda17cb686c759c8e858f3e47f10b99d5687e830781782ce05943836fc701"], ["ip_address", "::1"], ["session_hash", "ab6d516a620668e710eb0e91aa7671db"], ["referrer", "http://localhost:3000/books"], ["created_at", "2024-05-07 12:40:19.423651"], ["updated_at", "2024-05-07 12:40:19.423651"]]
  ↳ app/controllers/books_controller.rb:47:in `show'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/books_controller.rb:47:in `show'
  Rendering layout layouts/application.html.erb
  Rendering books/show.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 4.3ms | Allocations: 2299)
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/show.html.erb:40
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 3.1ms | Allocations: 1886)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/book_comments/_count.html.erb:1
  Rendered book_comments/_count.html.erb (Duration: 1.0ms | Allocations: 848)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(DISTINCT "impressions"."session_hash") FROM "impressions" WHERE "impressions"."impressionable_id" = ? AND "impressions"."impressionable_type" = ?[0m  [["impressionable_id", 7], ["impressionable_type", "Book"]]
  ↳ app/views/books/show.html.erb:51
  [1m[36mBookComment Load (0.0ms)[0m  [1m[34mSELECT "book_comments".* FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/book_comments/_comment.html.erb:1
  Rendered book_comments/_comment.html.erb (Duration: 0.7ms | Allocations: 770)
  Rendered books/show.html.erb within layouts/application (Duration: 13.8ms | Allocations: 9424)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.2ms | Allocations: 723)
  Rendered searches/_search_window.html.erb (Duration: 0.3ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 16.9ms | Allocations: 14117)
Completed 200 OK in 40ms (Views: 16.4ms | ActiveRecord: 3.2ms | Allocations: 22023)


Started GET "/books" for ::1 at 2024-05-07 21:40:27 +0900
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/controllers/books_controller.rb:32:in `sort'
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."book_id" IN (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["book_id", 1], ["book_id", 2], ["book_id", 3], ["book_id", 4], ["book_id", 5], ["book_id", 6], ["book_id", 7], ["book_id", 8], ["book_id", 9]]
  ↳ app/controllers/books_controller.rb:32:in `sort'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?)[0m  [["id", 2], ["id", 3]]
  ↳ app/controllers/books_controller.rb:32:in `sort'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 5], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 9], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 5], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 9], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 2], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 9], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 8], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 7], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 6], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 5], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 4], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 3], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 1], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 2], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 9], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:33:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "favorites" ON "users"."id" = "favorites"."user_id" WHERE "favorites"."book_id" = ? AND "users"."created_at" >= ? AND "users"."created_at" < ?[0m  [["book_id", 2], ["created_at", "2024-05-01 00:00:00"], ["created_at", "2024-05-07 23:59:59.999999"]]
  ↳ app/controllers/books_controller.rb:34:in `block in index'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/_list.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/_list.html.erb:21
  Rendered users/_list.html.erb (Duration: 2.1ms | Allocations: 2299)
  Rendered users/_follow_btn.html.erb (Duration: 0.0ms | Allocations: 40)
  [1m[36mRelationship Load (0.0ms)[0m  [1m[34mSELECT "relationships".* FROM "relationships" WHERE "relationships"."followed_id" = ? AND "relationships"."follower_id" = ? LIMIT ?[0m  [["followed_id", 2], ["follower_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:32:in `followed_by?'
  Rendered users/_chat_btn.html.erb (Duration: 0.9ms | Allocations: 964)
  Rendered books/_newbook.html.erb (Duration: 1.5ms | Allocations: 1882)
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.7ms | Allocations: 1981)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:52
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(DISTINCT "impressions"."session_hash") FROM "impressions" WHERE "impressions"."impressionable_id" = ? AND "impressions"."impressionable_type" = ?[0m  [["impressionable_id", 1], ["impressionable_type", "Book"]]
  ↳ app/views/books/_index.html.erb:55
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.0ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:52
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(DISTINCT "impressions"."session_hash") FROM "impressions" WHERE "impressions"."impressionable_id" = ? AND "impressions"."impressionable_type" = ?[0m  [["impressionable_id", 7], ["impressionable_type", "Book"]]
  ↳ app/views/books/_index.html.erb:55
  [1m[36mTag Load (0.1ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 7]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:52
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(DISTINCT "impressions"."session_hash") FROM "impressions" WHERE "impressions"."impressionable_id" = ? AND "impressions"."impressionable_type" = ?[0m  [["impressionable_id", 8], ["impressionable_type", "Book"]]
  ↳ app/views/books/_index.html.erb:55
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 8]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.9ms | Allocations: 1909)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:52
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(DISTINCT "impressions"."session_hash") FROM "impressions" WHERE "impressions"."impressionable_id" = ? AND "impressions"."impressionable_type" = ?[0m  [["impressionable_id", 3], ["impressionable_type", "Book"]]
  ↳ app/views/books/_index.html.erb:55
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 3]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:52
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(DISTINCT "impressions"."session_hash") FROM "impressions" WHERE "impressions"."impressionable_id" = ? AND "impressions"."impressionable_type" = ?[0m  [["impressionable_id", 4], ["impressionable_type", "Book"]]
  ↳ app/views/books/_index.html.erb:55
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 4]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 2.1ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:52
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(DISTINCT "impressions"."session_hash") FROM "impressions" WHERE "impressions"."impressionable_id" = ? AND "impressions"."impressionable_type" = ?[0m  [["impressionable_id", 5], ["impressionable_type", "Book"]]
  ↳ app/views/books/_index.html.erb:55
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 5]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/favorites/_like.html.erb:3
  Rendered favorites/_like.html.erb (Duration: 1.6ms | Allocations: 1910)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:52
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(DISTINCT "impressions"."session_hash") FROM "impressions" WHERE "impressions"."impressionable_id" = ? AND "impressions"."impressionable_type" = ?[0m  [["impressionable_id", 6], ["impressionable_type", "Book"]]
  ↳ app/views/books/_index.html.erb:55
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 6]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 2.0ms | Allocations: 1910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:52
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(DISTINCT "impressions"."session_hash") FROM "impressions" WHERE "impressions"."impressionable_id" = ? AND "impressions"."impressionable_type" = ?[0m  [["impressionable_id", 2], ["impressionable_type", "Book"]]
  ↳ app/views/books/_index.html.erb:55
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 2]]
  ↳ app/views/books/_index.html.erb:79
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:28
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_index.html.erb:44
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/models/user.rb:28:in `liked_by?'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/favorites/_like.html.erb:7
  Rendered favorites/_like.html.erb (Duration: 1.8ms | Allocations: 1982)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:52
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(DISTINCT "impressions"."session_hash") FROM "impressions" WHERE "impressions"."impressionable_id" = ? AND "impressions"."impressionable_type" = ?[0m  [["impressionable_id", 9], ["impressionable_type", "Book"]]
  ↳ app/views/books/_index.html.erb:55
  [1m[36mTag Load (0.0ms)[0m  [1m[34mSELECT "tags".* FROM "tags" INNER JOIN "tag_books" ON "tags"."id" = "tag_books"."tag_id" WHERE "tag_books"."book_id" = ?[0m  [["book_id", 9]]
  ↳ app/views/books/_index.html.erb:79
  Rendered books/_index.html.erb (Duration: 54.9ms | Allocations: 65648)
  Rendered books/index.html.erb within layouts/application (Duration: 59.8ms | Allocations: 71190)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 724)
  Rendered searches/_search_window.html.erb (Duration: 0.2ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 62.9ms | Allocations: 75884)
Completed 200 OK in 97ms (Views: 60.4ms | ActiveRecord: 4.8ms | Allocations: 103843)


Started GET "/" for 127.0.0.1 at 2024-05-08 09:04:29 +0900
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by HomesController#top as HTML
  Rendering layout layouts/application.html.erb
  Rendering homes/top.html.erb within layouts/application
  Rendered homes/top.html.erb within layouts/application (Duration: 2.0ms | Allocations: 579)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/_header.html.erb:9
  Rendered layouts/_header.html.erb (Duration: 10.3ms | Allocations: 9655)
  Rendered searches/_search_window.html.erb (Duration: 7.8ms | Allocations: 2095)
  Rendered layout layouts/application.html.erb (Duration: 33.4ms | Allocations: 15764)
Completed 200 OK in 49ms (Views: 40.6ms | ActiveRecord: 0.6ms | Allocations: 20573)


Started GET "/tests/top" for 127.0.0.1 at 2024-05-08 09:05:03 +0900
  
ActionController::RoutingError (No route matches [GET] "/tests/top"):
  
Started GET "/tests/top" for 127.0.0.1 at 2024-05-08 09:05:35 +0900
  
ActionController::RoutingError (No route matches [GET] "/tests/top"):
  
Started GET "/tests/top" for 127.0.0.1 at 2024-05-08 09:06:06 +0900
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [GET] "/tests/top"):
  
Started GET "/tests/top" for 127.0.0.1 at 2024-05-08 09:06:08 +0900
  
ActionController::RoutingError (No route matches [GET] "/tests/top"):
  
Started GET "/tests/app" for ::1 at 2024-05-08 09:06:48 +0900
  [1m[35m (0.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by TestsController#app as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering tests/app.html.erb within layouts/application
  Rendered tests/app.html.erb within layouts/application (Duration: 0.9ms | Allocations: 922)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 3.0ms | Allocations: 1699)
  Rendered searches/_search_window.html.erb (Duration: 10.8ms | Allocations: 2095)
  Rendered layout layouts/application.html.erb (Duration: 42.3ms | Allocations: 12579)
Completed 200 OK in 62ms (Views: 45.8ms | ActiveRecord: 0.7ms | Allocations: 26366)


Started GET "/tests/app" for ::1 at 2024-05-08 09:07:55 +0900
Processing by TestsController#app as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering tests/app.html.erb within layouts/application
  Rendered tests/app.html.erb within layouts/application (Duration: 0.1ms | Allocations: 42)
[Webpacker] Compiling...
Started GET "/tests/app" for ::1 at 2024-05-08 09:07:56 +0900
Processing by TestsController#app as HTML
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering tests/app.html.erb within layouts/application
  Rendered tests/app.html.erb within layouts/application (Duration: 0.1ms | Allocations: 42)
[Webpacker] Compiling...
[Webpacker] Compiled all packs in /Users/maedaryuutarou/RubymineProjects/swiper_app/public/packs
[Webpacker] DEPRECATION WARNING: Using / for division outside of calc() is deprecated and will be removed in Dart Sass 2.0.0.

Recommendation: math.div($spacer, 2) or calc($spacer / 2)

More info and automated migrator: https://sass-lang.com/d/slash-div

    ╷
302 │ $headings-margin-bottom:      $spacer / 2 !default;
    │                               ^^^^^^^^^^^
    ╵
    node_modules/bootstrap/scss/_variables.scss 302:31  @import
    node_modules/bootstrap/scss/bootstrap.scss 9:9      @import
    app/javascript/stylesheets/application.scss 1:9     root stylesheet

DEPRECATION WARNING: Using / for division outside of calc() is deprecated and will be removed in Dart Sass 2.0.0.

Recommendation: math.div($input-padding-y, 2) or calc($input-padding-y / 2)

More info and automated migrator: https://sass-lang.com/d/slash-div

    ╷
498 │ $input-height-inner-quarter:            add($input-line-height * .25em, $input-padding-y / 2) !default;
    │                                                                         ^^^^^^^^^^^^^^^^^^^^
    ╵
    node_modules/bootstrap/scss/_variables.scss 498:73  @import
    node_modules/bootstrap/scss/bootstrap.scss 9:9      @import
    app/javascript/stylesheets/application.scss 1:9     root stylesheet

DEPRECATION WARNING: Using / for division outside of calc() is deprecated and will be removed in Dart Sass 2.0.0.

Recommendation: math.div($custom-control-indicator-size, 2) or calc($custom-control-indicator-size / 2)

More info and automated migrator: https://sass-lang.com/d/slash-div

    ╷
568 │ $custom-switch-indicator-border-radius:         $custom-control-indicator-size / 2 !default;
    │                                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ╵
    node_modules/bootstrap/scss/_variables.scss 568:49  @import
    node_modules/bootstrap/scss/bootstrap.scss 9:9      @import
    app/javascript/stylesheets/application.scss 1:9     root stylesheet

DEPRECATION WARNING: Using / for division outside of calc() is deprecated and will be removed in Dart Sass 2.0.0.

Recommendation: math.div($spacer, 2) or calc($spacer / 2)

More info and automated migrator: https://sass-lang.com/d/slash-div

    ╷
713 │ $nav-divider-margin-y:              $spacer / 2 !default;
    │                                     ^^^^^^^^^^^
    ╵
    node_modules/bootstrap/scss/_variables.scss 713:37  @import
    node_modules/bootstrap/scss/bootstrap.scss 9:9      @import
    app/javascript/stylesheets/application.scss 1:9     root stylesheet

DEPRECATION WARNING: Using / for division outside of calc() is deprecated and will be removed in Dart Sass 2.0.0.

Recommendation: math.div($spacer, 2) or calc($spacer / 2)

More info and automated migrator: https://sass-lang.com/d/slash-div

    ╷
718 │ $navbar-padding-y:                  $spacer / 2 !default;
    │                                     ^^^^^^^^^^^
    ╵
    node_modules/bootstrap/scss/_variables.scss 718:37  @import
    node_modules/bootstrap/scss/bootstrap.scss 9:9      @import
    app/javascript/stylesheets/application.scss 1:9     root stylesheet

WARNING: 67 repetitive deprecation warnings omitted.


[Webpacker] Hash: 3ebf7bd62685ce6a2c72
Version: webpack 4.47.0
Time: 2225ms
Built at: 05/08/2024 9:07:59 AM
                                     Asset       Size       Chunks                         Chunk Names
    js/application-23961026bb1cab6c3bdd.js   3.31 MiB  application  [emitted] [immutable]  application
js/application-23961026bb1cab6c3bdd.js.map   3.47 MiB  application  [emitted] [dev]        application
                             manifest.json  364 bytes               [emitted]              
Entrypoint application = js/application-23961026bb1cab6c3bdd.js js/application-23961026bb1cab6c3bdd.js.map
[./app/javascript/channels sync recursive _channel\.js$] ./app/javascript/channels sync _channel\.js$ 160 bytes {application} [built]
[./app/javascript/channels/index.js] 211 bytes {application} [built]
[./app/javascript/packs/application.js] 948 bytes {application} [built]
[./app/javascript/raty.js] 23.7 KiB {application} [built]
[./app/javascript/script.js] 57 bytes {application} [built]
[./app/javascript/stylesheets/application.scss] 664 bytes {application} [built]
[./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/sass-loader/dist/cjs.js?!./app/javascript/stylesheets/application.scss] ./node_modules/css-loader/dist/cjs.js??ref--6-1!./node_modules/postcss-loader/src??ref--6-2!./node_modules/sass-loader/dist/cjs.js??ref--6-3!./app/javascript/stylesheets/application.scss 1.01 MiB {application} [built]
[./node_modules/webpack/buildin/global.js] (webpack)/buildin/global.js 474 bytes {application} [built]
    + 123 hidden modules

  Rendered layouts/_header.html.erb (Duration: 1.0ms | Allocations: 776)
  Rendered searches/_search_window.html.erb (Duration: 0.5ms | Allocations: 1656)
  Rendered layout layouts/application.html.erb (Duration: 3150.9ms | Allocations: 5757)
Completed 200 OK in 3156ms (Views: 3151.2ms | ActiveRecord: 1.4ms | Allocations: 8858)


[Webpacker] Compiled all packs in /Users/maedaryuutarou/RubymineProjects/swiper_app/public/packs
[Webpacker] Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-transform-private-property-in-object since the "loose" mode option was set to "true" for @babel/plugin-transform-class-properties.
The "loose" option must be the same for @babel/plugin-transform-class-properties, @babel/plugin-transform-private-methods and @babel/plugin-transform-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-transform-private-property-in-object", { "loose": true }]
to the "plugins" section of your Babel config.

If you already set the same 'loose' mode for these plugins in your config, it's possible that they are enabled multiple times with different options.
You can re-run Babel with the BABEL_SHOW_CONFIG_FOR environment variable to show the loaded configuration:
	npx cross-env BABEL_SHOW_CONFIG_FOR=/Users/maedaryuutarou/RubymineProjects/swiper_app/app/javascript/packs/application.js <your build command>
See https://babeljs.io/docs/configuration#print-effective-configs for more info.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-transform-private-methods since the "loose" mode option was set to "true" for @babel/plugin-transform-private-property-in-object.
The "loose" option must be the same for @babel/plugin-transform-class-properties, @babel/plugin-transform-private-methods and @babel/plugin-transform-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-transform-private-methods", { "loose": true }]
to the "plugins" section of your Babel config.

If you already set the same 'loose' mode for these plugins in your config, it's possible that they are enabled multiple times with different options.
You can re-run Babel with the BABEL_SHOW_CONFIG_FOR environment variable to show the loaded configuration:
	npx cross-env BABEL_SHOW_CONFIG_FOR=/Users/maedaryuutarou/RubymineProjects/swiper_app/app/javascript/packs/application.js <your build command>
See https://babeljs.io/docs/configuration#print-effective-configs for more info.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-transform-private-property-in-object since the "loose" mode option was set to "true" for @babel/plugin-transform-class-properties.
The "loose" option must be the same for @babel/plugin-transform-class-properties, @babel/plugin-transform-private-methods and @babel/plugin-transform-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-transform-private-property-in-object", { "loose": true }]
to the "plugins" section of your Babel config.

If you already set the same 'loose' mode for these plugins in your config, it's possible that they are enabled multiple times with different options.
You can re-run Babel with the BABEL_SHOW_CONFIG_FOR environment variable to show the loaded configuration:
	npx cross-env BABEL_SHOW_CONFIG_FOR=/Users/maedaryuutarou/RubymineProjects/swiper_app/app/javascript/script.js <your build command>
See https://babeljs.io/docs/configuration#print-effective-configs for more info.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-transform-private-methods since the "loose" mode option was set to "true" for @babel/plugin-transform-private-property-in-object.
The "loose" option must be the same for @babel/plugin-transform-class-properties, @babel/plugin-transform-private-methods and @babel/plugin-transform-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-transform-private-methods", { "loose": true }]
to the "plugins" section of your Babel config.

If you already set the same 'loose' mode for these plugins in your config, it's possible that they are enabled multiple times with different options.
You can re-run Babel with the BABEL_SHOW_CONFIG_FOR environment variable to show the loaded configuration:
	npx cross-env BABEL_SHOW_CONFIG_FOR=/Users/maedaryuutarou/RubymineProjects/swiper_app/app/javascript/script.js <your build command>
See https://babeljs.io/docs/configuration#print-effective-configs for more info.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-transform-private-property-in-object since the "loose" mode option was set to "true" for @babel/plugin-transform-class-properties.
The "loose" option must be the same for @babel/plugin-transform-class-properties, @babel/plugin-transform-private-methods and @babel/plugin-transform-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-transform-private-property-in-object", { "loose": true }]
to the "plugins" section of your Babel config.

If you already set the same 'loose' mode for these plugins in your config, it's possible that they are enabled multiple times with different options.
You can re-run Babel with the BABEL_SHOW_CONFIG_FOR environment variable to show the loaded configuration:
	npx cross-env BABEL_SHOW_CONFIG_FOR=/Users/maedaryuutarou/RubymineProjects/swiper_app/app/javascript/raty.js <your build command>
See https://babeljs.io/docs/configuration#print-effective-configs for more info.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-transform-private-methods since the "loose" mode option was set to "true" for @babel/plugin-transform-private-property-in-object.
The "loose" option must be the same for @babel/plugin-transform-class-properties, @babel/plugin-transform-private-methods and @babel/plugin-transform-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-transform-private-methods", { "loose": true }]
to the "plugins" section of your Babel config.

If you already set the same 'loose' mode for these plugins in your config, it's possible that they are enabled multiple times with different options.
You can re-run Babel with the BABEL_SHOW_CONFIG_FOR environment variable to show the loaded configuration:
	npx cross-env BABEL_SHOW_CONFIG_FOR=/Users/maedaryuutarou/RubymineProjects/swiper_app/app/javascript/raty.js <your build command>
See https://babeljs.io/docs/configuration#print-effective-configs for more info.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-transform-private-property-in-object since the "loose" mode option was set to "true" for @babel/plugin-transform-class-properties.
The "loose" option must be the same for @babel/plugin-transform-class-properties, @babel/plugin-transform-private-methods and @babel/plugin-transform-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-transform-private-property-in-object", { "loose": true }]
to the "plugins" section of your Babel config.

If you already set the same 'loose' mode for these plugins in your config, it's possible that they are enabled multiple times with different options.
You can re-run Babel with the BABEL_SHOW_CONFIG_FOR environment variable to show the loaded configuration:
	npx cross-env BABEL_SHOW_CONFIG_FOR=/Users/maedaryuutarou/RubymineProjects/swiper_app/app/javascript/channels/index.js <your build command>
See https://babeljs.io/docs/configuration#print-effective-configs for more info.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-transform-private-methods since the "loose" mode option was set to "true" for @babel/plugin-transform-private-property-in-object.
The "loose" option must be the same for @babel/plugin-transform-class-properties, @babel/plugin-transform-private-methods and @babel/plugin-transform-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-transform-private-methods", { "loose": true }]
to the "plugins" section of your Babel config.

If you already set the same 'loose' mode for these plugins in your config, it's possible that they are enabled multiple times with different options.
You can re-run Babel with the BABEL_SHOW_CONFIG_FOR environment variable to show the loaded configuration:
	npx cross-env BABEL_SHOW_CONFIG_FOR=/Users/maedaryuutarou/RubymineProjects/swiper_app/app/javascript/channels/index.js <your build command>
See https://babeljs.io/docs/configuration#print-effective-configs for more info.
DEPRECATION WARNING: Using / for division outside of calc() is deprecated and will be removed in Dart Sass 2.0.0.

Recommendation: math.div($spacer, 2) or calc($spacer / 2)

More info and automated migrator: https://sass-lang.com/d/slash-div

    ╷
302 │ $headings-margin-bottom:      $spacer / 2 !default;
    │                               ^^^^^^^^^^^
    ╵
    node_modules/bootstrap/scss/_variables.scss 302:31  @import
    node_modules/bootstrap/scss/bootstrap.scss 9:9      @import
    app/javascript/stylesheets/application.scss 1:9     root stylesheet

DEPRECATION WARNING: Using / for division outside of calc() is deprecated and will be removed in Dart Sass 2.0.0.

Recommendation: math.div($input-padding-y, 2) or calc($input-padding-y / 2)

More info and automated migrator: https://sass-lang.com/d/slash-div

    ╷
498 │ $input-height-inner-quarter:            add($input-line-height * .25em, $input-padding-y / 2) !default;
    │                                                                         ^^^^^^^^^^^^^^^^^^^^
    ╵
    node_modules/bootstrap/scss/_variables.scss 498:73  @import
    node_modules/bootstrap/scss/bootstrap.scss 9:9      @import
    app/javascript/stylesheets/application.scss 1:9     root stylesheet

DEPRECATION WARNING: Using / for division outside of calc() is deprecated and will be removed in Dart Sass 2.0.0.

Recommendation: math.div($custom-control-indicator-size, 2) or calc($custom-control-indicator-size / 2)

More info and automated migrator: https://sass-lang.com/d/slash-div

    ╷
568 │ $custom-switch-indicator-border-radius:         $custom-control-indicator-size / 2 !default;
    │                                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ╵
    node_modules/bootstrap/scss/_variables.scss 568:49  @import
    node_modules/bootstrap/scss/bootstrap.scss 9:9      @import
    app/javascript/stylesheets/application.scss 1:9     root stylesheet

DEPRECATION WARNING: Using / for division outside of calc() is deprecated and will be removed in Dart Sass 2.0.0.

Recommendation: math.div($spacer, 2) or calc($spacer / 2)

More info and automated migrator: https://sass-lang.com/d/slash-div

    ╷
713 │ $nav-divider-margin-y:              $spacer / 2 !default;
    │                                     ^^^^^^^^^^^
    ╵
    node_modules/bootstrap/scss/_variables.scss 713:37  @import
    node_modules/bootstrap/scss/bootstrap.scss 9:9      @import
    app/javascript/stylesheets/application.scss 1:9     root stylesheet

DEPRECATION WARNING: Using / for division outside of calc() is deprecated and will be removed in Dart Sass 2.0.0.

Recommendation: math.div($spacer, 2) or calc($spacer / 2)

More info and automated migrator: https://sass-lang.com/d/slash-div

    ╷
718 │ $navbar-padding-y:                  $spacer / 2 !default;
    │                                     ^^^^^^^^^^^
    ╵
    node_modules/bootstrap/scss/_variables.scss 718:37  @import
    node_modules/bootstrap/scss/bootstrap.scss 9:9      @import
    app/javascript/stylesheets/application.scss 1:9     root stylesheet

WARNING: 67 repetitive deprecation warnings omitted.


[Webpacker] Hash: 3ebf7bd62685ce6a2c72
Version: webpack 4.47.0
Time: 3080ms
Built at: 05/08/2024 9:07:59 AM
                                     Asset       Size       Chunks                         Chunk Names
    js/application-23961026bb1cab6c3bdd.js   3.31 MiB  application  [emitted] [immutable]  application
js/application-23961026bb1cab6c3bdd.js.map   3.47 MiB  application  [emitted] [dev]        application
                             manifest.json  364 bytes               [emitted]              
Entrypoint application = js/application-23961026bb1cab6c3bdd.js js/application-23961026bb1cab6c3bdd.js.map
[./app/javascript/channels sync recursive _channel\.js$] ./app/javascript/channels sync _channel\.js$ 160 bytes {application} [built]
[./app/javascript/channels/index.js] 211 bytes {application} [built]
[./app/javascript/packs/application.js] 948 bytes {application} [built]
[./app/javascript/raty.js] 23.7 KiB {application} [built]
[./app/javascript/script.js] 57 bytes {application} [built]
[./app/javascript/stylesheets/application.scss] 664 bytes {application} [built]
[./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/sass-loader/dist/cjs.js?!./app/javascript/stylesheets/application.scss] ./node_modules/css-loader/dist/cjs.js??ref--6-1!./node_modules/postcss-loader/src??ref--6-2!./node_modules/sass-loader/dist/cjs.js??ref--6-3!./app/javascript/stylesheets/application.scss 1.01 MiB {application} [built]
[./node_modules/webpack/buildin/global.js] (webpack)/buildin/global.js 474 bytes {application} [built]
    + 123 hidden modules

  Rendered layouts/_header.html.erb (Duration: 0.4ms | Allocations: 742)
  Rendered searches/_search_window.html.erb (Duration: 0.6ms | Allocations: 1647)
  Rendered layout layouts/application.html.erb (Duration: 4700.5ms | Allocations: 18035)
Completed 200 OK in 4709ms (Views: 4700.9ms | ActiveRecord: 0.5ms | Allocations: 19933)


Started GET "/tests/app" for ::1 at 2024-05-08 09:09:27 +0900
Processing by TestsController#app as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering tests/app.html.erb within layouts/application
  Rendered tests/app.html.erb within layouts/application (Duration: 0.6ms | Allocations: 150)
[Webpacker] Compiling...
[Webpacker] Compiled all packs in /Users/maedaryuutarou/RubymineProjects/swiper_app/public/packs
[Webpacker] Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-transform-private-property-in-object since the "loose" mode option was set to "true" for @babel/plugin-transform-class-properties.
The "loose" option must be the same for @babel/plugin-transform-class-properties, @babel/plugin-transform-private-methods and @babel/plugin-transform-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-transform-private-property-in-object", { "loose": true }]
to the "plugins" section of your Babel config.

If you already set the same 'loose' mode for these plugins in your config, it's possible that they are enabled multiple times with different options.
You can re-run Babel with the BABEL_SHOW_CONFIG_FOR environment variable to show the loaded configuration:
	npx cross-env BABEL_SHOW_CONFIG_FOR=/Users/maedaryuutarou/RubymineProjects/swiper_app/app/javascript/script.js <your build command>
See https://babeljs.io/docs/configuration#print-effective-configs for more info.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-transform-private-methods since the "loose" mode option was set to "true" for @babel/plugin-transform-private-property-in-object.
The "loose" option must be the same for @babel/plugin-transform-class-properties, @babel/plugin-transform-private-methods and @babel/plugin-transform-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-transform-private-methods", { "loose": true }]
to the "plugins" section of your Babel config.

If you already set the same 'loose' mode for these plugins in your config, it's possible that they are enabled multiple times with different options.
You can re-run Babel with the BABEL_SHOW_CONFIG_FOR environment variable to show the loaded configuration:
	npx cross-env BABEL_SHOW_CONFIG_FOR=/Users/maedaryuutarou/RubymineProjects/swiper_app/app/javascript/script.js <your build command>
See https://babeljs.io/docs/configuration#print-effective-configs for more info.
DEPRECATION WARNING: Using / for division outside of calc() is deprecated and will be removed in Dart Sass 2.0.0.

Recommendation: math.div($spacer, 2) or calc($spacer / 2)

More info and automated migrator: https://sass-lang.com/d/slash-div

    ╷
302 │ $headings-margin-bottom:      $spacer / 2 !default;
    │                               ^^^^^^^^^^^
    ╵
    node_modules/bootstrap/scss/_variables.scss 302:31  @import
    node_modules/bootstrap/scss/bootstrap.scss 9:9      @import
    app/javascript/stylesheets/application.scss 1:9     root stylesheet

DEPRECATION WARNING: Using / for division outside of calc() is deprecated and will be removed in Dart Sass 2.0.0.

Recommendation: math.div($input-padding-y, 2) or calc($input-padding-y / 2)

More info and automated migrator: https://sass-lang.com/d/slash-div

    ╷
498 │ $input-height-inner-quarter:            add($input-line-height * .25em, $input-padding-y / 2) !default;
    │                                                                         ^^^^^^^^^^^^^^^^^^^^
    ╵
    node_modules/bootstrap/scss/_variables.scss 498:73  @import
    node_modules/bootstrap/scss/bootstrap.scss 9:9      @import
    app/javascript/stylesheets/application.scss 1:9     root stylesheet

DEPRECATION WARNING: Using / for division outside of calc() is deprecated and will be removed in Dart Sass 2.0.0.

Recommendation: math.div($custom-control-indicator-size, 2) or calc($custom-control-indicator-size / 2)

More info and automated migrator: https://sass-lang.com/d/slash-div

    ╷
568 │ $custom-switch-indicator-border-radius:         $custom-control-indicator-size / 2 !default;
    │                                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ╵
    node_modules/bootstrap/scss/_variables.scss 568:49  @import
    node_modules/bootstrap/scss/bootstrap.scss 9:9      @import
    app/javascript/stylesheets/application.scss 1:9     root stylesheet

DEPRECATION WARNING: Using / for division outside of calc() is deprecated and will be removed in Dart Sass 2.0.0.

Recommendation: math.div($spacer, 2) or calc($spacer / 2)

More info and automated migrator: https://sass-lang.com/d/slash-div

    ╷
713 │ $nav-divider-margin-y:              $spacer / 2 !default;
    │                                     ^^^^^^^^^^^
    ╵
    node_modules/bootstrap/scss/_variables.scss 713:37  @import
    node_modules/bootstrap/scss/bootstrap.scss 9:9      @import
    app/javascript/stylesheets/application.scss 1:9     root stylesheet

DEPRECATION WARNING: Using / for division outside of calc() is deprecated and will be removed in Dart Sass 2.0.0.

Recommendation: math.div($spacer, 2) or calc($spacer / 2)

More info and automated migrator: https://sass-lang.com/d/slash-div

    ╷
718 │ $navbar-padding-y:                  $spacer / 2 !default;
    │                                     ^^^^^^^^^^^
    ╵
    node_modules/bootstrap/scss/_variables.scss 718:37  @import
    node_modules/bootstrap/scss/bootstrap.scss 9:9      @import
    app/javascript/stylesheets/application.scss 1:9     root stylesheet

WARNING: 67 repetitive deprecation warnings omitted.


[Webpacker] Hash: 6956f7d213f4f0abbee6
Version: webpack 4.47.0
Time: 1977ms
Built at: 05/08/2024 9:09:30 AM
                                     Asset       Size       Chunks                         Chunk Names
    js/application-f4d477b439a014323a32.js   3.31 MiB  application  [emitted] [immutable]  application
js/application-f4d477b439a014323a32.js.map   3.47 MiB  application  [emitted] [dev]        application
                             manifest.json  364 bytes               [emitted]              
Entrypoint application = js/application-f4d477b439a014323a32.js js/application-f4d477b439a014323a32.js.map
[./app/javascript/channels sync recursive _channel\.js$] ./app/javascript/channels sync _channel\.js$ 160 bytes {application} [built]
[./app/javascript/channels/index.js] 211 bytes {application} [built]
[./app/javascript/packs/application.js] 948 bytes {application} [built]
[./app/javascript/raty.js] 23.7 KiB {application} [built]
[./app/javascript/script.js] 173 bytes {application} [built]
[./app/javascript/stylesheets/application.scss] 664 bytes {application} [built]
[./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/sass-loader/dist/cjs.js?!./app/javascript/stylesheets/application.scss] ./node_modules/css-loader/dist/cjs.js??ref--6-1!./node_modules/postcss-loader/src??ref--6-2!./node_modules/sass-loader/dist/cjs.js??ref--6-3!./app/javascript/stylesheets/application.scss 1.01 MiB {application} [built]
[./node_modules/webpack/buildin/global.js] (webpack)/buildin/global.js 474 bytes {application} [built]
    + 123 hidden modules

  Rendered layouts/_header.html.erb (Duration: 1.8ms | Allocations: 1381)
  Rendered searches/_search_window.html.erb (Duration: 0.9ms | Allocations: 1863)
  Rendered layout layouts/application.html.erb (Duration: 3226.0ms | Allocations: 7302)
Completed 200 OK in 3242ms (Views: 3229.4ms | ActiveRecord: 0.4ms | Allocations: 10050)


Started GET "/tests/app" for ::1 at 2024-05-08 09:11:27 +0900
Processing by TestsController#app as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering tests/app.html.erb within layouts/application
  Rendered tests/app.html.erb within layouts/application (Duration: 14.5ms | Allocations: 6379)
  Rendered layout layouts/application.html.erb (Duration: 14.7ms | Allocations: 6471)
Completed 500 Internal Server Error in 25ms (ActiveRecord: 0.2ms | Allocations: 9372)


  
ActionView::Template::Error (The asset "nature-1.jpg" is not present in the asset pipeline.
):
    4: <div class="swiper">
    5:   <div class="swiper-wrapper">
    6:     <div class="swiper-slide">
    7:       <%= image_tag 'nature-1.jpg' %>
    8:     </div>
    9:     <div class="swiper-slide">
   10:       <%= image_tag 'nature-2.jpg' %>
  
app/views/tests/app.html.erb:7
Started GET "/tests/app" for ::1 at 2024-05-08 09:12:36 +0900
Processing by TestsController#app as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering tests/app.html.erb within layouts/application
  Rendered tests/app.html.erb within layouts/application (Duration: 75.2ms | Allocations: 26113)
[Webpacker] Compiling...
[Webpacker] Compiled all packs in /Users/maedaryuutarou/RubymineProjects/swiper_app/public/packs
[Webpacker] Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-transform-private-property-in-object since the "loose" mode option was set to "true" for @babel/plugin-transform-class-properties.
The "loose" option must be the same for @babel/plugin-transform-class-properties, @babel/plugin-transform-private-methods and @babel/plugin-transform-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-transform-private-property-in-object", { "loose": true }]
to the "plugins" section of your Babel config.

If you already set the same 'loose' mode for these plugins in your config, it's possible that they are enabled multiple times with different options.
You can re-run Babel with the BABEL_SHOW_CONFIG_FOR environment variable to show the loaded configuration:
	npx cross-env BABEL_SHOW_CONFIG_FOR=/Users/maedaryuutarou/RubymineProjects/swiper_app/app/javascript/packs/application.js <your build command>
See https://babeljs.io/docs/configuration#print-effective-configs for more info.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-transform-private-methods since the "loose" mode option was set to "true" for @babel/plugin-transform-private-property-in-object.
The "loose" option must be the same for @babel/plugin-transform-class-properties, @babel/plugin-transform-private-methods and @babel/plugin-transform-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-transform-private-methods", { "loose": true }]
to the "plugins" section of your Babel config.

If you already set the same 'loose' mode for these plugins in your config, it's possible that they are enabled multiple times with different options.
You can re-run Babel with the BABEL_SHOW_CONFIG_FOR environment variable to show the loaded configuration:
	npx cross-env BABEL_SHOW_CONFIG_FOR=/Users/maedaryuutarou/RubymineProjects/swiper_app/app/javascript/packs/application.js <your build command>
See https://babeljs.io/docs/configuration#print-effective-configs for more info.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-transform-private-property-in-object since the "loose" mode option was set to "true" for @babel/plugin-transform-class-properties.
The "loose" option must be the same for @babel/plugin-transform-class-properties, @babel/plugin-transform-private-methods and @babel/plugin-transform-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-transform-private-property-in-object", { "loose": true }]
to the "plugins" section of your Babel config.

If you already set the same 'loose' mode for these plugins in your config, it's possible that they are enabled multiple times with different options.
You can re-run Babel with the BABEL_SHOW_CONFIG_FOR environment variable to show the loaded configuration:
	npx cross-env BABEL_SHOW_CONFIG_FOR=/Users/maedaryuutarou/RubymineProjects/swiper_app/app/javascript/script.js <your build command>
See https://babeljs.io/docs/configuration#print-effective-configs for more info.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-transform-private-methods since the "loose" mode option was set to "true" for @babel/plugin-transform-private-property-in-object.
The "loose" option must be the same for @babel/plugin-transform-class-properties, @babel/plugin-transform-private-methods and @babel/plugin-transform-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-transform-private-methods", { "loose": true }]
to the "plugins" section of your Babel config.

If you already set the same 'loose' mode for these plugins in your config, it's possible that they are enabled multiple times with different options.
You can re-run Babel with the BABEL_SHOW_CONFIG_FOR environment variable to show the loaded configuration:
	npx cross-env BABEL_SHOW_CONFIG_FOR=/Users/maedaryuutarou/RubymineProjects/swiper_app/app/javascript/script.js <your build command>
See https://babeljs.io/docs/configuration#print-effective-configs for more info.
DEPRECATION WARNING: Using / for division outside of calc() is deprecated and will be removed in Dart Sass 2.0.0.

Recommendation: math.div($spacer, 2) or calc($spacer / 2)

More info and automated migrator: https://sass-lang.com/d/slash-div

    ╷
302 │ $headings-margin-bottom:      $spacer / 2 !default;
    │                               ^^^^^^^^^^^
    ╵
    node_modules/bootstrap/scss/_variables.scss 302:31  @import
    node_modules/bootstrap/scss/bootstrap.scss 9:9      @import
    app/javascript/stylesheets/application.scss 1:9     root stylesheet

DEPRECATION WARNING: Using / for division outside of calc() is deprecated and will be removed in Dart Sass 2.0.0.

Recommendation: math.div($input-padding-y, 2) or calc($input-padding-y / 2)

More info and automated migrator: https://sass-lang.com/d/slash-div

    ╷
498 │ $input-height-inner-quarter:            add($input-line-height * .25em, $input-padding-y / 2) !default;
    │                                                                         ^^^^^^^^^^^^^^^^^^^^
    ╵
    node_modules/bootstrap/scss/_variables.scss 498:73  @import
    node_modules/bootstrap/scss/bootstrap.scss 9:9      @import
    app/javascript/stylesheets/application.scss 1:9     root stylesheet

DEPRECATION WARNING: Using / for division outside of calc() is deprecated and will be removed in Dart Sass 2.0.0.

Recommendation: math.div($custom-control-indicator-size, 2) or calc($custom-control-indicator-size / 2)

More info and automated migrator: https://sass-lang.com/d/slash-div

    ╷
568 │ $custom-switch-indicator-border-radius:         $custom-control-indicator-size / 2 !default;
    │                                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ╵
    node_modules/bootstrap/scss/_variables.scss 568:49  @import
    node_modules/bootstrap/scss/bootstrap.scss 9:9      @import
    app/javascript/stylesheets/application.scss 1:9     root stylesheet

DEPRECATION WARNING: Using / for division outside of calc() is deprecated and will be removed in Dart Sass 2.0.0.

Recommendation: math.div($spacer, 2) or calc($spacer / 2)

More info and automated migrator: https://sass-lang.com/d/slash-div

    ╷
713 │ $nav-divider-margin-y:              $spacer / 2 !default;
    │                                     ^^^^^^^^^^^
    ╵
    node_modules/bootstrap/scss/_variables.scss 713:37  @import
    node_modules/bootstrap/scss/bootstrap.scss 9:9      @import
    app/javascript/stylesheets/application.scss 1:9     root stylesheet

DEPRECATION WARNING: Using / for division outside of calc() is deprecated and will be removed in Dart Sass 2.0.0.

Recommendation: math.div($spacer, 2) or calc($spacer / 2)

More info and automated migrator: https://sass-lang.com/d/slash-div

    ╷
718 │ $navbar-padding-y:                  $spacer / 2 !default;
    │                                     ^^^^^^^^^^^
    ╵
    node_modules/bootstrap/scss/_variables.scss 718:37  @import
    node_modules/bootstrap/scss/bootstrap.scss 9:9      @import
    app/javascript/stylesheets/application.scss 1:9     root stylesheet

WARNING: 67 repetitive deprecation warnings omitted.


[Webpacker] Hash: 7c69903cb5b1c8243a64
Version: webpack 4.47.0
Time: 2462ms
Built at: 05/08/2024 9:12:39 AM
                                     Asset       Size       Chunks                         Chunk Names
    js/application-0223b677d8e043edd488.js   3.67 MiB  application  [emitted] [immutable]  application
js/application-0223b677d8e043edd488.js.map   3.89 MiB  application  [emitted] [dev]        application
                             manifest.json  364 bytes               [emitted]              
Entrypoint application = js/application-0223b677d8e043edd488.js js/application-0223b677d8e043edd488.js.map
[./app/javascript/channels sync recursive _channel\.js$] ./app/javascript/channels sync _channel\.js$ 160 bytes {application} [built]
[./app/javascript/channels/index.js] 211 bytes {application} [built]
[./app/javascript/packs/application.js] 1.03 KiB {application} [built]
[./app/javascript/raty.js] 23.7 KiB {application} [built]
[./app/javascript/script.js] 537 bytes {application} [built]
[./app/javascript/stylesheets/application.scss] 664 bytes {application} [built]
[./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/sass-loader/dist/cjs.js?!./app/javascript/stylesheets/application.scss] ./node_modules/css-loader/dist/cjs.js??ref--6-1!./node_modules/postcss-loader/src??ref--6-2!./node_modules/sass-loader/dist/cjs.js??ref--6-3!./app/javascript/stylesheets/application.scss 1.01 MiB {application} [built]
[./node_modules/webpack/buildin/global.js] (webpack)/buildin/global.js 474 bytes {application} [built]
    + 126 hidden modules

  Rendered layouts/_header.html.erb (Duration: 1.6ms | Allocations: 1369)
  Rendered searches/_search_window.html.erb (Duration: 0.7ms | Allocations: 1863)
  Rendered layout layouts/application.html.erb (Duration: 3838.4ms | Allocations: 33142)
Completed 200 OK in 3849ms (Views: 3838.7ms | ActiveRecord: 0.3ms | Allocations: 35006)


Started GET "/tests/app" for ::1 at 2024-05-08 09:14:06 +0900
Processing by TestsController#app as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering tests/app.html.erb within layouts/application
  Rendered tests/app.html.erb within layouts/application (Duration: 4.0ms | Allocations: 2298)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.7ms | Allocations: 743)
  Rendered searches/_search_window.html.erb (Duration: 3.6ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 16.4ms | Allocations: 7024)
Completed 200 OK in 21ms (Views: 16.8ms | ActiveRecord: 0.2ms | Allocations: 8677)


Started GET "/tests/app" for ::1 at 2024-05-08 09:14:15 +0900
  [1m[35m (0.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by TestsController#app as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering tests/app.html.erb within layouts/application
  Rendered tests/app.html.erb within layouts/application (Duration: 32.8ms | Allocations: 14111)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 2.1ms | Allocations: 1698)
  Rendered searches/_search_window.html.erb (Duration: 1.4ms | Allocations: 2095)
  Rendered layout layouts/application.html.erb (Duration: 41.3ms | Allocations: 21325)
Completed 200 OK in 58ms (Views: 44.4ms | ActiveRecord: 0.6ms | Allocations: 35875)


Started GET "/tests/app" for ::1 at 2024-05-08 09:14:16 +0900
Processing by TestsController#app as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering tests/app.html.erb within layouts/application
  Rendered tests/app.html.erb within layouts/application (Duration: 5.8ms | Allocations: 2408)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.5ms | Allocations: 776)
  Rendered searches/_search_window.html.erb (Duration: 0.3ms | Allocations: 1656)
  Rendered layout layouts/application.html.erb (Duration: 18.8ms | Allocations: 7229)
Completed 200 OK in 26ms (Views: 19.3ms | ActiveRecord: 0.2ms | Allocations: 9144)


Started GET "/tests/app" for ::1 at 2024-05-08 09:14:33 +0900
Processing by TestsController#app as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering tests/app.html.erb within layouts/application
  Rendered tests/app.html.erb within layouts/application (Duration: 1.5ms | Allocations: 2307)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.3ms | Allocations: 743)
  Rendered searches/_search_window.html.erb (Duration: 0.3ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 5.4ms | Allocations: 7033)
Completed 200 OK in 7ms (Views: 5.6ms | ActiveRecord: 0.1ms | Allocations: 8682)


Started GET "/tests/app" for ::1 at 2024-05-08 09:14:34 +0900
Processing by TestsController#app as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering tests/app.html.erb within layouts/application
  Rendered tests/app.html.erb within layouts/application (Duration: 4.1ms | Allocations: 2662)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 1.2ms | Allocations: 1379)
  Rendered searches/_search_window.html.erb (Duration: 0.8ms | Allocations: 1863)
  Rendered layout layouts/application.html.erb (Duration: 9.8ms | Allocations: 8875)
Completed 200 OK in 23ms (Views: 13.6ms | ActiveRecord: 0.6ms | Allocations: 11623)


Started GET "/tests/app" for ::1 at 2024-05-08 09:14:34 +0900
Processing by TestsController#app as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering tests/app.html.erb within layouts/application
  Rendered tests/app.html.erb within layouts/application (Duration: 7.6ms | Allocations: 2298)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 0.4ms | Allocations: 743)
  Rendered searches/_search_window.html.erb (Duration: 0.3ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 12.8ms | Allocations: 7019)
Completed 200 OK in 27ms (Views: 13.3ms | ActiveRecord: 0.4ms | Allocations: 8865)


Started GET "/tests/app" for ::1 at 2024-05-08 09:31:09 +0900
Processing by TestsController#app as HTML
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering tests/app.html.erb within layouts/application
  Rendered tests/app.html.erb within layouts/application (Duration: 4.2ms | Allocations: 2660)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_header.html.erb (Duration: 1.7ms | Allocations: 1380)
  Rendered searches/_search_window.html.erb (Duration: 1.0ms | Allocations: 1863)
  Rendered layout layouts/application.html.erb (Duration: 29.3ms | Allocations: 17437)
Completed 200 OK in 40ms (Views: 32.2ms | ActiveRecord: 1.4ms | Allocations: 21360)


